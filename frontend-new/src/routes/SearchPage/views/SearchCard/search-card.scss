@import "style/colors";

.search-card {
    box-sizing: border-box;
    width: 100%;
    max-width: 100%;
    min-width: 0;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: linear-gradient(155deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;

    &:hover,
    &:focus-within {
        transform: translateY(-2px);
        border-color: rgba(79, 93, 234, 0.45);
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.24);
    }

    &__link {
        display: block;
        color: $newText3;
        text-decoration: none;
        width: 100%;
        max-width: 100%;
        min-width: 0;

        .ButtonView,
        .AppButtonView,
        .ButtonView__link {
            width: 100%;
            max-width: 100%;
            min-width: 0;
            display: block;
        }

        .AppButtonView__link {
            width: 100%;
            max-width: 100%;
            min-width: 0;
            display: block;
        }

        .ButtonView__text {
            width: 100%;
            max-width: 100%;
            min-width: 0;
            min-height: 220px;
            display: grid;
            grid-template-columns: minmax(118px, 34%) minmax(0, 1fr);
            align-items: stretch;
        }

        .AppButtonView__text {
            width: 100%;
            max-width: 100%;
            min-width: 0;
            min-height: 220px;
            display: grid;
            grid-template-columns: minmax(118px, 34%) minmax(0, 1fr);
            align-items: stretch;
        }

        &:focus-visible {
            outline: none;
        }
    }

    &__poster {
        width: 100%;
        height: 100%;
        min-height: 220px;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        background-color: rgba(255, 255, 255, 0.05);
        display: block;
        object-fit: cover;
    }

    &__poster-placeholder {
        width: 100%;
        height: 100%;
        min-height: 220px;
        background:
            linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.02)),
            rgba(255, 255, 255, 0.05);
    }

    &__body {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 8px;
        padding: 12px;
        background: rgba(0, 0, 0, 0.1);
        min-width: 0;
        min-height: 0;
    }

    &__body-main {
        display: flex;
        flex-direction: column;
        gap: 8px;
        min-height: 0;
    }

    &__name {
        margin: 0;
        font-size: 1.08rem;
        line-height: 1.3;
        color: $newText3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        overflow-wrap: anywhere;
        word-break: break-word;
    }

    &__date {
        margin: 0;
        color: $newText2;
        font-size: 0.88rem;
        font-weight: 500;
    }

    &__details {
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    &__detail-row {
        margin: 0;
        font-size: 0.9rem;
        line-height: 1.35;
        color: $newText2;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        overflow-wrap: anywhere;
        word-break: break-word;
    }

    &_media &__detail-row_overview {
        -webkit-line-clamp: 6;
    }

    &__detail-title {
        color: $newText3;
        font-weight: 600;
    }

    @media (max-width: 760px) {
        &,
        &__link,
        &__body,
        &__body-main,
        &__details {
            max-width: 100%;
            min-width: 0;
        }

        &__link .ButtonView__text,
        &__link .AppButtonView__text {
            grid-template-columns: 1fr;
        }

        &__poster {
            min-height: 180px;
        }

        &__poster-placeholder {
            min-height: 180px;
        }

        &__link .ButtonView__text,
        &__link .AppButtonView__text {
            min-height: auto;
        }

        // Movies/shows look better as compact horizontal cards on mobile.
        &_media &__link .ButtonView__text,
        &_media &__link .AppButtonView__text {
            grid-template-columns: 96px minmax(0, 1fr);
            min-height: 144px;
        }

        &_media &__poster,
        &_media &__poster-placeholder {
            min-height: 144px;
            height: 144px;
        }

        &_media &__body {
            padding: 10px;
            gap: 6px;
        }

        &_media &__name {
            font-size: 0.98rem;
            -webkit-line-clamp: 2;
        }

        &_media &__detail-row {
            font-size: 0.84rem;
            line-height: 1.3;
        }

        &_media &__detail-row_overview {
            -webkit-line-clamp: 4;
        }

        &_media &__date {
            font-size: 0.8rem;
        }
    }
}
