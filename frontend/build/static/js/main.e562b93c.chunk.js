(this.webpackJsonpinterests=this.webpackJsonpinterests||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},144:function(e,t,n){},242:function(e,t,n){},265:function(e,t,n){},294:function(e,t,n){},46:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n(1),a=n.n(s),c=n(21),o=n.n(c),i=(n(239),n(240),n(241),n(242),n(17)),u=n(13),l=n(192),d=n(193),b=n(211),j=n(210),p=n(20),h=n(15),f=(n(121),"SET_USER"),m="SET_AUTH",g="SET_LOGINFORM",O="SET_REGISTRATEFORM",x="SET_RESET_PASSWORD_FORM",v="SET_CONTENT_GAME",w="SET_CONTENT_GAME_USERINFO",_="SET_CONTENT_GAME_FRIENDS",S="SET_CONTENT_MOVIE",y="SET_CONTENT_MOVIE_USERINFO",k="SET_CONTENT_MOVIE_FRIENDS",I="SET_CONTENT_SHOW",N="SET_CONTENT_SHOW_USERINFO",E="SET_CONTENT_SHOW_FRIENDS",C="SET_SEARCH_CONTENT_GAMES",R="SET_SEARCH_CONTENT_MOVIES",L="SET_SEARCH_CONTENT_SHOWS",T="SET_SEARCH_CONTENT_USERS",F="SET_USER_PAGE_CONTENT",A="SET_USER_PAGE_FOLLOWING",B="SET_USER_PAGE_LOGs",P="SET_USER_PAGE_FRIENDS_LOGS",D="SET_IS_LOADING_CONTENT_GAME",U="SET_IS_LOADING_CONTENT_GAME_FRIENDS",z="SET_IS_LOADING_CONTENT_MOVIE",G="SET_IS_LOADING_CONTENT_MOVIE_FRIENDS",M="SET_IS_LOADING_CONTENT_SHOW",q="SET_IS_LOADING_CONTENT_SHOW_FRIENDS",H="SET_IS_LOADING_SEARCH_GAMES",X="SET_IS_LOADING_SEARCH_MOVIES",W="SET_IS_LOADING_SEARCH_SHOWS",K="SET_IS_LOADING_SEARCH_USERS",V="SET_IS_LOADING_USER_PAGE_CONTENT",J="SET_IS_LOADING_USER_PAGE_LOGS",Q="SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS",$="AUTH_ERROR",Y="REGISTRATE_ERROR",Z="GAME_REQUEST_ERROR",ee="MOVIE_REQUEST_ERROR",te="SHOW_REQUEST_ERROR",ne="USER_PAGE_ERROR",re="RESET_PASSWORD_ERROR",se="CONFIRM_PASSWORD_ERROR",ae=n(38),ce=Object(ae.a)({auth:{loggedIn:!1},user:{username:"",email:"",id:null},content:{game:{main_info:{rawg:{name:"",background_image:"",background_image_additional:"",developers:[{}]},hltb:{game_image_url:""},user_info:{status:null,review:"",score:0,spent_time:0}},friends_info:{friends_info:[]}},movie:{main_info:{tmdb:{title:"",poster_path:"",developers:[{}]},user_info:{status:null,review:"",score:0,spent_time:0}},friends_info:{friends_info:[]}},show:{main_info:{tmdb:{title:"",poster_path:"",developers:[{}],episode_run_time:[]},user_info:{status:null,review:"",score:0,spent_time:0}},friends_info:{friends_info:[]}}},searchContent:{games:[],movies:[],shows:[],users:[]},userPageContent:{user:{stats:{}},userLogs:{log:[]},userFriendsLogs:{log:[]}},openedPages:{LoginForm:!1,RegistrateForm:!1,ResetPasswordForm:!1},errors:{auth:!1,registrate:!1,gameRequest:!1,movieRequest:!1,userPage:!1,resetPassword:!1,confirmPassword:!1},isLoading:{contentGame:!1,contentGameFriends:!1,contentMovie:!1,contentMovieFriends:!1,contentShow:!1,contentShowFriends:!1,userPageContent:!1,userPageLogs:!1,userPageFriendsLogs:!1,searchGames:!1,searchMovies:!1,searchShows:!1,searchUsers:!1}});function oe(e){return e.get("auth").loggedIn}function ie(e){return e.get("user")}function ue(e){return e.get("content").game.main_info}function le(e){return e.get("content").game.friends_info}function de(e){return e.get("content").movie.main_info}function be(e){return e.get("content").movie.friends_info}function je(e){return e.get("content").show.main_info}function pe(e){return e.get("content").show.friends_info}function he(e){return e.get("searchContent").games}function fe(e){return e.get("searchContent").movies}function me(e){return e.get("searchContent").shows}function ge(e){return e.get("searchContent").users}function Oe(e){return e.get("errors").auth}function xe(e){return e.get("errors").registrate}function ve(e){return e.get("errors").gameRequest}function we(e){return e.get("errors").movieRequest}function _e(e){return e.get("errors").showRequest}function Se(e){return e.get("errors").resetPassword}function ye(e){return e.get("errors").confirmPassword}function ke(e){return e.get("openedPages").LoginForm}function Ie(e){return e.get("openedPages").RegistrateForm}function Ne(e){return e.get("openedPages").ResetPasswordForm}function Ee(e){return e.get("isLoading").contentGame}function Ce(e){return e.get("isLoading").contentGameFriends}function Re(e){return e.get("isLoading").contentMovie}function Le(e){return e.get("isLoading").contentMovieFriends}function Te(e){return e.get("isLoading").contentShow}function Fe(e){return e.get("isLoading").contentShowFriends}function Ae(e){return e.get("isLoading").searchGames}function Be(e){return e.get("isLoading").searchMovies}function Pe(e){return e.get("isLoading").searchShows}function De(e){return e.get("isLoading").searchUsers}function Ue(e){return e.get("isLoading").userPageContent}function ze(e){return e.get("isLoading").userPageLogs}function Ge(e){return e.get("isLoading").userPageFriendsLogs}function Me(e){return e.get("userPageContent").user}function qe(e){return e.get("userPageContent").userLogs}function He(e){return e.get("userPageContent").userFriendsLogs}var Xe=Object(u.b)((function(e){return{user:ie(e)}}),(function(){return{}}))((function(e){var t=e.user;return Object(r.jsxs)("div",{className:"bg",children:[Object(r.jsx)("h2",{style:{marginTop:"70px",marginLeft:"30px"},children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 Interests!"}),Object(r.jsxs)("h4",{style:{marginLeft:"30px"},children:["\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0435\u0449\u0451 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u0430, \u043e\u0434\u043d\u0430\u043a\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f ",Object(r.jsx)("a",{href:"/search/example",style:{fontWeight:"600"},children:"\u043f\u043e\u0438\u0441\u043a\u043e\u043c"})," \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0432\u043e\u0439 ",Object(r.jsx)("a",{href:"/user/"+t.id,style:{fontWeight:"600"},children:"\u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),", \u0435\u0441\u043b\u0438 \u0432\u044b \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b"]}),Object(r.jsx)("img",{src:"images/cool.jpg",style:{marginLeft:"20px"},alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})]})})),We=n(6),Ke=n(4),Ve=(n(265),n(22)),Je=n.n(Ve),Qe=n(23),$e=n(5),Ye=n.n($e),Ze=n(9),et=n(11),tt=n.n(et),nt=n(64),rt=n.n(nt),st="http://35.193.124.214:8001/",at=st+"users/auth/login/",ct=st+"users/auth/refresh-token/",ot=st+"users/auth/signup/",it=st+"users/auth/confirm_email/",ut=st+"users/user/password_reset/",lt=st+"users/user/confirm_password_reset/",dt=st+"games/game/",bt=st+"games/search/",jt=st+"movies/movie/",pt=st+"movies/search/",ht=st+"shows/show/",ft=st+"shows/search/",mt=st+"users/user/",gt=st+"users/search/",Ot={headers:{"Content-Type":"application/json;charset=UTF-8"}};function xt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(Ze.a)(Ye.a.mark((function e(t,n){var r,s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.post(at,{username:t,password:n},Ot);case 3:return r=e.sent,s=rt()(r.data.access),a={username:s.username,id:s.user_id,email:s.email},e.abrupt("return",{token:r.data.access,refreshToken:r.data.refresh,user:a});case 9:return e.prev=9,e.t0=e.catch(0),console.log("axios error: "+e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function wt(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(Ze.a)(Ye.a.mark((function e(t){var n,r,s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"!==typeof t&null!=t)){e.next=14;break}return e.prev=1,e.next=4,tt.a.post(ct,{refresh:t},Ot);case 4:return n=e.sent,r=rt()(n.data.access),s={username:r.username,id:r.user_id,email:r.email},e.abrupt("return",{token:n.data.access,user:s});case 10:return e.prev=10,e.t0=e.catch(1),console.log("exios error: "+e.t0),e.abrupt("return",null);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function St(e,t,n){return yt.apply(this,arguments)}function yt(){return(yt=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.post(ot,{username:t,email:n,password:r},Ot);case 3:return s=e.sent,(a=s.data).status=s.status,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function kt(e,t){return It.apply(this,arguments)}function It(){return(It=Object(Ze.a)(Ye.a.mark((function e(t,n){var r;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.patch(it+"?uid64="+t+"&token="+n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Nt(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(Ze.a)(Ye.a.mark((function e(t){var n;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.put(ut,{email:t},Ot);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ct(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(Ze.a)(Ye.a.mark((function e(t,n){var r;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.patch(lt+"?reset_token="+t,{password:n},Ot);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Lt={headers:{"Content-Type":"application/json;charset=UTF-8"}};function Tt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(Ze.a)(Ye.a.mark((function e(t,n){var r,s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,tt.a.get(dt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,tt.a.get(dt+n+"/",Lt);case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function At(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(Ze.a)(Ye.a.mark((function e(t,n){var r,s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,tt.a.get(jt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,tt.a.get(jt+n+"/",Lt);case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Pt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(Ze.a)(Ye.a.mark((function e(t,n){var r,s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,tt.a.get(ht+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,tt.a.get(ht+n+"/",Lt);case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Ut(e,t,n){return zt.apply(this,arguments)}function zt(){return(zt=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a,c,o;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return a="Bearer "+t,e.next=5,tt.a.get(ht+n+"/season/"+r,{headers:{Authorization:a}});case 5:c=e.sent,s=c.data,e.next=13;break;case 9:return e.next=11,tt.a.get(ht+n+"/season/"+r,Lt);case 11:o=e.sent,s=o.data;case 13:return e.abrupt("return",s);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Gt(e,t,n,r){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s){var a,c,o,i;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return c="Bearer "+t,e.next=5,tt.a.get(ht+n+"/season/"+r+"/episode/"+s,{headers:{Authorization:c}});case 5:o=e.sent,a=o.data,e.next=13;break;case 9:return e.next=11,tt.a.get(ht+n+"/season/"+r+"/episode/"+s,Lt);case 11:i=e.sent,a=i.data;case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function qt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,tt.a.put(dt+n+"/",r,{headers:{Authorization:s}});case 4:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Xt(e,t,n){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,tt.a.put(jt+n+"/",r,{headers:{Authorization:s}});case 4:if(a=e.sent,console.log(a),204!==a.status&&200!==a.status&&201!==a.status){e.next=10;break}return e.abrupt("return",a.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Kt(e,t,n){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,tt.a.put(ht+n+"/",r,{headers:{Authorization:s}});case 4:if(a=e.sent,console.log(a),204!==a.status&&200!==a.status&&201!==a.status){e.next=10;break}return e.abrupt("return",a.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Jt(e,t,n,r){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s){var a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,tt.a.put(ht+n+"/season/"+r+"/",s,{headers:{Authorization:a}});case 4:if(c=e.sent,console.log(c),204!==c.status&&200!==c.status&&201!==c.status){e.next=10;break}return e.abrupt("return",c.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function $t(e,t,n){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,tt.a.put(ht+n+"/episodes/",r,{headers:{Authorization:s}});case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Zt(e,t,n){return en.apply(this,arguments)}function en(){return(en=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get(bt,{params:{query:t,page:n,page_size:r}},{headers:{"Content-Type":"application/json;charset=UTF-8"}});case 3:return s=e.sent,console.warn(s.data),e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(Ze.a)(Ye.a.mark((function e(t,n){var r;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get(pt,{params:{query:t,page:n}},{headers:{"Content-Type":"application/json;charset=UTF-8"}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function rn(e,t){return sn.apply(this,arguments)}function sn(){return(sn=Object(Ze.a)(Ye.a.mark((function e(t,n){var r;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get(ft,{params:{query:t,page:n}},{headers:{"Content-Type":"application/json;charset=UTF-8"}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(Ze.a)(Ye.a.mark((function e(t){var n;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get(gt,{params:{query:t}},{headers:{"Content-Type":"application/json;charset=UTF-8"}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(Ze.a)(Ye.a.mark((function e(t,n){var r,s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,tt.a.get(mt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,tt.a.get(mt+n+"/",Lt);case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function ln(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,tt.a.put(mt+r+"/follow/",n,{headers:{Authorization:s}});case 4:if(a=e.sent,console.log(a),204!==a.status&&200!==a.status&&201!==a.status){e.next=10;break}return e.abrupt("return",a.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function bn(e,t,n,r){return jn.apply(this,arguments)}function jn(){return(jn=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s){var a,c,o,i;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return c="Bearer "+t,e.next=5,tt.a.get(mt+n+"/log/",{params:{page:r,page_size:s}},{headers:{Authorization:c}});case 5:o=e.sent,a=o.data,e.next=13;break;case 9:return e.next=11,tt.a.get(mt+n+"/log/",{params:{page:r,page_size:s}},Lt);case 11:i=e.sent,a=i.data;case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function pn(e,t,n,r){return hn.apply(this,arguments)}function hn(){return(hn=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s){var a,c,o;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="Bearer "+t,e.next=4,tt.a.get(mt+n+"/friends_log/",{params:{page:r,page_size:s},headers:{Authorization:c}});case 4:return o=e.sent,a=o.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function fn(e,t,n){return mn.apply(this,arguments)}function mn(){return(mn=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,tt.a.get(dt+n+"/friends_info/",{params:{page:r},headers:{Authorization:a}});case 4:return c=e.sent,console.log(c),s=c.data,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function gn(e,t,n){return On.apply(this,arguments)}function On(){return(On=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,tt.a.get(jt+n+"/friends_info/",{params:{page:r},headers:{Authorization:a}});case 4:return c=e.sent,console.log(c),s=c.data,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function xn(e,t,n){return vn.apply(this,arguments)}function vn(){return(vn=Object(Ze.a)(Ye.a.mark((function e(t,n,r){var s,a,c;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,tt.a.get(ht+n+"/friends_info/",{params:{page:r},headers:{Authorization:a}});case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function wn(e,t,n,r){return _n.apply(this,arguments)}function _n(){return(_n=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s){var a,c,o;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="Bearer "+t,e.next=4,tt.a.get(ht+n+"/season/"+r+"/friends_info/",{params:{page:s},headers:{Authorization:c}});case 4:return o=e.sent,a=o.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Sn(e,t,n,r,s){return yn.apply(this,arguments)}function yn(){return(yn=Object(Ze.a)(Ye.a.mark((function e(t,n,r,s,a){var c,o,i;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o="Bearer "+t,e.next=4,tt.a.get(ht+n+"/season/"+r+"/episode/"+s+"/friends_info/",{params:{page:a},headers:{Authorization:o}});case 4:return i=e.sent,c=i.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function kn(){return function(){var e=Object(Ze.a)(Ye.a.mark((function e(t){var n,r,s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===localStorage.getItem("token")|Date.now()-localStorage.getItem("tokenTime")>86e6)){e.next=16;break}return e.next=3,wt(localStorage.getItem("refreshToken"));case 3:if(null===(n=e.sent)){e.next=12;break}return t({type:m,auth:{loggedIn:!0}}),t({type:f,user:n.user}),localStorage.setItem("token",n.token),localStorage.setItem("tokenTime",Date.now()),e.abrupt("return",!0);case 12:return t(In()),e.abrupt("return",!1);case 14:e.next=21;break;case 16:return r=rt()(localStorage.getItem("token")),s={username:r.username,id:r.user_id,email:r.email},t({type:f,user:s}),t({type:m,auth:{loggedIn:!0}}),e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function In(){return function(){var e=Object(Ze.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),localStorage.removeItem("tokenTime"),t({type:m,auth:{loggedIn:!1}}),t({type:f,user:{username:"",id:null,email:""}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Nn(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(kn());case 2:if(!n.sent){n.next=4;break}$t(localStorage.getItem("token"),t,e).then((function(e){204!==e.status&200!==e.status&201!==e.status&&h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function En(){return{type:g,isOpen:!0}}function Cn(e,t,n){e({type:t,isLoading:n})}function Rn(e,t,n){e({type:t,error:n})}tt.a.defaults.headers.common={"Content-Type":"application/json"};n(144);var Ln=function(e){var t=e.statuses,n=e.activeColor,a=e.onChangeStatus,c=e.userStatus,o=Object(s.useState)(""),i=Object(We.a)(o,2),u=i[0],l=i[1];return Object(s.useEffect)((function(){l(c||t[0])}),[t,c]),Object(r.jsx)("div",{children:t.map((function(e){return Object(r.jsx)("button",{className:"contentStatuses",style:{backgroundColor:u===e?n:"#000000"},onClick:function(){a(e)&&l(e)},children:e},e)}))})};function Tn(e){return 11<=e&&e<=14?"\u0447\u0430\u0441\u043e\u0432":e%10===1?"\u0447\u0430\u0441":2<=e%10&&e%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432"}var Fn=function(e){var t=e.info,n=Object(p.f)();return Object(r.jsxs)("div",{className:"fActivityBlock",children:[Object(r.jsx)("h5",{className:"fActivityUser",children:Object(r.jsx)("a",{href:window.location.origin+"/user/"+t.user.id,onClick:function(e){n.push("/user/"+t.user.id),e.preventDefault()},children:t.user.username})}),Object(r.jsxs)("div",{className:"fActivityInfo",children:[Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",title:e})})),initialRating:t.score,className:"fActivityInfoText",readonly:!0}),Object(r.jsxs)("p",{className:"fActivityInfoText",children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",t.status," "]}),Object(r.jsxs)("p",{className:"fActivityInfoText",hidden:!t.spent_time,children:["\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0434\u0435\u043d\u0438\u044f: ",t.spent_time," ",Tn(t.spent_time)]}),Object(r.jsxs)("p",{className:"fActivityInfoText",hidden:""===t.review,children:["\u041e\u0442\u0437\u044b\u0432: ",t.review]})]})]})};var An=function(e){var t=e.info;return Object(r.jsx)("div",{className:"friendsBlock",children:t.friends_info.map((function(e){return Object(r.jsx)(Fn,{info:e},e.user.id)}))})};var Bn=Object(u.b)((function(e){return{loggedIn:oe(e),requestError:ve(e),game:ue(e),gameIsLoading:Ee(e),gameFriends:le(e),gameFriendsIsLoading:Ce(e)}}),(function(e){return{requestGame:function(t){e(function(e){return function(){var t=Object(Ze.a)(Ye.a.mark((function t(n){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Cn(n,D,!0),Rn(n,Z,!1),Tt(localStorage.getItem("token"),e).then((function(e){null!=e?n({type:v,game:e}):(h.b.error("\u0418\u0433\u0440\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),Rn(n,Z,!0)),Cn(n,D,!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},requestGameFriends:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,U,!0),fn(localStorage.getItem("token"),e,t).then((function(e){null!=e?r({type:_,info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(r,U,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},openLoginForm:function(){e(En())},setGameStatus:function(t){var n;e((n=t,function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(kn());case 2:if(!e.sent){e.next=4;break}qt(localStorage.getItem("token"),ue(r()).rawg.slug,n).then((function(e){e?t({type:w,user_info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}}))((function(e){var t=e.requestGame,n=e.game,a=e.loggedIn,c=e.openLoginForm,o=e.setGameStatus,i=e.gameIsLoading,u=e.requestGameFriends,l=e.gameFriends,d=(e.gameFriendsIsLoading,Object(p.g)().id),b=Object(s.useState)(""),j=Object(We.a)(b,2),h=j[0],f=j[1],m=Object(s.useState)(""),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)(""),w=Object(We.a)(v,2),_=w[0],S=w[1],y=Object(s.useState)(0),k=Object(We.a)(y,2),I=k[0],N=k[1],E=Object(s.useState)(""),C=Object(We.a)(E,2),R=C[0],L=C[1],T=Object(s.useState)(""),F=Object(We.a)(T,2),A=F[0],B=F[1],P=Object(s.useState)({gameplay_main_extra:-1,gameplay_main:-1,gameplay_comletionist:-1}),D=Object(We.a)(P,2),U=D[0],z=D[1];return Object(s.useEffect)((function(){t(d)}),[d,t]),Object(s.useEffect)((function(){a&&u(d,1)}),[a]),Object(s.useEffect)((function(){if(n.rawg.genres){for(var e="",t=0;t<n.rawg.genres.length;t++)e+=n.rawg.genres[t].name,t!==n.rawg.genres.length-1&&(e+=", ");f(e)}if(n.rawg.metacritic?x(Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"metacritic",children:Object(r.jsx)("p",{children:n.rawg.metacritic})}),Object(r.jsx)("p",{className:"metacriticText",children:"Metascore"})]})):x(""),n.hltb?z(n.hltb):n.rawg.playtime?z({gameplay_main_extra:n.rawg.playtime,gameplay_main:-1,gameplay_completionist:-1}):z({gameplay_main_extra:-1,gameplay_main:-1,gameplay_completionist:-1}),n.user_info?(S(n.user_info.review),N(n.user_info.spent_time)):(S(""),N(0)),n.rawg.developers){for(var s="",a=0;a<n.rawg.developers.length;a++)s+=n.rawg.developers[a].name,a!==n.rawg.developers.length-1&&(s+=", ");L(s)}if(n.rawg.released){var c=n.rawg.released.split("-"),o=c[2]+"."+c[1]+"."+c[0];B(o)}else B("");document.title=n.rawg.name}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(n.rawg.background_image_additional?n.rawg.background_image_additional:n.rawg.background_image,")")}}),Object(r.jsx)(Je.a,{active:i,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"gameContentPage",children:[Object(r.jsxs)(Ke.d,{children:[Object(r.jsxs)(Ke.w,{className:"gameContentHeader rounded-top",children:[Object(r.jsx)(Ke.c,{size:"5",children:Object(r.jsx)("img",{src:n.rawg.background_image,className:"img-fluid",alt:""})}),Object(r.jsxs)(Ke.c,{size:"6",children:[Object(r.jsx)("h1",{children:n.rawg.name}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438: ",R]}),Object(r.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",A]}),Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",h]}),Object(r.jsx)("p",{style:{display:"inline"},children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "}),Object(r.jsxs)("div",{hidden:U.gameplay_main<0,style:{display:"inline"},children:[Object(r.jsx)(Ke.k,{far:!0,icon:"clock",className:"light-green-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442"}),Object(r.jsx)("span",{className:"hs"}),U.gameplay_main," ",U.gameplay_main_unit,Object(r.jsx)("span",{className:"hs"})]})," ",Object(r.jsx)("p",{style:{display:"inline"},children:" "}),Object(r.jsxs)("div",{hidden:U.gameplay_main_extra<0,style:{display:"inline"},children:[Object(r.jsx)(Ke.k,{far:!0,icon:"clock",className:"yellow-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442 + \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"}),Object(r.jsx)("span",{className:"hs"}),U.gameplay_main_extra," ",U.gameplay_main_extra_unit,Object(r.jsx)("span",{className:"hs"})]})," ",Object(r.jsx)("p",{style:{display:"inline"},children:" "}),Object(r.jsxs)("div",{hidden:U.gameplay_completionist<0,style:{display:"inline"},children:[Object(r.jsx)(Ke.k,{far:!0,icon:"clock",className:"red-text",title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435"}),Object(r.jsx)("span",{className:"hs"}),U.gameplay_completionist," ",U.gameplay_completionist_unit]})]}),Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:n.user_info?n.user_info.score:0,readonly:!a|!n.user_info,onChange:function(e){a?o({score:e}):c()},style:{marginBottom:"10px"}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(Ln,{statuses:["\u041d\u0435 \u0438\u0433\u0440\u0430\u043b","\u0411\u0443\u0434\u0443 \u0438\u0433\u0440\u0430\u0442\u044c","\u0418\u0433\u0440\u0430\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u0440\u043e\u0448\u0435\u043b"],activeColor:"#4527a0",userStatus:n.user_info?n.user_info.status:"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b",onChangeStatus:function(e){return a?(o({status:e}),!0):(c(),!1)}})]}),Object(r.jsx)(Ke.c,{size:"1",children:O})]}),Object(r.jsx)(Ke.w,{className:"gameContentBody",children:Object(r.jsxs)(Ke.c,{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.rawg.description}})]})}),Object(r.jsx)(Ke.w,{children:Object(r.jsxs)(Ke.c,{size:"6",style:{paddingLeft:"20px"},hidden:!a,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsx)(Ke.m,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:_,onChange:function(e){return S(e.target.value)},outline:!0}),Object(r.jsx)(Ke.m,{type:"number",id:"spentTimeInput",label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f (\u0447\u0430\u0441\u044b)",value:I,onChange:function(e){return N(e.target.value)}}),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!a|!n.user_info,onClick:function(){a?o({review:document.getElementById("reviewInput").value,spent_time:document.getElementById("spentTimeInput").value}):c()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})]}),Object(r.jsxs)("div",{className:"gameFriendsBlock",hidden:!a|l.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(An,{info:l})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})}));n(294);var Pn=Object(u.b)((function(e){return{loggedIn:oe(e),requestError:we(e),movie:de(e),movieIsLoading:Re(e),movieFriends:be(e),movieFriendsIsLoading:Le(e)}}),(function(e){return{requestMovie:function(t){e(function(e){return function(){var t=Object(Ze.a)(Ye.a.mark((function t(n){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Cn(n,z,!0),Rn(n,ee,!1),At(localStorage.getItem("token"),e).then((function(e){console.log(e),null!=e?n({type:S,movie:e}):(h.b.error("\u0424\u0438\u043b\u044c\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),Rn(n,ee,!0)),Cn(n,z,!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},openLoginForm:function(){e(En())},setMovieStatus:function(t){var n;e((n=t,function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(kn());case 2:if(!e.sent){e.next=4;break}Xt(localStorage.getItem("token"),de(r()).tmdb.id,n).then((function(e){e?t({type:y,user_info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},requestMovieFriends:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,G,!0),gn(localStorage.getItem("token"),e,t).then((function(e){null!=e?r({type:k,info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(r,G,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.requestMovie,n=e.movie,a=e.movieIsLoading,c=e.setMovieStatus,o=e.requestMovieFriends,i=e.movieFriends,u=(e.movieFriendsIsLoading,e.loggedIn),l=e.openLoginForm,d=Object(p.g)().id,b=Object(s.useState)(""),j=Object(We.a)(b,2),h=j[0],f=j[1],m=Object(s.useState)(""),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)(""),w=Object(We.a)(v,2),_=w[0],S=w[1],y=Object(s.useState)(""),k=Object(We.a)(y,2),I=k[0],N=k[1],E=Object(s.useState)(""),C=Object(We.a)(E,2),R=C[0],L=C[1],T=Object(s.useState)(""),F=Object(We.a)(T,2),A=F[0],B=F[1];return Object(s.useEffect)((function(){t(d)}),[d,t]),Object(s.useEffect)((function(){u&&o(d,1)}),[u]),Object(s.useEffect)((function(){if(n.tmdb.vote_average?f(Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"metacritic",children:Object(r.jsx)("p",{children:10*n.tmdb.vote_average})}),Object(r.jsx)("p",{className:"metacriticText",children:"TMDB score"})]})):f(""),n.tmdb.genres){for(var e="",t=0;t<n.tmdb.genres.length;t++)e+=n.tmdb.genres[t].name,t!==n.tmdb.genres.length-1&&(e+=", ");x(e)}if(n.tmdb.production_companies){for(var s="",a=0;a<n.tmdb.production_companies.length;a++)s+=n.tmdb.production_companies[a].name,a!==n.tmdb.production_companies.length-1&&(s+=", ");S(s)}if(n.tmdb.cast){for(var c="",o=n.tmdb.cast.length>5?5:n.tmdb.cast.length,i=0;i<o;i++)c+=n.tmdb.cast[i].name,i!==o-1&&(c+=", ");N(c)}if(n.tmdb.crew){for(var u="",l=0;l<n.tmdb.crew.length;l++)if("Director"===n.tmdb.crew[l].job){u=n.tmdb.crew[l].name;break}L(u)}n.user_info?B(n.user_info.review):B(""),document.title=n.tmdb.title}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"movieContentPage",children:[Object(r.jsxs)(Ke.d,{children:[Object(r.jsxs)(Ke.w,{className:"movieContentHeader rounded-top",children:[Object(r.jsx)(Ke.c,{size:"5",className:"posterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)(Ke.c,{size:"6",children:[Object(r.jsx)("h1",{children:n.tmdb.title}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",n.tmdb.release_date]}),Object(r.jsxs)("p",{children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",n.tmdb.runtime]}),Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",O]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",_]}),Object(r.jsxs)("p",{children:["\u0421\u043b\u043e\u0433\u0430\u043d: ",n.tmdb.tagline]}),Object(r.jsxs)("p",{children:["\u0412 \u0440\u043e\u043b\u044f\u0445: ",I]}),Object(r.jsxs)("p",{children:["\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440: ",R]})]}),Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:n.user_info?n.user_info.score:0,readonly:!u|!n.user_info,onChange:function(e){return u?(c({score:e}),!0):(l(),!1)}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(Ln,{loggedIn:u,statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:n.user_info?n.user_info.status:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b",onChangeStatus:function(e){u?c({status:e}):l()}})]}),Object(r.jsx)(Ke.c,{size:"1",children:h})]}),Object(r.jsx)(Ke.w,{className:"movieContentBody",children:Object(r.jsxs)(Ke.c,{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]})}),Object(r.jsxs)(Ke.c,{size:"6",style:{paddingLeft:"10px"},hidden:!u,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsx)(Ke.m,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:A,onChange:function(e){return B(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!u|!n.user_info,onClick:function(){u?c({review:document.getElementById("reviewInput").value}):l()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:!u|i.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(An,{info:i})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})}));n(46);var Dn=function(e){var t=e.episode,n=e.season,a=e.showID,c=e.userInfo,o=e.setShowEpisodeUserStatus,i=e.loggedIn,u=e.onCheckBox,l=e.checked,d=Object(p.f)(),b=Object(s.useState)(!1),j=Object(We.a)(b,2),h=j[0],f=j[1];return Object(s.useEffect)((function(){f("undefined"!==typeof l&&l)}),[l]),Object(r.jsxs)("div",{className:"episodeRow",children:[Object(r.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){u(e.target.checked)},hidden:!i}),"\xa0",Object(r.jsxs)("a",{className:"episodeRowName episodeLink",href:window.location.origin+"/show/"+a+"/season/"+n+"/episode/"+t,onClick:function(e){d.push("/show/"+a+"/season/"+n+"/episode/"+t),e.preventDefault()},children:["\u0421\u0435\u0440\u0438\u044f ",t]}),Object(r.jsx)(Qe.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(Ke.k,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(r.jsx)(Ke.k,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",title:e})}))),readonly:!i,initialRating:c?c.score:-1,onChange:function(e){o({episodes:[{season_number:n,episode_number:t,score:e}]},a)}})]})};var Un=function(e){var t=e.seasons,n=e.showID,a=e.setShowEpisodeUserStatus,c=e.loggedIn,o=Object(p.f)(),i=Object(s.useState)([]),u=Object(We.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(Object(ae.a)({})),j=Object(We.a)(b,2),h=j[0],f=j[1],m=Object(s.useState)(!1),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)(Object(ae.a)({})),w=Object(We.a)(v,2),_=w[0],S=w[1],y=Object(s.useState)(!1),k=Object(We.a)(y,2),I=k[0],N=k[1];function E(e){for(var n in t)if(t[n].season_number===e)return t[n]}return Object(s.useEffect)((function(){if(d([]),t){var e=[],n={},r={};for(var s in t)if(n[t[s].season_number]={},r[t[s].season_number]=!1,"\u0421\u043f\u0435\u0446\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"!==t[s].name){var a=t[s];a.episodes=[];for(var c=function(e){a.episodes.push(e),n[t[s].season_number][e]={},n[t[s].season_number][e].checked=!!t[s].episodes_user_info.find((function(t){return t.episode_number===e}))&&t[s].episodes_user_info.find((function(t){return t.episode_number===e})).score>-1},o=1;o<=t[s].episode_count;o++)c(o);e.push(a)}S(Object(ae.a)(n)),d(e),f(Object(ae.a)(r))}}),[t]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{marginLeft:"5px"},hidden:!c,children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\xa0",Object(r.jsx)("input",{type:"checkbox",checked:O,onChange:function(e){x(!O),function(e){var t=_.toJS();for(var n in t)for(var r in t[n])t[n][r].checked=e;S(Object(ae.a)(t)),N(!0)}(e.target.checked)}})]}),l.map((function(e){return Object(r.jsxs)("div",{className:"seasonBlock",children:[Object(r.jsx)("div",{className:"seasonName",children:Object(r.jsx)("a",{href:window.location.origin+"/show/"+n+"/season/"+e.season_number,onClick:function(t){o.push("/show/"+n+"/season/"+e.season_number),t.preventDefault()},children:Object(r.jsxs)("h5",{children:[" ",e.name," "]})})}),Object(r.jsxs)("details",{open:!1,className:"episodeRows",children:[Object(r.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(r.jsxs)("div",{style:{marginLeft:"5px"},hidden:!c,children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\xa0",Object(r.jsx)("input",{type:"checkbox",checked:h.get(e.season_number),onChange:function(t){var n=h.toJS();n[e.season_number]=t.target.checked,f(Object(ae.a)(n)),function(e,t){var n=_.get(t.toString());for(var r in n)n[r].checked=e;var s=_.set(t.toString(),n);S(s),N(!0)}(t.target.checked,e.season_number)}})]}),Object(r.jsx)("ul",{children:e.episodes.map((function(t,s){var o,i;return Object(r.jsx)("li",{className:"episode",children:Object(r.jsx)(Dn,{loggedIn:c,episode:t,season:e.season_number,showID:n,userInfo:e.episodes_user_info.find((function(e){return e.episode_number===t})),setShowEpisodeUserStatus:a,checked:null===(o=_.get(e.season_number.toString()))||void 0===o||null===(i=o[t])||void 0===i?void 0:i.checked,onCheckBox:function(n){!function(e,t,n){var r=_.setIn([t.toString(),n,"checked"],e);S(r),N(!0)}(n,e.season_number,t)}})},s)}))})]})]},e.id)})),Object(r.jsx)("div",{className:"saveEpisodesHeader",hidden:!I,children:Object(r.jsx)("button",{className:"saveEpisodesButton",onClick:function(){return function(){var e=_.toJS(),t=[];for(var r in e){var s=function(n){var s;console.log(E(1)),e[r][n].checked!==(null===(s=E(parseInt(r)).episodes_user_info.find((function(e){return e.episode_number===parseInt(n)})))||void 0===s?void 0:s.score)>-1&&t.push({season_number:r,episode_number:n,score:e[r][n].checked?0:-1})};for(var c in e[r.toString()])s(c)}console.log(t),a({episodes:t},n),N(!1)}()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})};var zn=Object(u.b)((function(e){return{loggedIn:oe(e),requestError:_e(e),show:je(e),showIsLoading:Te(e),showFriends:pe(e),showFriendsIsLoading:Fe(e)}}),(function(e){return{requestShow:function(t){e(function(e){return function(){var t=Object(Ze.a)(Ye.a.mark((function t(n){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Cn(n,M,!0),Rn(n,te,!1),Pt(localStorage.getItem("token"),e).then((function(e){console.log(e),null!=e?n({type:I,show:e}):(h.b.error("\u0421\u0435\u0440\u0438\u0430\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),Rn(n,te,!0)),Cn(n,M,!1)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},setShowUserStatus:function(t){var n;e((n=t,function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(kn());case 2:if(!e.sent){e.next=4;break}Kt(localStorage.getItem("token"),je(r()).tmdb.id,n).then((function(e){e?t({type:N,user_info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},openLoginForm:function(){e(En())},requestShowFriends:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,q,!0),xn(localStorage.getItem("token"),e,t).then((function(e){null!=e?r({type:E,info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(r,q,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setShowEpisodeUserStatus:function(t,n){e(Nn(t,n))}}}))((function(e){var t=e.requestShow,n=e.show,a=e.showIsLoading,c=e.setShowUserStatus,o=e.setShowEpisodeUserStatus,i=e.requestShowFriends,u=e.showFriends,l=(e.showFriendsIsLoading,e.loggedIn),d=e.openLoginForm,b=Object(p.g)().id,j=Object(s.useState)(""),h=Object(We.a)(j,2),f=h[0],m=h[1],g=Object(s.useState)(""),O=Object(We.a)(g,2),x=O[0],v=O[1],w=Object(s.useState)(""),_=Object(We.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(""),I=Object(We.a)(k,2),N=I[0],E=I[1],C=Object(s.useState)(""),R=Object(We.a)(C,2),L=R[0],T=R[1],F=Object(s.useState)(""),A=Object(We.a)(F,2),B=A[0],P=A[1],D=Object(s.useState)(""),U=Object(We.a)(D,2),z=U[0],G=U[1];return Object(s.useEffect)((function(){t(b)}),[b,t]),Object(s.useEffect)((function(){l&&i(b,1)}),[l]),Object(s.useEffect)((function(){if(n.tmdb.vote_average?m(Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"metacritic",children:Object(r.jsx)("p",{children:10*n.tmdb.vote_average})}),Object(r.jsx)("p",{className:"metacriticText",children:"TMDB score"})]})):m(""),n.tmdb.genres){for(var e="",t=0;t<n.tmdb.genres.length;t++)e+=n.tmdb.genres[t].name,t!==n.tmdb.genres.length-1&&(e+=", ");v(e)}if(n.tmdb.production_companies){for(var s="",a=0;a<n.tmdb.production_companies.length;a++)s+=n.tmdb.production_companies[a].name,a!==n.tmdb.production_companies.length-1&&(s+=", ");y(s)}switch(n.tmdb.status){case"Ended":E("\u041e\u043a\u043e\u043d\u0447\u0435\u043d");break;case"Returning Series":E("\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f");break;case"Pilot":E("\u041f\u0438\u043b\u043e\u0442");break;case"Canceled":E("\u041e\u0442\u043c\u0435\u043d\u0435\u043d");break;case"In Production":E("\u0412 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435");break;case"Planned":E("\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d");break;default:E(n.tmdb.status)}if(n.tmdb.first_air_date){var c=n.tmdb.first_air_date.split("-"),o=c[2]+"."+c[1]+"."+c[0];T(o)}else T("");if(n.tmdb.last_air_date){var i=n.tmdb.last_air_date.split("-"),u=i[2]+"."+i[1]+"."+i[0];P(u)}else P("");n.user_info?G(n.user_info.review):G(""),document.title=n.tmdb.name}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"showContentPage",children:[Object(r.jsxs)(Ke.d,{children:[Object(r.jsxs)(Ke.w,{className:"showContentHeader rounded-top",children:[Object(r.jsx)(Ke.c,{size:"5",className:"posterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)(Ke.c,{size:"6",children:[Object(r.jsx)("h1",{children:n.tmdb.name}),Object(r.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:n.tmdb.original_name}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",x]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",S]}),Object(r.jsxs)("p",{hidden:""===L,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0435\u0440\u0438\u0438: ",L]}),Object(r.jsxs)("p",{hidden:""===B,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0441\u0435\u0440\u0438\u0438: ",B]}),Object(r.jsxs)("p",{hidden:!n.tmdb.episode_run_time,children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",n.tmdb.episode_run_time?n.tmdb.episode_run_time[0]:0]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0437\u043e\u043d\u043e\u0432: ",n.tmdb.number_of_seasons]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",n.tmdb.number_of_episodes]}),Object(r.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",N]})]}),Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:n.user_info?n.user_info.score:0,readonly:!l|!n.user_info,onChange:function(e){return l?(c({score:e}),!0):(d(),!1)}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(Ln,{loggedIn:l,statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0421\u043c\u043e\u0442\u0440\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:n.user_info?n.user_info.status:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b",onChangeStatus:function(e){l?c({status:e}):d()}})]}),Object(r.jsx)(Ke.c,{size:"1",children:f})]}),Object(r.jsx)(Ke.w,{className:"showContentBody",children:Object(r.jsxs)(Ke.c,{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]})}),Object(r.jsxs)("div",{className:"showContentBody",children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(r.jsx)(Un,{seasons:n.tmdb.seasons,showID:n.tmdb.id,loggedIn:l,setShowEpisodeUserStatus:o})]}),Object(r.jsxs)(Ke.c,{size:"6",style:{paddingLeft:"10px"},hidden:!l,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsx)(Ke.m,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:z,onChange:function(e){return G(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!l|!n.user_info,onClick:function(){l?c({review:document.getElementById("reviewInput").value}):d()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:u.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(An,{info:u})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})})),Gn=n(12);var Mn=function(e){var t,n=e.episode,a=e.showID,c=e.setShowEpisodeUserStatus,o=e.loggedIn,i=Object(p.f)();return Object(s.useEffect)((function(){}),[n]),Object(r.jsxs)("div",{className:"episodeRow detailRow",children:[Object(r.jsx)("p",{className:"episodeDate",children:(t=n.air_date,new Date(t).toLocaleDateString("ru-RU"))}),Object(r.jsxs)("a",{className:"episodeRowName episodeLink",href:window.location.origin+"/show/"+a+"/season/"+n.season_number+"/episode/"+n.episode_number,onClick:function(e){i.push("/show/"+a+"/season/"+n.season_number+"/episode/"+n.episode_number),e.preventDefault()},children:["\u0421\u0435\u0440\u0438\u044f ",n.episode_number," - ",n.name]}),Object(r.jsx)(Qe.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(Ke.k,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(r.jsx)(Ke.k,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",title:e})}))),readonly:!o,initialRating:n.user_info?n.user_info.score:-1,onChange:function(e){c({episodes:[{season_number:n.season_number,episode_number:n.episode_number,score:e}]},a)}})]})};var qn=Object(u.b)((function(e){return{loggedIn:oe(e),requestError:_e(e),showSeason:je(e),showSeasonIsLoading:Te(e),showFriends:pe(e),showFriendsIsLoading:Fe(e)}}),(function(e){return{requestShowSeason:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,M,!0),Rn(r,te,!1),Ut(localStorage.getItem("token"),e,t).then((function(e){console.log(e),null!=e?r({type:I,show:e}):(h.b.error("\u0421\u0435\u0440\u0438\u0430\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),Rn(r,te,!0)),Cn(r,M,!1)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setShowUserStatus:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(kn());case 2:if(!r.sent){r.next=4;break}Jt(localStorage.getItem("token"),t,n,e).then((function(e){e?s({type:N,user_info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},setShowEpisodeUserStatus:function(t,n){e(Nn(t,n))},openLoginForm:function(){e(En())},requestShowSeasonFriends:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Cn(s,q,!0),wn(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:E,info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(s,q,!1)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.requestShowSeason,n=e.showSeason,a=e.showSeasonIsLoading,c=e.setShowUserStatus,o=e.setShowEpisodeUserStatus,i=e.requestShowSeasonFriends,u=e.showFriends,l=(e.showFriendsIsLoading,e.loggedIn),d=e.openLoginForm,b=Object(p.f)(),j=Object(p.g)(),h=j.show_id,f=j.number,m=Object(s.useState)(""),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)(""),w=Object(We.a)(v,2),_=w[0],S=w[1],y=Object(s.useState)([]),k=Object(We.a)(y,2),I=k[0],N=k[1];return Object(s.useEffect)((function(){t(h,f)}),[h,f,t]),Object(s.useEffect)((function(){l&&i(h,f,1)}),[l]),Object(s.useEffect)((function(){if(n.tmdb.air_date){var e=n.tmdb.air_date.split("-"),t=e[2]+"."+e[1]+"."+e[0];x(t)}else x("");n.user_info?S(n.user_info.review):S(""),document.title=n.tmdb.show_name+" - "+n.tmdb.name}),[n]),Object(s.useEffect)((function(){if(N([]),n.tmdb.episodes&&n.tmdb.episodes.length>0){var e=[];for(var t in n.tmdb.episodes)n.tmdb.episodes[t].vote_average>0&&e.push({name:"Ep "+n.tmdb.episodes[t].episode_number,"\u041e\u0446\u0435\u043d\u043a\u0430":n.tmdb.episodes[t].vote_average});N(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"showContentPage",children:[Object(r.jsxs)(Ke.d,{children:[Object(r.jsxs)(Ke.w,{className:"showContentHeader rounded-top",children:[Object(r.jsx)(Ke.c,{size:"3",className:"posterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)(Ke.c,{size:"9",children:[Object(r.jsxs)("h1",{children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+h,onClick:function(e){b.push("/show/"+h),e.preventDefault()},children:n.tmdb.show_name})," - "+n.tmdb.name]}),Object(r.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:n.tmdb.show_original_name+" - Season "+n.tmdb.season_number}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{hidden:""===O,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",O]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",n.tmdb.episodes?n.tmdb.episodes.length:0]})]}),Object(r.jsxs)("div",{hidden:!l|!n.user_watched_show,children:[Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:n.user_info?n.user_info.score:0,onChange:function(e){l?c({score:e},h,n.tmdb.season_number):d()}}),Object(r.jsx)(Ke.m,{type:"textarea",id:"reviewSeasonInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:_,onChange:function(e){return S(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",hidden:!l|!n.user_watched_show,onClick:function(){l?c({review:document.getElementById("reviewSeasonInput").value},h,n.tmdb.season_number):d()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]}),Object(r.jsx)(Ke.w,{className:"showContentBody",children:Object(r.jsxs)(Ke.c,{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]})}),Object(r.jsxs)("div",{className:"showContentBody",children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(r.jsxs)("details",{open:!1,className:"episodeRows",children:[Object(r.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(r.jsx)("ul",{children:n.tmdb.episodes?n.tmdb.episodes.map((function(e){return Object(r.jsx)("li",{className:"episode",children:Object(r.jsx)(Mn,{episode:e,showID:h,loggedIn:l,setShowEpisodeUserStatus:o})},n.tmdb.id+e.episode_number)})):""})]}),Object(r.jsx)("div",{hidden:!(I.length>0),children:Object(r.jsxs)(Gn.b,{width:700,height:250,data:I,margin:{top:20,right:20,left:15,bottom:0},children:[Object(r.jsx)("defs",{children:Object(r.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(r.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(r.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(r.jsx)(Gn.j,{dataKey:"name",interval:0,tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.k,{tickLine:!1,domain:[0,10],tick:{fill:"rgb(238, 238, 238)"},tickCount:2}),Object(r.jsx)(Gn.i,{contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"}}),Object(r.jsx)(Gn.a,{type:"monotone",dataKey:"\u041e\u0446\u0435\u043d\u043a\u0430",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})})]})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:u.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(An,{info:u})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})}));var Hn=Object(u.b)((function(e){return{loggedIn:oe(e),requestError:_e(e),showEpisode:je(e),showEpisodeIsLoading:Te(e),showFriends:pe(e),showFriendsIsLoading:Fe(e)}}),(function(e){return{requestShowEpisode:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Cn(s,M,!0),Rn(s,te,!1),Gt(localStorage.getItem("token"),e,t,n).then((function(e){console.log(e),null!=e?s({type:I,show:e}):(h.b.error("\u0421\u0435\u0440\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),Rn(s,te,!0)),Cn(s,M,!1)}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},setEpisodeUserStatus:function(t,n){e(Nn(t,n))},openLoginForm:function(){e(En())},requestShowEpisodeFriends:function(t,n,r,s){e(function(e,t,n,r){return function(){var s=Object(Ze.a)(Ye.a.mark((function s(a){return Ye.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:Cn(a,q,!0),Sn(localStorage.getItem("token"),e,t,n,r).then((function(e){null!=e?a({type:E,info:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(a,q,!1)}));case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,r,s))}}}))((function(e){var t=e.requestShowEpisode,n=e.showEpisode,a=e.showEpisodeIsLoading,c=e.setEpisodeUserStatus,o=e.requestShowEpisodeFriends,i=e.showFriends,u=(e.showFriendsIsLoading,e.loggedIn),l=e.openLoginForm,d=Object(p.f)(),b=Object(p.g)(),j=b.show_id,h=b.season_number,f=b.episode_number,m=Object(s.useState)(""),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)(""),w=Object(We.a)(v,2),_=w[0],S=w[1],y=Object(s.useState)(""),k=Object(We.a)(y,2),I=k[0],N=k[1];return Object(s.useEffect)((function(){t(j,h,f)}),[j,h,f,t]),Object(s.useEffect)((function(){u&&o(j,h,f,1)}),[u]),Object(s.useEffect)((function(){if(n.tmdb.air_date){var e=n.tmdb.air_date.split("-"),t=e[2]+"."+e[1]+"."+e[0];x(t)}else x("");n.user_info?S(n.user_info.review):S(""),n.tmdb.vote_average?N(Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"metacritic",children:Object(r.jsx)("p",{children:10*n.tmdb.vote_average})}),Object(r.jsx)("p",{className:"metacriticText",children:"TMDB score"})]})):N(""),document.title=n.tmdb.show_name+" - "+n.tmdb.name}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"showContentPage",children:[Object(r.jsxs)(Ke.d,{children:[Object(r.jsxs)(Ke.w,{className:"showContentHeader rounded-top",children:[Object(r.jsx)(Ke.c,{size:"3",className:"posterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.still_path,className:"img-fluid",alt:""})}),Object(r.jsxs)(Ke.c,{size:"8",children:[Object(r.jsxs)("h1",{children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+j,onClick:function(e){d.push("/show/"+j),e.preventDefault()},children:n.tmdb.show_name})," - "+n.tmdb.name]}),Object(r.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:[n.tmdb.show_original_name+" - Season "+n.tmdb.season_number+" - Episode "+n.tmdb.episode_number," "]}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{hidden:""===O,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",O]}),Object(r.jsxs)("a",{href:window.location.origin+"/show/"+j+"/season/"+h,onClick:function(e){d.push("/show/"+j+"/season/"+h),e.preventDefault()},children:["\u0421\u0435\u0437\u043e\u043d: ",n.tmdb.season_number]})]}),Object(r.jsxs)("div",{hidden:!u|!n.user_watched_show,children:[Object(r.jsx)(Qe.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(Ke.k,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}})}))),fullSymbol:[Object(r.jsx)(Ke.k,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})}))),initialRating:n.user_info?n.user_info.score:-1,onChange:function(e){u?c({episodes:[{season_number:h,episode_number:f,score:e}]},j):l()}}),Object(r.jsx)(Ke.m,{type:"textarea",id:"reviewSeasonInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:_,onChange:function(e){return S(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",hidden:!u|!n.user_watched_show,onClick:function(){u?c({episodes:[{season_number:h,episode_number:f,review:document.getElementById("reviewSeasonInput").value}]},j):l()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsx)(Ke.c,{size:"1",children:I})]}),Object(r.jsx)(Ke.w,{className:"showContentBody",children:Object(r.jsxs)(Ke.c,{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]})})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:i.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(An,{info:i})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})}));n(466);var Xn=function(e){var t=e.game,n=Object(p.f)(),a=Object(s.useState)(""),c=Object(We.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(We.a)(u,2),d=l[0],b=l[1];return Object(s.useEffect)((function(){if(t.released){var e=t.released.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("");if(t.name.length>55){var r=t.name.substr(0,55)+"...";b(r)}else b(t.name)}),[t]),Object(r.jsxs)("div",{className:"searchCardGame",children:[Object(r.jsx)("div",{className:"searchCardGameImage",style:{backgroundImage:"url(".concat(t.background_image,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardGameText",children:[Object(r.jsx)("a",{href:window.location.origin+"/game/"+t.slug,onClick:function(e){n.push("/game/"+t.slug),e.preventDefault()},children:Object(r.jsx)("h4",{children:d})}),Object(r.jsx)("p",{children:o})]})]})};var Wn=function(e){var t=e.movie,n=Object(p.f)(),a=Object(s.useState)(""),c=Object(We.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(We.a)(u,2),d=l[0],b=l[1];return Object(s.useEffect)((function(){if(t.release_date){var e=t.release_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("");if(t.title.length>55){var r=t.title.substr(0,55)+"...";b(r)}else b(t.title)}),[t]),Object(r.jsxs)("div",{className:"searchCardMovie",children:[Object(r.jsx)("div",{className:"searchCardMovieImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardMovieText",children:[Object(r.jsx)("a",{href:window.location.origin+"/movie/"+t.id,onClick:function(e){n.push("/movie/"+t.id),e.preventDefault()},children:Object(r.jsx)("h4",{children:d})}),Object(r.jsx)("p",{children:o})]})]})};var Kn=function(e){var t=e.show,n=Object(p.f)(),a=Object(s.useState)(""),c=Object(We.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(We.a)(u,2),d=l[0],b=l[1];return Object(s.useEffect)((function(){if(t.first_air_date){var e=t.first_air_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("");if(t.name.length>55){var r=t.name.substr(0,55)+"...";b(r)}else b(t.name)}),[t]),Object(r.jsxs)("div",{className:"searchCardMovie",children:[Object(r.jsx)("div",{className:"searchCardMovieImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardMovieText",children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+t.id,onClick:function(e){n.push("/show/"+t.id),e.preventDefault()},children:Object(r.jsx)("h4",{children:d})}),Object(r.jsx)("p",{children:o})]})]})};var Vn=function(e){var t=e.user,n=Object(p.f)();return Object(s.useEffect)((function(){}),[t]),Object(r.jsx)("a",{href:window.location.origin+"/user/"+t.id,onClick:function(e){n.push("/user/"+t.id),e.preventDefault()},children:Object(r.jsxs)("div",{className:"cardUser",children:[Object(r.jsx)("div",{className:"cardUserImage",style:{backgroundImage:"url(".concat("http://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png",")")},children:" "}),Object(r.jsx)("div",{className:"cardUserText",children:Object(r.jsx)("h4",{children:t.username})})]})})};var Jn=function(e){var t=e.categories,n=e.activeColor,a=e.onChangeCategory,c=Object(s.useState)(t[0]),o=Object(We.a)(c,2),i=o[0],u=o[1];return Object(r.jsxs)("div",{children:[t.map((function(e){return Object(r.jsx)("button",{className:"categoriesTab",style:{color:i===e?n:"rgb(207, 207, 207)"},onClick:function(){u(e),a(e)},children:e},e)})),Object(r.jsx)("hr",{style:{backgroundColor:n,height:2.5,marginTop:"0px",marginBottom:"10px"}})]})};var Qn=Object(u.b)((function(e){return{loggedIn:oe(e),gamesIsLoading:Ae(e),moviesIsLoading:Be(e),showsIsLoading:Pe(e),usersIsLoading:De(e),games:he(e),movies:fe(e),shows:me(e),users:ge(e)}}),(function(e){return{searchGame:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Cn(s,H,!0),Zt(e,t,n).then((function(e){e?s({type:C,games:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"),Cn(s,H,!1)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},searchMovie:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,X,!0),tn(e,t).then((function(e){e?r({type:R,movies:e.results}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),Cn(r,X,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},searchShow:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cn(r,W,!0),rn(e,t).then((function(e){e?r({type:L,shows:e.results}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432"),Cn(r,W,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},searchUsers:function(t){e(function(e){return function(){var t=Object(Ze.a)(Ye.a.mark((function t(n){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Cn(n,K,!0),an(e).then((function(e){e?n({type:T,users:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"),Cn(n,K,!1)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){e.loggedIn;var t=e.gamesIsLoading,n=e.moviesIsLoading,a=e.showsIsLoading,c=e.usersIsLoading,o=e.searchGame,i=e.games,u=e.searchMovie,l=e.movies,d=e.searchShow,b=e.shows,j=e.searchUsers,h=e.users,f=Object(p.f)(),m=Object(p.g)().query,g=Object(s.useState)(""),O=Object(We.a)(g,2),x=O[0],v=O[1],w=Object(s.useState)(""),_=Object(We.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(""),I=Object(We.a)(k,2),N=I[0],E=I[1],C=Object(s.useState)(""),R=Object(We.a)(C,2),L=R[0],T=R[1],F=Object(s.useState)(""),A=Object(We.a)(F,2),B=A[0],P=A[1],D=Object(s.useState)(1),U=Object(We.a)(D,2),z=U[0],G=U[1],M=Object(s.useState)(1),q=Object(We.a)(M,2),H=q[0],X=q[1],W=Object(s.useState)(1),K=Object(We.a)(W,2),V=K[0],J=K[1],Q=Object(s.useState)("\u0412\u0441\u0451"),$=Object(We.a)(Q,2),Y=$[0],Z=$[1];return Object(s.useEffect)((function(){o(m,1,6),u(m,1),d(m,1),j(m),v(m),document.title="\u041f\u043e\u0438\u0441\u043a",G(1),X(1),J(1)}),[m,o,u,j,d]),Object(s.useEffect)((function(){y(Object(r.jsx)("div",{className:"searchCardsGroup",children:i.map((function(e){return Object(r.jsx)(Xn,{game:e},e.id)}))}))}),[i]),Object(s.useEffect)((function(){E(Object(r.jsx)("div",{className:"searchCardsGroup",children:l.map((function(e){return Object(r.jsx)(Wn,{movie:e},e.id)}))}))}),[l]),Object(s.useEffect)((function(){T(Object(r.jsx)("div",{className:"searchCardsGroup",children:b.map((function(e){return Object(r.jsx)(Kn,{show:e},e.id)}))}))}),[b]),Object(s.useEffect)((function(){P(Object(r.jsx)("div",{className:"searchCardsGroup",children:h.map((function(e){return Object(r.jsx)(Vn,{user:e},e.username)}))}))}),[h]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"searchPage",children:[Object(r.jsx)("h1",{children:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsxs)(Ke.j,{className:"md-form",onSubmit:function(e){return e.preventDefault(),f.push("/search/"+document.getElementById("searchInput2").value),!1},children:[Object(r.jsx)(Ke.k,{icon:"search"}),Object(r.jsx)("input",{className:"form-control form-control-sm ml-3 w-50",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438","aria-label":"Search",id:"searchInput2",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(r.jsx)("h1",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(r.jsx)(Jn,{categories:["\u0412\u0441\u0451","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"],activeColor:"#7654de",onChangeCategory:function(e){Z(e)}}),Object(r.jsx)(Je.a,{active:t,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0438\u0433\u0440\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==Y&&"\u0418\u0433\u0440\u044b"!==Y,children:[Object(r.jsx)("h3",{children:"\u0418\u0433\u0440\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===z,onClick:function(){o(m,z-1,6),G(z-1)},children:"<"}),S,Object(r.jsx)("button",{className:"paginationButton",disabled:i.length<6,onClick:function(){o(m,z+1,6),G(z+1)},children:">"})]})]})}),Object(r.jsx)(Je.a,{active:n,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==Y&&"\u0424\u0438\u043b\u044c\u043c\u044b"!==Y,children:[Object(r.jsx)("h3",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===H,onClick:function(){u(m,H-1),X(H-1)},children:"<"}),N,Object(r.jsx)("button",{className:"paginationButton",disabled:l.length<20,onClick:function(){u(m,H+1),X(H+1)},children:">"})]})]})}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0441\u0435\u0440\u0438\u0430\u043b\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==Y&&"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==Y,children:[Object(r.jsx)("h3",{children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===V,onClick:function(){d(m,V-1),J(V-1)},children:"<"}),L,Object(r.jsx)("button",{className:"paginationButton",disabled:b.length<20,onClick:function(){d(m,V+1),J(V+1)},children:">"})]})]})}),Object(r.jsx)(Je.a,{active:c,spinner:!0,text:"\u0418\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==Y&&"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"!==Y,children:[Object(r.jsx)("h3",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),B]})})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})]})}));n(107);var $n=Object(u.b)((function(e){return{isOpen:ke(e),authError:Oe(e)}}),(function(e){return{closeForm:function(){e({type:g,isOpen:!1})},logIn:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){var s;return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Rn(r,$,!1),n.prev=1,n.next=4,xt(e,t);case 4:null!==(s=n.sent)?(localStorage.setItem("refreshToken",s.refreshToken),localStorage.setItem("token",s.token),localStorage.setItem("tokenTime",Date.now()),r({type:m,auth:{loggedIn:!0}}),r({type:f,user:s.user}),r({type:g,isOpen:!1})):Rn(r,$,!0),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),Rn(r,$,!0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},openResetPasswordForm:function(){e({type:x,isOpen:!0})}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.logIn,c=e.authError,o=e.openResetPasswordForm,i=Object(s.useState)(""),u=Object(We.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(We.a)(b,2),p=j[0],h=j[1];return Object(r.jsx)(Ke.n,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(Ke.o,{className:"loginBody",children:Object(r.jsx)(Ke.d,{children:Object(r.jsx)(Ke.w,{children:Object(r.jsx)(Ke.c,{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(p,l)},children:[Object(r.jsx)("p",{className:"h4 text-center mb-4",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!c,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"}),Object(r.jsx)("label",{htmlFor:"loginInput",className:"grey-text",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordInput",className:"grey-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:l,onChange:function(e){return d(e.target.value)}}),Object(r.jsxs)("div",{className:"text-center mt-4",children:[Object(r.jsx)(Ke.b,{type:"submit",className:"confirmButton",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(r.jsx)("label",{className:"passwordResetLabel",onClick:function(){n(),o()},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})})})})})}));var Yn=Object(u.b)((function(e){return{isOpen:Ie(e),registrateArror:xe(e),user:ie(e)}}),(function(e){return{closeForm:function(){e({type:O,isOpen:!1})},registrate:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Rn(s,Y,!1),St(e,t,n).then((function(e){if(console.log(e),201===e.status|200===e.status)s({type:f,user:{login:e.username,email:e.email}});else{for(var t in e.data)h.b.error(e.data[t][0]);Rn(s,Y,!0)}}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.registrate,c=e.registrateArror,o=e.user,i=Object(s.useState)(""),u=Object(We.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(We.a)(b,2),p=j[0],h=j[1],f=Object(s.useState)(""),m=Object(We.a)(f,2),g=m[0],O=m[1],x=Object(s.useState)(""),v=Object(We.a)(x,2),w=v[0],_=v[1];return Object(r.jsx)(Ke.n,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(Ke.o,{className:"registrationBody",children:Object(r.jsx)(Ke.d,{children:Object(r.jsx)(Ke.w,{children:Object(r.jsx)(Ke.c,{children:Object(r.jsxs)("form",{children:[Object(r.jsx)("p",{className:"note note-danger",hidden:!c,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438!"}),Object(r.jsxs)("p",{className:"note note-success",hidden:""===o.email,children:[o.login,", \u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443"]}),Object(r.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(r.jsx)("label",{htmlFor:"loginInput",children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),Object(r.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:w,onChange:function(e){return _(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"emailInput",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(r.jsx)("input",{type:"email",id:"emailInput",className:"form-control",value:g,onChange:function(e){return O(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordInput",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordConfirmInput",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(r.jsx)("input",{type:"password",id:"passwordConfirmInput",className:"form-control",style:l===p?{outlineColor:"green"}:{outlineColor:"red"},value:l,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)("div",{className:"text-center mt-4",children:Object(r.jsx)(Ke.b,{type:"button",className:"confirmButton",disabled:p!==l||w.length<1||g.length<1||p.length<1,onClick:function(){return a(w,g,p)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})})})})}));var Zn=Object(u.b)((function(e){return{isOpen:Ne(e),resetPasswordError:Se(e)}}),(function(e){return{closeForm:function(){e({type:x,isOpen:!1})},resetPassword:function(t){e(function(e){return function(){var t=Object(Ze.a)(Ye.a.mark((function t(n){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:re,error:!1}),Nt(e).then((function(e){200!==e.status?n({type:re,error:e.data.error}):n({type:re,error:"ok"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.resetPassword,c=e.resetPasswordError,o=Object(s.useState)(""),i=Object(We.a)(o,2),u=i[0],l=i[1];return Object(r.jsx)(Ke.n,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(Ke.o,{className:"loginBody",children:Object(r.jsx)(Ke.d,{children:Object(r.jsx)(Ke.w,{children:Object(r.jsx)(Ke.c,{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(u)},children:[Object(r.jsx)("p",{className:"h4 text-center mb-4",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!c|"ok"===c,children:c}),Object(r.jsx)("p",{className:"note note-success",hidden:"ok"!==c,children:"\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e"}),Object(r.jsx)("label",{htmlFor:"emailInput",className:"grey-text",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(r.jsx)("input",{type:"text",id:"emailInput",className:"form-control",value:u,onChange:function(e){return l(e.target.value)}}),Object(r.jsx)("div",{className:"text-center mt-4",children:Object(r.jsx)(Ke.b,{type:"submit",className:"confirmButton",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]})})})})})})}));var er=Object(u.b)((function(e){return{loggedIn:oe(e)}}),(function(e){return{confirmEmailRequest:function(t,n){e(function(e,t){return Object(Ze.a)(Ye.a.mark((function n(){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:kt(e,t).then((function(e){console.log(e),200===e.status?h.b.success("\u041f\u043e\u0447\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430!"):e.data&&h.b.error(e.data.error)}));case 1:case"end":return n.stop()}}),n)})))}(t,n))}}}))((function(e){var t=e.confirmEmailRequest,n=window.location.search,a=new URLSearchParams(n),c=a.get("uid64"),o=a.get("token");return Object(s.useEffect)((function(){t(c,o)}),[]),Object(r.jsx)("div",{className:"bg"})}));n(467);var tr=Object(u.b)((function(e){return{confirmPasswordError:ye(e)}}),(function(e){return{confirmPassword:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:se,error:!1}),Ct(e,t).then((function(e){200!==e.status?r({type:se,error:e.data.error?e.data.error:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):r({type:se,error:"ok"})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.confirmPassword,n=e.confirmPasswordError,a=Object(s.useState)(""),c=Object(We.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(We.a)(u,2),d=l[0],b=l[1],j=window.location.search,p=new URLSearchParams(j).get("token");return Object(r.jsx)("div",{className:"bg",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(p,o)},className:"confirmPasswordForm",children:[Object(r.jsx)("p",{className:"h4",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!n|"ok"===n,children:n}),Object(r.jsx)("p",{className:"note note-success",hidden:"ok"!==n,children:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!"}),Object(r.jsx)("label",{htmlFor:"passwordInput",className:"confirmPasswordLabel",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"confirmPasswordInput",value:o,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"passwordConfurmInput",className:"confirmPasswordLabel",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",id:"passwordConfurmInput",className:"confirmPasswordInput",value:d,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",className:"confirmPasswordButton",disabled:o!==d|o.length<1,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})})),nr=["rgb(43,206,72)","rgb(240,163,255)","rgb(0,117,220)","rgb(153,63,0)","rgb(76,0,92)","rgb(25,25,25)","rgb(0,92,49)","rgb(255,204,153)","rgb(128,128,128)","rgb(148,255,181)","rgb(143,124,0)","rgb(157,204,0)","rgb(194,0,136)","rgb(0,51,128)","rgb(255,164,5)","rgb(255,168,187)","rgb(66,102,0)","rgb(255,0,16)","rgb(94,241,242)","rgb(0,153,143)","rgb(224,255,102)","rgb(116,10,255)","rgb(153,0,0)","rgb(255,255,128)","rgb(255,255,0)","rgb(255,80,)"];n(108);var rr=function(e){var t=e.games,n=e.stats,a=Object(s.useState)([]),c=Object(We.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"},{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f",field:"spent_time",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(We.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/game/"+e.game.rawg_slug,children:e.game.rawg_name}),name2:e.game.rawg_name,status:e.status,score:e.score,review:e.review,spent_time:parseFloat(e.spent_time)}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[];for(var t in n.genres)n.genres[t].spent_time_percent>2&&e.push({name:n.genres[t].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[t].spent_time_percent});e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0418\u0433\u0440 \u0441\u044b\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0438\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(Ke.e,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0433\u0440 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",className:"dataTable"}),Object(r.jsx)("div",{hidden:o.length<1,children:Object(r.jsxs)(Gn.d,{width:800,height:300,data:o,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(Gn.j,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.i,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Gn.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Gn.e,{fill:nr[t]},t)}))})]})})]})};var sr=function(e){var t=e.users;return Object(r.jsx)("div",{className:"friendsBlock",children:t.map((function(e){return Object(r.jsx)(Vn,{user:e},e.id)}))})};var ar=function(e){var t=e.movies,n=e.stats,a=Object(s.useState)([]),c=Object(We.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(We.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/movie/"+e.movie.tmdb_id,children:e.movie.tmdb_name}),name2:e.movie.tmdb_name,status:e.status,score:e.score,review:e.review}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[];for(var t in n.genres)n.genres[t].spent_time_percent>2&&e.push({name:n.genres[t].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[t].spent_time_percent});e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(Ke.e,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsx)("div",{hidden:o.length<1,children:Object(r.jsxs)(Gn.d,{width:800,height:300,data:o,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(Gn.j,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.i,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Gn.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Gn.e,{fill:nr[t]},t)}))})]})})]})};var cr=function(e){var t,n,a,c=e.log,o=e.showUsername,i=Object(p.f)();return Object(s.useEffect)((function(){}),[c]),Object(r.jsxs)("div",{className:"logRow",children:[(a=c.created,new Date(a).toLocaleTimeString("ru-RU"))," ",o?(t=c.user,n=c.user_id,Object(r.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:t})):""," ",function(e,t){switch(e){case"score":switch(t){case"0":return"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430)";case"-1":return"\u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0430(\u0430)";default:return"\u043e\u0446\u0435\u043d\u0438\u043b(\u0430)"}case"status":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0441\u0442\u0430\u0442\u0443\u0441";case"review":return"\u043e\u0441\u0442\u0430\u0432\u0438\u043b(\u0430) \u043e\u0442\u0437\u044b\u0432 \u043d\u0430";case"spent_time":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f";case"is_following":return"True"===t?"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d(\u0430) \u043d\u0430":"\u043e\u0442\u043f\u0438\u0441\u0430\u043d(\u0430) \u043e\u0442";default:return e}}(c.action_type,c.action_result)," ",function(e,t){switch(e){case"game":return"score"===t||"review"===t?"\u0438\u0433\u0440\u0443":"\u0438\u0433\u0440\u044b";case"movie":return"score"===t||"review"===t?"\u0444\u0438\u043b\u044c\u043c":"\u0444\u0438\u043b\u044c\u043c\u0430";case"show":return"score"===t||"review"===t?"\u0441\u0435\u0440\u0438\u0430\u043b":"\u0441\u0435\u0440\u0438\u0430\u043b\u0430";case"season":case"episode":return"";case"user":return"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";default:return e}}(c.type,c.action_type)," ",function(e,t,n){switch(t){case"game":return Object(r.jsx)("a",{href:window.location.origin+"/game/"+n,className:"logLink",onClick:function(e){i.push("/game/"+n),e.preventDefault()},children:e});case"movie":return Object(r.jsx)("a",{href:window.location.origin+"/movie/"+n,className:"logLink",onClick:function(e){i.push("/movie/"+n),e.preventDefault()},children:e});case"show":return Object(r.jsx)("a",{href:window.location.origin+"/show/"+n,className:"logLink",onClick:function(e){i.push("/show/"+n),e.preventDefault()},children:e});case"season":return Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number),e.preventDefault()},children:e.name}),"\xa0\u0441\u0435\u0440\u0438\u0430\u043b\u0430\xa0",Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"episode":return Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsxs)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number),e.preventDefault()},children:["[s",n.season_number,"e",n.episode_number,"] \u0441\u0435\u0440\u0438\u044e"]}),"\xa0\u0441\u0435\u0440\u0438\u0430\u043b\u0430\xa0",Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"user":return Object(r.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:e});default:return e}}(c.target,c.type,c.target_id),"user"===c.type|"0"===c.action_result?"":":"," ",function(e,t,n){switch(e){case"score":return"episode"!==n|t>0?Object(r.jsx)(Qe.a,{stop:10,emptySymbol:Object(r.jsx)(Ke.k,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(Ke.k,{icon:"star",size:"1x",title:e})})),initialRating:t,readonly:!0}):"";case"status":case"review":return'"'+t+'"';case"spent_time":return t+" "+(11<=(s=t)&&s<=14?"\u0447\u0430\u0441\u043e\u0432":s%10===1?"\u0447\u0430\u0441":2<=s%10&&s%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432");case"is_following":return"";default:return t}var s}(c.action_type,c.action_result,c.type)]})};var or=function(e){var t=e.logs,n=e.showUsername,a=e.onChangePage,c=Object(s.useState)([]),o=Object(We.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(1),d=Object(We.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){u(function(e){var t=[];for(var n in e){var r=new Date(e[n].created);0===t.length?t.push({date:r,logs:[e[n]]}):r.getDay()===t[t.length-1].date.getDay()?t[t.length-1].logs.push(e[n]):t.push({date:r,logs:[e[n]]})}return t}(t.log))}),[t]),Object(r.jsxs)("div",{children:[i.map((function(e){return Object(r.jsxs)("div",{className:"logDay",children:[Object(r.jsx)("h5",{className:"logDate",children:e.date.toLocaleDateString("ru-RU")}),Object(r.jsx)("div",{className:"logRows",children:e.logs.map((function(e){return Object(r.jsx)(cr,{log:e,showUsername:n},e.id+e.created)}))})]},e.logs[0].id)})),Object(r.jsx)("button",{className:"logPaginationButton",disabled:!t.has_next_page,onClick:function(){t.has_next_page&&(a(b+1),j(b+1))},children:Object(r.jsx)(Ke.k,{icon:"arrow-down"})}),Object(r.jsx)("button",{className:"logPaginationButton",disabled:1===b,onClick:function(){b>1&&(a(b-1),j(b-1))},children:Object(r.jsx)(Ke.k,{icon:"arrow-up"})})]})};var ir=function(e){var t=e.shows,n=e.stats,a=Object(s.useState)([]),c=Object(We.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(We.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/show/"+e.show.tmdb_id,children:e.show.tmdb_name}),name2:e.show.tmdb_name,status:e.status,score:e.score,review:e.review}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[];for(var t in n.genres)n.genres[t].spent_time_percent>2&&e.push({name:n.genres[t].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[t].spent_time_percent});e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0421\u0435\u0440\u0438\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(Ke.e,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsx)("div",{hidden:o.length<1,children:Object(r.jsxs)(Gn.d,{width:800,height:300,data:o,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(Gn.j,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Gn.i,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Gn.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Gn.e,{fill:nr[t]},t)}))})]})})]})};var ur=Object(u.b)((function(e){return{loggedIn:oe(e),userIsLoading:Ue(e),userInfo:Me(e),userLogs:qe(e),userLogsIsLoading:ze(e),userFriendsLogs:He(e),userFriendsLogsIsLoading:Ge(e),currentUserInfo:ie(e)}}),(function(e){return{openLoginForm:function(){e(En())},getUserInfo:function(t){var n;e((n=t,function(){var e=Object(Ze.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cn(t,V,!0),Rn(t,ne,!1),on(localStorage.getItem("token"),n).then((function(e){null!=e?t({type:F,content:e}):(h.b.error("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),Rn(t,ne,!0)),Cn(t,V,!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},setUserStatus:function(t,n){e(function(e,t){return function(){var n=Object(Ze.a)(Ye.a.mark((function n(r){return Ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(kn());case 2:if(!n.sent){n.next=4;break}ln(localStorage.getItem("token"),e,t).then((function(e){e?r({type:A,is_following:e.is_following}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getUserLogs:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Cn(s,J,!0),bn(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:B,logs:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(s,J,!1)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},getUserFriendsLogs:function(t,n,r){e(function(e,t,n){return function(){var r=Object(Ze.a)(Ye.a.mark((function r(s){return Ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Cn(s,Q,!0),pn(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:P,logs:e}):h.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),Cn(s,Q,!1)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.loggedIn,n=e.userInfo,a=e.userIsLoading,c=e.getUserInfo,o=e.currentUserInfo,i=e.setUserStatus,u=e.getUserLogs,l=e.userLogs,d=e.userLogsIsLoading,b=e.getUserFriendsLogs,j=e.userFriendsLogs,h=e.userFriendsLogsIsLoading,f=Object(p.g)().userID,m=Object(s.useState)("\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),g=Object(We.a)(m,2),O=g[0],x=g[1],v=Object(s.useState)([]),w=Object(We.a)(v,2),_=w[0],S=w[1];return Object(s.useEffect)((function(){c(f),u(f,1,15)}),[f,c,u,b]),Object(s.useEffect)((function(){t&&b(f,1,15)}),[t,f]),Object(s.useEffect)((function(){if(S([]),document.title="\u041f\u0440\u043e\u0444\u0438\u043b\u044c "+n.username,n.stats.games){var e=[];n.stats.games.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0438\u0433\u0440\u0430\u0445",value:n.stats.games.total_spent_time}),n.stats.movies.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0444\u0438\u043b\u044c\u043c\u0430\u0445",value:n.stats.movies.total_spent_time}),n.stats.episodes.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u0445",value:n.stats.episodes.total_spent_time}),S(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)(Je.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(Ke.d,{children:Object(r.jsxs)(Ke.w,{children:[Object(r.jsx)(Ke.c,{md:"0.5"}),Object(r.jsxs)(Ke.c,{className:"userPage",children:[Object(r.jsxs)("h1",{children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 ",n.username]}),Object(r.jsx)("button",{hidden:o.username===n.username,className:"addFriendButton",onClick:function(){i({is_following:!n.is_followed},n.id)},children:n.is_followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}),Object(r.jsx)(Jn,{categories:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u0414\u0440\u0443\u0437\u044c\u044f"],activeColor:"#7654de",onChangeCategory:function(e){x(e)}}),Object(r.jsxs)("div",{hidden:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"!==O,children:[Object(r.jsx)("h4",{children:"\u041c\u043e\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: "}),Object(r.jsxs)(Je.a,{active:d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:[Object(r.jsx)("div",{hidden:_.length<1,children:Object(r.jsxs)(Gn.h,{width:350,height:250,hidden:_.length<1,children:[Object(r.jsx)(Gn.g,{dataKey:"value",data:_,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",labelLine:!0,label:!0,minAngle:5,children:_.map((function(e,t){return Object(r.jsx)(Gn.e,{fill:nr[t]},t)}))}),Object(r.jsx)(Gn.i,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Gn.f,{verticalAlign:"bottom",horizontalAlign:"center"})]})}),Object(r.jsx)(or,{logs:l,onChangePage:function(e){return u(f,e,15)}})]})]}),Object(r.jsx)("div",{hidden:"\u0418\u0433\u0440\u044b"!==O,children:Object(r.jsx)(rr,{games:n.games,stats:n.stats.games})}),Object(r.jsx)("div",{hidden:"\u0424\u0438\u043b\u044c\u043c\u044b"!==O,children:Object(r.jsx)(ar,{movies:n.movies,stats:n.stats.movies})}),Object(r.jsx)("div",{hidden:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==O,children:Object(r.jsx)(ir,{shows:n.shows,stats:n.stats.episodes})}),Object(r.jsxs)("div",{hidden:"\u0414\u0440\u0443\u0437\u044c\u044f"!==O,children:[Object(r.jsx)(sr,{users:n.followed_users?n.followed_users:[]}),Object(r.jsx)("h4",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439: "}),Object(r.jsx)(Je.a,{active:h,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:Object(r.jsx)(or,{logs:j,onChangePage:function(e){return b(f,e,15)},showUsername:!0})})]})]}),Object(r.jsx)(Ke.c,{md:"0.5"})]})})})]})}));var lr=Object(u.b)((function(e){return{loggedIn:oe(e),user:ie(e)}}),(function(e){return{onLoginClick:function(){e(En())},onLogoutClick:function(){e(In())},onRegistrationClick:function(){e({type:O,isOpen:!0})}}}))((function(e){var t=e.loggedIn,n=e.onLoginClick,s=e.onLogoutClick,a=e.onRegistrationClick,c=e.user,o=Object(p.f)();return Object(r.jsxs)(Ke.r,{style:{backgroundColor:"#4527a0"},dark:!0,expand:"md",fixed:"top",children:[Object(r.jsx)(Ke.s,{onClick:function(e){return e.preventDefault(),o.push("/"),!1},children:Object(r.jsx)("strong",{className:"white-text",style:{cursor:"pointer"},children:"Interests"})}),Object(r.jsx)(Ke.t,{left:!0}),Object(r.jsxs)(Ke.t,{right:!0,children:[Object(r.jsx)(Ke.p,{children:Object(r.jsx)(Ke.j,{onSubmit:function(e){return e.preventDefault(),o.push("/search/"+document.getElementById("searchInput").value),!1},children:Object(r.jsx)("div",{className:"md-form my-0",children:Object(r.jsx)("input",{className:"form-control mr-sm-2",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438","aria-label":"\u041d\u0430\u0439\u0442\u0438",id:"searchInput"})})})}),Object(r.jsx)(Ke.p,{className:"font-weight-bold",hidden:t,children:Object(r.jsxs)(Ke.q,{to:"#",onClick:n,children:[Object(r.jsx)(Ke.k,{icon:"sign-in-alt"})," \u0412\u043e\u0439\u0442\u0438"]})}),Object(r.jsx)(Ke.p,{className:"font-weight-bold",hidden:t,children:Object(r.jsxs)(Ke.q,{to:"#",onClick:a,children:[Object(r.jsx)(Ke.k,{icon:"user-plus"})," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]})}),Object(r.jsx)(Ke.p,{hidden:!t,className:"font-weight-bold",children:Object(r.jsxs)(Ke.f,{children:[Object(r.jsx)(Ke.i,{nav:!0,caret:!0,children:Object(r.jsx)("span",{className:"mr-2",children:c.username})}),Object(r.jsxs)(Ke.h,{children:[Object(r.jsx)(Ke.g,{href:"/user/"+c.id,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(r.jsxs)(Ke.g,{onClick:s,children:[Object(r.jsx)(Ke.k,{icon:"sign-out-alt"})," \u0412\u044b\u0439\u0442\u0438"]})]})]})})]})]})})),dr=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(lr,{}),Object(r.jsx)("div",{className:"navbar"}),Object(r.jsxs)(p.c,{children:[Object(r.jsx)(p.a,{exact:!0,path:"/",component:Xe}),Object(r.jsx)(p.a,{exact:!0,path:"/game/:id",component:Bn}),Object(r.jsx)(p.a,{exact:!0,path:"/movie/:id",component:Pn}),Object(r.jsx)(p.a,{exact:!0,path:"/show/:id",component:zn}),Object(r.jsx)(p.a,{exact:!0,path:"/show/:show_id/season/:number",component:qn}),Object(r.jsx)(p.a,{exact:!0,path:"/show/:show_id/season/:season_number/episode/:episode_number",component:Hn}),Object(r.jsx)(p.a,{exact:!0,path:"/search/:query",component:Qn}),Object(r.jsx)(p.a,{exact:!0,path:"/confirm/",component:er}),Object(r.jsx)(p.a,{exact:!0,path:"/confirm_password/",component:tr}),Object(r.jsx)(p.a,{exact:!0,path:"/user/:userID",component:ur}),Object(r.jsx)(p.a,{render:function(){return Object(r.jsx)("h1",{children:"Not Found"})}})]}),Object(r.jsx)(h.a,{position:"top-center",hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0}),Object(r.jsx)($n,{}),Object(r.jsx)(Yn,{}),Object(r.jsx)(Zn,{})]})}}]),n}(a.a.Component);var br=Object(u.b)(null,(function(e){return{onLoad:function(){e(kn())}}}))((function(e){var t=e.onLoad;return Object(s.useEffect)((function(){t()}),[]),Object(r.jsx)(i.a,{children:Object(r.jsx)("div",{className:"flyout",children:Object(r.jsx)("main",{children:Object(r.jsx)(dr,{})})})})})),jr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var hr=n(55),fr=n(209),mr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||hr.c,gr=Object(hr.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e.setIn(["user"],t.user);case m:return e.setIn(["auth"],t.auth);case v:return e.setIn(["content","game","main_info"],t.game);case _:return e.setIn(["content","game","friends_info"],t.info);case w:return e.setIn(["content","game","main_info","user_info"],t.user_info);case S:return e.setIn(["content","movie","main_info"],t.movie);case k:return e.setIn(["content","movie","friends_info"],t.info);case y:return e.setIn(["content","movie","main_info","user_info"],t.user_info);case I:return e.setIn(["content","show","main_info"],t.show);case E:return e.setIn(["content","show","friends_info"],t.info);case N:return e.setIn(["content","show","main_info","user_info"],t.user_info);case C:return e.setIn(["searchContent","games"],t.games);case R:return e.setIn(["searchContent","movies"],t.movies);case L:return e.setIn(["searchContent","shows"],t.shows);case T:return e.setIn(["searchContent","users"],t.users);case F:return e.setIn(["userPageContent","user"],t.content);case A:return e.setIn(["userPageContent","user","is_followed"],t.is_following);case B:return e.setIn(["userPageContent","userLogs"],t.logs);case P:return e.setIn(["userPageContent","userFriendsLogs"],t.logs);case g:return e.setIn(["openedPages","LoginForm"],t.isOpen);case O:return e.setIn(["openedPages","RegistrateForm"],t.isOpen);case x:return e.setIn(["openedPages","ResetPasswordForm"],t.isOpen);case $:return e.setIn(["errors","auth"],t.error);case Y:return e.setIn(["errors","registrate"],t.error);case Z:return e.setIn(["errors","gameRequest"],t.error);case ee:return e.setIn(["errors","movieRequest"],t.error);case te:return e.setIn(["errors","showRequest"],t.error);case ne:return e.setIn(["errors","userPage"],t.error);case re:return e.setIn(["errors","resetPassword"],t.error);case se:return e.setIn(["errors","confirmPassword"],t.error);case D:return e.setIn(["isLoading","contentGame"],t.isLoading);case U:return e.setIn(["isLoading","contentGameFriends"],t.isLoading);case z:return e.setIn(["isLoading","contentMovie"],t.isLoading);case G:return e.setIn(["isLoading","contentMovieFriends"],t.isLoading);case M:return e.setIn(["isLoading","contentShow"],t.isLoading);case q:return e.setIn(["isLoading","contentShowFriends"],t.isLoading);case H:return e.setIn(["isLoading","searchGames"],t.isLoading);case X:return e.setIn(["isLoading","searchMovies"],t.isLoading);case W:return e.setIn(["isLoading","searchShows"],t.isLoading);case V:return e.setIn(["isLoading","userPageContent"],t.isLoading);case J:return e.setIn(["isLoading","userPageLogs"],t.isLoading);case Q:return e.setIn(["isLoading","userPageFriendsLogs"],t.isLoading);case K:return e.setIn(["isLoading","searchUsers"],t.isLoading);default:return e}}),mr(Object(hr.a)(fr.a)));o.a.render(Object(r.jsx)(u.a,{store:gr,children:Object(r.jsx)(br,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");jr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pr(t,e)}))}}();t.default=gr}},[[468,1,2]]]);
//# sourceMappingURL=main.e562b93c.chunk.js.map