{"version":3,"sources":["store/actionTypes.js","store/reducers.js","components/HomePage.js","settings.js","services/jwtAuth.js","services/requests.js","store/actions.js","components/Common/StatusButtonGroup.js","components/Common/FriendsActivityRow.js","components/Common/FriendsActivity.js","components/Game/GamePage.js","components/Movie/MoviePage.js","components/Show/EpisodeRow.js","components/Show/SeasonsBlock.js","components/Show/ShowPage.js","components/Show/DetailedEpisodeRow.js","components/Show/SeasonPage.js","components/Search/CardGame.js","components/Search/CardMovie.js","components/Search/CardShow.js","components/Common/CardUser.js","components/Common/CategoriesTab.js","components/Search/SearchPage.js","components/Modals/LoginForm.js","components/Modals/RegistrationForm.js","components/Modals/ResetPasswordForm.js","components/ConfirmPage.js","components/ConfirmPasswordPage.js","components/UserPage/GameBlock.js","components/UserPage/FriendBlock.js","components/UserPage/MovieBlock.js","components/UserPage/LogRow.js","components/UserPage/UserLogBlock.js","components/UserPage/ShowBlock.js","components/UserPage/UserPage.js","components/Navbar.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["SET_USER","SET_AUTH","SET_LOGINFORM","SET_REGISTRATEFORM","SET_RESET_PASSWORD_FORM","SET_CONTENT_GAME","SET_CONTENT_GAME_USERINFO","SET_CONTENT_GAME_FRIENDS","SET_CONTENT_MOVIE","SET_CONTENT_MOVIE_USERINFO","SET_CONTENT_MOVIE_FRIENDS","SET_CONTENT_SHOW","SET_CONTENT_SHOW_USERINFO","SET_CONTENT_SHOW_FRIENDS","SET_SEARCH_CONTENT_GAMES","SET_SEARCH_CONTENT_MOVIES","SET_SEARCH_CONTENT_SHOWS","SET_SEARCH_CONTENT_USERS","SET_USER_PAGE_CONTENT","SET_USER_PAGE_FOLLOWING","SET_USER_PAGE_LOGs","SET_USER_PAGE_FRIENDS_LOGS","SET_IS_LOADING_CONTENT_GAME","SET_IS_LOADING_CONTENT_GAME_FRIENDS","SET_IS_LOADING_CONTENT_MOVIE","SET_IS_LOADING_CONTENT_MOVIE_FRIENDS","SET_IS_LOADING_CONTENT_SHOW","SET_IS_LOADING_CONTENT_SHOW_FRIENDS","SET_IS_LOADING_SEARCH_GAMES","SET_IS_LOADING_SEARCH_MOVIES","SET_IS_LOADING_SEARCH_SHOWS","SET_IS_LOADING_SEARCH_USERS","SET_IS_LOADING_USER_PAGE_CONTENT","SET_IS_LOADING_USER_PAGE_LOGS","SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS","AUTH_ERROR","REGISTRATE_ERROR","GAME_REQUEST_ERROR","MOVIE_REQUEST_ERROR","SHOW_REQUEST_ERROR","USER_PAGE_ERROR","RESET_PASSWORD_ERROR","CONFIRM_PASSWORD_ERROR","initialState","Map","auth","loggedIn","user","username","email","id","content","game","main_info","rawg","name","background_image","background_image_additional","developers","hltb","game_image_url","user_info","status","review","score","spent_time","friends_info","movie","tmdb","title","poster_path","show","episode_run_time","searchContent","games","movies","shows","users","userPageContent","stats","userLogs","log","userFriendsLogs","openedPages","LoginForm","RegistrateForm","ResetPasswordForm","errors","registrate","gameRequest","movieRequest","userPage","resetPassword","confirmPassword","isLoading","contentGame","contentGameFriends","contentMovie","contentMovieFriends","contentShow","contentShowFriends","userPageLogs","userPageFriendsLogs","searchGames","searchMovies","searchShows","searchUsers","getLoggedIn","state","get","getUser","getContentGame","getContentGameFriends","getContentMovie","getContentMovieFriends","getContentShow","getSearchContentGames","getSearchContentMovies","getSearchContentShows","getSearchContentUsers","getAuthError","getRegistrateError","getGameRequestError","getMovieRequestError","getShowRequestError","showRequest","getResetPasswordError","getConfirmPasswordError","getLoginForm","getRegistrateForm","getResetPasswordForm","getIsLoadingContentGame","getIsLoadingContentGameFriends","getIsLoadingContentMovie","getIsLoadingContentMovieFriends","getIsLoadingContentShow","getIsLoadingSearchGames","getIsLoadingSearchMovies","getIsLoadingSearchShows","getIsLoadingSearchUsers","getIsLoadingUserPageContent","getIsLoadingUserPageLogs","getIsLoadingUserPageFriendsLogs","getUserPageContent","getUserPageLogs","getUserPageFriendsLogs","connect","selectors","className","style","marginTop","marginLeft","href","fontWeight","src","alt","BACKEND_URL","GET_TOKEN_URL","REFRESH_TOKEN_URL","REGISTRATE_URL","CONFIRM_URL","RESET_PASSWORD_URL","CONFIRM_PASSWORD_URL","GET_GAME_URL","SEARCH_GAMES_URL","GET_MOVIE_URL","SEARCH_MOVIES_URL","GET_SHOW_URL","SEARCH_SHOWS_URL","USER_INFO_URL","SEARCH_USERS_URL","axiosConfig","headers","getToken","password","a","axios","post","urls","res","userData","jwt_decode","data","access","user_id","token","refreshToken","refresh","console","updateToken","registration","response","confirmation","uid64","patch","put","getGame","AuthStr","getMovie","getShow","getShowSeason","showID","seasonNumber","setGameStatus","gameSlug","setMovieStatus","setShowStatus","setShowSeasonStatus","query","page","gamesCount","params","page_size","warn","getUserInfo","userID","setUserStatus","is_following","getUserLog","resultsOnPage","getUserFriendsLog","getGameFriends","slug","getMovieFriends","checkAuthorization","dispatch","localStorage","getItem","Date","now","type","actionTypes","setItem","resetAuthorization","removeItem","openLoginForm","isOpen","setLoading","setError","isError","error","defaults","common","StatusButtonGroup","statuses","activeColor","onChangeStatus","userStatus","useState","activeStatus","setActiveStatus","useEffect","map","backgroundColor","onClick","intToHours","number","FriendsActivityRow","info","history","useHistory","window","location","origin","e","push","preventDefault","stop","emptySymbol","far","icon","size","fullSymbol","n","initialRating","readonly","hidden","FriendsActivity","friendInfo","updated_at","requestError","gameIsLoading","gameFriends","gameFriendsIsLoading","requestGame","Requests","then","result","toast","actions","requestGameFriends","getState","useParams","genres","setGenres","metascoreBlock","setMetascoreBlock","setReview","spentTime","setSpentTime","setDevelopers","date","setDate","gameplay_main_extra","gameplay_main","gameplay_comletionist","hltbInfo","setHtlbInfo","newGenres","i","length","metacritic","playtime","gameplay_completionist","newDevelopers","released","mas","split","newDate","document","backgroundImage","active","spinner","text","md","display","gameplay_main_unit","gameplay_main_extra_unit","gameplay_completionist_unit","fontSize","onChange","getElementById","value","marginBottom","paddingTop","dangerouslySetInnerHTML","__html","description","paddingLeft","label","event","target","outline","disabled","movieIsLoading","movieFriends","movieFriendsIsLoading","requestMovie","requestMovieFriends","companies","setCompanies","cast","setCast","director","setDirector","vote_average","production_companies","newCompanies","newCast","crew","newDirector","job","backdrop_path","release_date","runtime","tagline","overview","EpisodeRow","episode","season","SeasonsBlock","seasons","hereSeasons","setHereSeasons","newSeasons","newSeason","episodes","episode_count","season_number","open","showIsLoading","requestShow","setShowUserStatus","showStatus","firstDate","setFirstDate","lastDate","setLastDate","first_air_date","last_air_date","original_name","number_of_seasons","number_of_episodes","DetailedEpisodeRow","air_date","toLocaleDateString","episode_number","showSeason","showSeasonIsLoading","requestShowSeason","show_id","chartData","setChartData","show_name","newData","show_original_name","user_watched_show","width","height","margin","top","right","left","bottom","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","interval","tickLine","contentStyle","color","stroke","fillOpacity","fill","CardGame","setName","newName","substr","CardMovie","CardShow","CardUser","CategoriesTab","categories","onChangeCategory","activeCategory","setActiveCategory","category","gamesIsLoading","moviesIsLoading","showsIsLoading","usersIsLoading","searchGame","searchMovie","results","searchShow","queryText","setQueryText","gamesCards","setGamesCards","moviesCards","setMoviesCards","showsCards","setShowsCards","usersCards","setUsersCards","gamesPage","setGamesPage","moviesPage","setMoviesPage","showsPage","setShowsPage","onSubmit","placeholder","aria-label","authError","closeForm","logIn","login","openResetPasswordForm","setPassword","setLogin","toggle","centered","htmlFor","registrateArror","passwordConfirm","setPasswordConfirm","setEmail","outlineColor","resetPasswordError","confirmEmailRequest","success","search","URLSearchParams","confirmPasswordError","GameBlock","gameColumns","field","sort","columns","rows","gameTableData","setGameTableData","rawg_slug","rawg_name","name2","parseFloat","count","total_spent_time","striped","bordered","small","barReverse","noBottomColumns","noRecordsFoundLabel","paginationLabel","entriesLabel","searchLabel","FriendBlock","MovieBlock","movieColumns","movieTableData","setMovieTableData","tmdb_id","tmdb_name","LogRow","showUsername","created","toLocaleTimeString","action","actionResult","translateActionType","action_type","action_result","actionType","translateType","parent_name","nameToLink","target_id","actionResultToStr","UserLogBlock","logs","onChangePage","logsByDay","setLogsByDay","currentPage","setCurrentPage","newLogs","getDay","groupLogsByDay","dayLog","has_next_page","ShowBlock","showColumns","showTableData","setShowTableData","COLORS","userIsLoading","userInfo","userLogsIsLoading","userFriendsLogsIsLoading","currentUserInfo","getUserLogs","getUserFriendsLogs","is_followed","cx","cy","outerRadius","labelLine","entry","index","verticalAlign","horizontalAlign","pageNumber","followed_users","onLoginClick","onLogoutClick","onRegistrationClick","dark","expand","fixed","cursor","to","nav","caret","Routes","exact","path","component","HomePage","GamePage","MoviePage","ShowPage","SeasonPage","SearchPage","ConfirmPage","ConfirmPasswordPage","UserPage","render","position","hideProgressBar","newestOnTop","closeOnClick","React","Component","onLoad","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","types","setIn","applyMiddleware","thunk","ReactDOM","URL","process","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.86702102.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';\r\nexport const SET_AUTH = \"SET_AUTH\";\r\n\r\nexport const SET_LOGINFORM = \"SET_LOGINFORM\";\r\nexport const SET_REGISTRATEFORM = \"SET_REGISTRATEFORM\";\r\nexport const SET_RESET_PASSWORD_FORM = \"SET_RESET_PASSWORD_FORM\";\r\n\r\nexport const SET_CONTENT_GAME = \"SET_CONTENT_GAME\";\r\nexport const SET_CONTENT_GAME_USERINFO = \"SET_CONTENT_GAME_USERINFO\";\r\nexport const SET_CONTENT_GAME_FRIENDS = \"SET_CONTENT_GAME_FRIENDS\";\r\n\r\nexport const SET_CONTENT_MOVIE = \"SET_CONTENT_MOVIE\";\r\nexport const SET_CONTENT_MOVIE_USERINFO = \"SET_CONTENT_MOVIE_USERINFO\";\r\nexport const SET_CONTENT_MOVIE_FRIENDS = \"SET_CONTENT_MOVIE_FRIENDS\";\r\n\r\nexport const SET_CONTENT_SHOW = \"SET_CONTENT_SHOW\";\r\nexport const SET_CONTENT_SHOW_USERINFO = \"SET_CONTENT_SHOW_USERINFO\";\r\nexport const SET_CONTENT_SHOW_FRIENDS = \"SET_CONTENT_SHOW_FRIENDS\";\r\n\r\nexport const SET_SEARCH_CONTENT_GAMES = \"SET_SEARCH_CONTENT_GAMES\";\r\nexport const SET_SEARCH_CONTENT_MOVIES = \"SET_SEARCH_CONTENT_MOVIES\";\r\nexport const SET_SEARCH_CONTENT_SHOWS = \"SET_SEARCH_CONTENT_SHOWS\";\r\nexport const SET_SEARCH_CONTENT_USERS = \"SET_SEARCH_CONTENT_USERS\";\r\n\r\nexport const SET_USER_PAGE_CONTENT = \"SET_USER_PAGE_CONTENT\";\r\nexport const SET_USER_PAGE_FOLLOWING = \"SET_USER_PAGE_FOLLOWING\";\r\nexport const SET_USER_PAGE_LOGs = \"SET_USER_PAGE_LOGs\";\r\nexport const SET_USER_PAGE_FRIENDS_LOGS = \"SET_USER_PAGE_FRIENDS_LOGS\";\r\n\r\nexport const SET_IS_LOADING_CONTENT_GAME = \"SET_IS_LOADING_CONTENT_GAME\";\r\nexport const SET_IS_LOADING_CONTENT_GAME_FRIENDS = \"SET_IS_LOADING_CONTENT_GAME_FRIENDS\";\r\nexport const SET_IS_LOADING_CONTENT_MOVIE = \"SET_IS_LOADING_CONTENT_MOVIE\";\r\nexport const SET_IS_LOADING_CONTENT_MOVIE_FRIENDS = \"SET_IS_LOADING_CONTENT_MOVIE_FRIENDS\";\r\nexport const SET_IS_LOADING_CONTENT_SHOW = \"SET_IS_LOADING_CONTENT_SHOW\";\r\nexport const SET_IS_LOADING_CONTENT_SHOW_FRIENDS = \"SET_IS_LOADING_CONTENT_SHOW_FRIENDS\";\r\nexport const SET_IS_LOADING_SEARCH_GAMES = \"SET_IS_LOADING_SEARCH_GAMES\";\r\nexport const SET_IS_LOADING_SEARCH_MOVIES = \"SET_IS_LOADING_SEARCH_MOVIES\";\r\nexport const SET_IS_LOADING_SEARCH_SHOWS = \"SET_IS_LOADING_SEARCH_SHOWS\";\r\nexport const SET_IS_LOADING_SEARCH_USERS = \"SET_IS_LOADING_SEARCH_USERS\";\r\nexport const SET_IS_LOADING_USER_PAGE_CONTENT = \"SET_IS_LOADING_USER_PAGE_CONTENT\";\r\nexport const SET_IS_LOADING_USER_PAGE_LOGS = \"SET_IS_LOADING_USER_PAGE_LOGS\";\r\nexport const SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS = \"SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS\";\r\n\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\nexport const REGISTRATE_ERROR = \"REGISTRATE_ERROR\";\r\nexport const GAME_REQUEST_ERROR = \"GAME_REQUEST_ERROR\";\r\nexport const MOVIE_REQUEST_ERROR = \"MOVIE_REQUEST_ERROR\";\r\nexport const SHOW_REQUEST_ERROR = \"SHOW_REQUEST_ERROR\";\r\nexport const USER_PAGE_ERROR = \"USER_PAGE_ERROR\";\r\nexport const RESET_PASSWORD_ERROR = \"RESET_PASSWORD_ERROR\";\r\nexport const CONFIRM_PASSWORD_ERROR = \"CONFIRM_PASSWORD_ERROR\";","import * as types from './actionTypes';\r\nimport { Map } from 'immutable';\r\n\r\n// Создаем reducer с начальным состоянием.\r\nconst initialState = Map(\r\n    {\r\n        auth: { loggedIn: false },\r\n        user: { username:\"\", email:\"\", id: null },\r\n        content: { \r\n            game: { main_info:{ rawg: { name: \"\", background_image: \"\", background_image_additional: \"\", developers: [{}], },\r\n                                hltb:{ game_image_url: \"\"  },\r\n                                user_info:{ status: null, review: \"\", score: 0, spent_time: 0 } },\r\n                    friends_info: {  friends_info: []  }\r\n            },\r\n            movie: { main_info:{ tmdb: {  title: \"\", poster_path: \"\", developers: [{}],  },\r\n                                user_info:{ status: null,  review: \"\", score: 0, spent_time: 0  } },\r\n                    friends_info: { friends_info: []  }\r\n            },\r\n            show: { main_info:{ tmdb: {  title: \"\", poster_path: \"\",developers: [{}], episode_run_time: []},\r\n                                user_info:{ status: null, review: \"\", score: 0, spent_time: 0 } },\r\n                    friends_info: { friends_info: [] }\r\n            }  \r\n        },\r\n        searchContent: { games: [], movies: [], shows: [], users: []\r\n        },\r\n        userPageContent: {\r\n            user: {\r\n                stats: {}\r\n            },\r\n            userLogs: {log: []},\r\n            userFriendsLogs: {log: []},\r\n        },\r\n        openedPages: { LoginForm: false, RegistrateForm: false, ResetPasswordForm: false },\r\n        errors: {auth: false, registrate: false, gameRequest: false, movieRequest: false, userPage: false, resetPassword: false, confirmPassword: false },\r\n        isLoading: {    contentGame: false, contentGameFriends: false,\r\n                        contentMovie: false, contentMovieFriends: false,\r\n                        contentShow: false, contentShowFriends: false,\r\n                        userPageContent: false, userPageLogs: false, userPageFriendsLogs: false,\r\n                        searchGames: false, searchMovies: false, searchShows: false,  searchUsers: false,\r\n                    }\r\n    }\r\n);\r\n\r\nexport default function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    //Редьюсеры пользовательской информации\r\n    case types.SET_USER: return state.setIn(['user'], action.user);\r\n    case types.SET_AUTH: return state.setIn(['auth'], action.auth);\r\n\r\n    //Редьюсеры информации об игре\r\n    case types.SET_CONTENT_GAME: return state.setIn(['content', 'game', 'main_info'], action.game);\r\n    case types.SET_CONTENT_GAME_FRIENDS: return state.setIn(['content', 'game', 'friends_info'], action.info);\r\n    case types.SET_CONTENT_GAME_USERINFO: return state.setIn(['content', 'game', 'main_info','user_info'], action.user_info);\r\n\r\n    //Редьюсеры информации о фильме\r\n    case types.SET_CONTENT_MOVIE: return state.setIn(['content', 'movie', 'main_info'], action.movie);\r\n    case types.SET_CONTENT_MOVIE_FRIENDS: return state.setIn(['content', 'movie', 'friends_info'], action.info);\r\n    case types.SET_CONTENT_MOVIE_USERINFO: return state.setIn(['content', 'movie', 'main_info', 'user_info'], action.user_info);\r\n\r\n    //Редьюсеры информации о сериале\r\n    case types.SET_CONTENT_SHOW: return state.setIn(['content', 'show', 'main_info'], action.show);\r\n    case types.SET_CONTENT_SHOW_FRIENDS: return state.setIn(['content', 'show', 'friends_info'], action.info);\r\n    case types.SET_CONTENT_SHOW_USERINFO: return state.setIn(['content', 'show', 'main_info', 'user_info'], action.user_info);\r\n\r\n    //Редьюсеры результатов поиска\r\n    case types.SET_SEARCH_CONTENT_GAMES: return state.setIn(['searchContent', 'games'], action.games);\r\n    case types.SET_SEARCH_CONTENT_MOVIES: return state.setIn(['searchContent', 'movies'], action.movies);\r\n    case types.SET_SEARCH_CONTENT_SHOWS: return state.setIn(['searchContent', 'shows'], action.shows);\r\n    case types.SET_SEARCH_CONTENT_USERS: return state.setIn(['searchContent', 'users'], action.users);\r\n\r\n    //Редьюсеры страницы профиля\r\n    case types.SET_USER_PAGE_CONTENT: return state.setIn(['userPageContent', 'user'], action.content);\r\n    case types.SET_USER_PAGE_FOLLOWING: return state.setIn(['userPageContent', 'user', 'is_followed'], action.is_following);\r\n    case types.SET_USER_PAGE_LOGs:  return state.setIn(['userPageContent', 'userLogs'], action.logs);\r\n    case types.SET_USER_PAGE_FRIENDS_LOGS: return state.setIn(['userPageContent', 'userFriendsLogs'], action.logs);\r\n\r\n    //Редьюсеры состояния всплывающих окон\r\n    case types.SET_LOGINFORM:  return state.setIn(['openedPages', 'LoginForm'], action.isOpen);\r\n    case types.SET_REGISTRATEFORM:  return state.setIn(['openedPages', 'RegistrateForm'], action.isOpen);\r\n    case types.SET_RESET_PASSWORD_FORM:  return state.setIn(['openedPages', 'ResetPasswordForm'], action.isOpen);\r\n\r\n    //Редьюсеры ошибок\r\n    case types.AUTH_ERROR:  return state.setIn(['errors', 'auth'], action.error);\r\n    case types.REGISTRATE_ERROR:  return state.setIn(['errors', 'registrate'], action.error);\r\n    case types.GAME_REQUEST_ERROR: return state.setIn(['errors', 'gameRequest'], action.error);\r\n    case types.MOVIE_REQUEST_ERROR:  return state.setIn(['errors', 'movieRequest'], action.error);\r\n    case types.SHOW_REQUEST_ERROR:  return state.setIn(['errors', 'showRequest'], action.error);\r\n    case types.USER_PAGE_ERROR: return state.setIn(['errors', 'userPage'], action.error);\r\n    case types.RESET_PASSWORD_ERROR: return state.setIn(['errors', 'resetPassword'], action.error);\r\n    case types.CONFIRM_PASSWORD_ERROR: return state.setIn(['errors', 'confirmPassword'], action.error);\r\n\r\n    //Редьюсеры состояния загрузки\r\n    case types.SET_IS_LOADING_CONTENT_GAME:  return state.setIn(['isLoading', 'contentGame'], action.isLoading);\r\n    case types.SET_IS_LOADING_CONTENT_GAME_FRIENDS:  return state.setIn(['isLoading', 'contentGameFriends'], action.isLoading);\r\n    case types.SET_IS_LOADING_CONTENT_MOVIE:  return state.setIn(['isLoading', 'contentMovie'], action.isLoading);\r\n    case types.SET_IS_LOADING_CONTENT_MOVIE_FRIENDS:  return state.setIn(['isLoading', 'contentMovieFriends'], action.isLoading);\r\n    case types.SET_IS_LOADING_CONTENT_SHOW:  return state.setIn(['isLoading', 'contentShow'], action.isLoading);\r\n    case types.SET_IS_LOADING_CONTENT_SHOW_FRIENDS:  return state.setIn(['isLoading', 'contentShowFriends'], action.isLoading);\r\n    case types.SET_IS_LOADING_SEARCH_GAMES:  return state.setIn(['isLoading', 'searchGames'], action.isLoading);\r\n    case types.SET_IS_LOADING_SEARCH_MOVIES:  return state.setIn(['isLoading', 'searchMovies'], action.isLoading);\r\n    case types.SET_IS_LOADING_SEARCH_SHOWS:  return state.setIn(['isLoading', 'searchShows'], action.isLoading);\r\n    case types.SET_IS_LOADING_USER_PAGE_CONTENT:  return state.setIn(['isLoading', 'userPageContent'], action.isLoading);\r\n    case types.SET_IS_LOADING_USER_PAGE_LOGS: return state.setIn(['isLoading', 'userPageLogs'], action.isLoading);\r\n    case types.SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS:  return state.setIn(['isLoading', 'userPageFriendsLogs'], action.isLoading);\r\n    case types.SET_IS_LOADING_SEARCH_USERS: return state.setIn(['isLoading', 'searchUsers'], action.isLoading);\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\n//Селекторы пользовательской информации\r\nexport function getLoggedIn(state) { return state.get('auth').loggedIn; }\r\nexport function getAuth(state) { return state.get('auth');}\r\nexport function getUser(state) {  return state.get('user'); }\r\n\r\n//Селекторы информации о контенте\r\nexport function getContentGame(state) {  return state.get('content').game.main_info; }\r\nexport function getContentGameFriends(state) {  return state.get('content').game.friends_info; }\r\nexport function getContentMovie(state) { return state.get('content').movie.main_info; }\r\nexport function getContentMovieFriends(state) {  return state.get('content').movie.friends_info; }\r\nexport function getContentShow(state) { return state.get('content').show.main_info; }\r\nexport function getContentShowFriends(state) {  return state.get('content').show.friends_info; }\r\n\r\n//Селекторы поисковых результатов\r\nexport function getSearchContentGames(state) { return state.get('searchContent').games;}\r\nexport function getSearchContentMovies(state) { return state.get('searchContent').movies; }\r\nexport function getSearchContentShows(state) { return state.get('searchContent').shows; }\r\nexport function getSearchContentUsers(state) { return state.get('searchContent').users; }\r\n\r\n//Селекторы ошибок\r\nexport function getAuthError(state) { return state.get('errors').auth; }\r\nexport function getRegistrateError(state) { return state.get('errors').registrate; }\r\nexport function getGameRequestError(state) {  return state.get('errors').gameRequest; }\r\nexport function getMovieRequestError(state) { return state.get('errors').movieRequest; }\r\nexport function getShowRequestError(state) { return state.get('errors').showRequest; }\r\nexport function getUserPageError(state) {  return state.get('errors').userPage;}\r\nexport function getResetPasswordError(state) {  return state.get('errors').resetPassword;}\r\nexport function getConfirmPasswordError(state) {  return state.get('errors').confirmPassword;}\r\n\r\n//Селекторы состояния высплывающих окон\r\nexport function getLoginForm(state) { return state.get('openedPages').LoginForm; }\r\nexport function getRegistrateForm (state) { return state.get('openedPages').RegistrateForm; }\r\nexport function getResetPasswordForm (state) { return state.get('openedPages').ResetPasswordForm; }\r\n\r\n//Селекторы состояния загрузки\r\nexport function getIsLoadingContentGame(state) { return state.get('isLoading').contentGame; }\r\nexport function getIsLoadingContentGameFriends(state) { return state.get('isLoading').contentGameFriends; }\r\nexport function getIsLoadingContentMovie(state) {  return state.get('isLoading').contentMovie; }\r\nexport function getIsLoadingContentMovieFriends(state) { return state.get('isLoading').contentMovieFriends; }\r\nexport function getIsLoadingContentShow(state) {  return state.get('isLoading').contentShow; }\r\nexport function getIsLoadingContentShowFriends(state) { return state.get('isLoading').contentShowFriends; }\r\nexport function getIsLoadingSearchGames(state) { return state.get('isLoading').searchGames; }\r\nexport function getIsLoadingSearchMovies(state) { return state.get('isLoading').searchMovies; }\r\nexport function getIsLoadingSearchShows(state) { return state.get('isLoading').searchShows; }\r\nexport function getIsLoadingSearchUsers(state) { return state.get('isLoading').searchUsers;}\r\nexport function getIsLoadingSearchAll(state) { return (state.get('isLoading').searchUsers || state.get('isLoading').searchMovies || state.get('isLoading').searchGames); }\r\nexport function getIsLoadingUserPageContent(state) { return state.get('isLoading').userPageContent; }\r\nexport function getIsLoadingUserPageLogs(state) { return state.get('isLoading').userPageLogs; }\r\nexport function getIsLoadingUserPageFriendsLogs(state) { return state.get('isLoading').userPageFriendsLogs; }\r\n\r\n//Селекторы страницы профиля\r\nexport function getUserPageContent(state){  return state.get('userPageContent').user; }\r\nexport function getUserPageLogs(state){ return state.get('userPageContent').userLogs; }\r\nexport function getUserPageFriendsLogs(state){  return state.get('userPageContent').userFriendsLogs; }","import React from \"react\";\r\n\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../store/reducers';\r\n//import * as actions from '../store/actions';\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction HomePage ({user}) \r\n{\r\n    return (\r\n\t\t\t<div className=\"bg\">\r\n\t\t\t\t<h2 style={{marginTop: '70px', marginLeft: '30px'}}>Добро пожаловать на Interests!</h2>\r\n\t\t\t\t<h4 style={{marginLeft: '30px'}}>\r\n\t\t\t\t\tГлавная страница ещё не готова, однако можно воспользоваться <a href='/search/example' style={{fontWeight: '600'}}>поиском</a> или проверить свой <a href={\"/user/\"+user.id} style={{fontWeight: '600'}}>профиль</a>, если вы уже зарегистрированы\r\n\t\t\t\t</h4>\r\n\t\t\t\t<img src=\"images/cool.jpg\" style={{marginLeft: '20px'}} alt=\"Картинка\"/>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: selectors.getUser(state)\r\n});\r\n\r\n  const mapDispatchToProps = () => {\r\n\treturn {\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n","/** Время жизни токена в миллисекундах, после истечения которого будет запрошен новый токен*/\r\nexport const TOKEN_LIFETIME = 86000000; \r\n/**Адрес сервера*/\r\nexport const BACKEND_URL = \"http://35.193.124.214:8001/\";\r\n/**Адрес получения токена */\r\nexport const GET_TOKEN_URL = BACKEND_URL + \"users/auth/login/\"; \r\n/**Адрес обновления токена */\r\nexport const REFRESH_TOKEN_URL = BACKEND_URL + \"users/auth/refresh-token/\";\r\n/**Адрес регистрации */\r\nexport const REGISTRATE_URL = BACKEND_URL + \"users/auth/signup/\";\r\n/**Адрес подтверждения почты */\r\nexport const CONFIRM_URL = BACKEND_URL + \"users/auth/confirm_email/\";\r\n/**Адрес сброса пароля */\r\nexport const RESET_PASSWORD_URL = BACKEND_URL + \"users/user/password_reset/\"; \r\n/**Адрес подтверждения сброса пароля */\r\nexport const CONFIRM_PASSWORD_URL = BACKEND_URL + \"users/user/confirm_password_reset/\";\r\n/**Адрес запроса игры */\r\nexport const GET_GAME_URL = BACKEND_URL + \"games/game/\";\r\n/**Адрес поиска игр */\r\nexport const SEARCH_GAMES_URL = BACKEND_URL + \"games/search/\";\r\n/**Адрес запроса фильма */\r\nexport const GET_MOVIE_URL = BACKEND_URL + \"movies/movie/\";\r\n/**Адрес поиска фильмов */\r\nexport const SEARCH_MOVIES_URL = BACKEND_URL + \"movies/search/\";\r\n/**Адрес запроса сериала */\r\nexport const GET_SHOW_URL = BACKEND_URL + \"shows/show/\";\r\n/**Адрес поиска сериалов */\r\nexport const SEARCH_SHOWS_URL = BACKEND_URL + \"shows/search/\";\r\n/**Адрес получения информации о пользователе */\r\nexport const USER_INFO_URL = BACKEND_URL + \"users/user/\";\r\n/**Адрес поиска пользователей */\r\nexport const SEARCH_USERS_URL = BACKEND_URL + \"users/search/\"; \r\n","import axios from \"axios\";\r\nimport jwt_decode from 'jwt-decode';\r\nimport * as urls from '../settings';\r\n\r\nlet axiosConfig = {\r\n    headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n    }\r\n};\r\n\r\n/**\r\n * ПОлучение токена авторизации. Токен сохраняется в localStorage\r\n * @param {string} username Имя пользователя\r\n * @param {string} password Пароль \r\n */\r\nexport async function getToken(username, password){\r\n    try{\r\n        const res = await axios.post(urls.GET_TOKEN_URL, {\r\n                    username: username,\r\n                    password: password \r\n                }, axiosConfig);\r\n\r\n        let userData = jwt_decode(res.data.access);\r\n        let user = {username: userData.username, id: userData.user_id, email: userData.email}\r\n\r\n        return {token: res.data.access, refreshToken: res.data.refresh, user: user};\r\n    }catch(e){\r\n        console.log(\"axios error: \" + e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Функция обновления токена\r\n */\r\nexport async function updateToken(refreshToken){\r\n    if (typeof refreshToken !== 'undefined' & refreshToken != null)\r\n        try{\r\n            const res = await axios.post(urls.REFRESH_TOKEN_URL, {\r\n                        refresh: refreshToken\r\n                    }, axiosConfig);\r\n                    \r\n            let userData = jwt_decode(res.data.access);\r\n            let user = {username: userData.username, id: userData.user_id, email: userData.email};\r\n\r\n            return {token: res.data.access, user: user};\r\n        }catch(e){\r\n            console.log(\"exios error: \" + e);\r\n            return null;\r\n        }\r\n    return null;\r\n}\r\n\r\nexport async function registration(username, email, password) {\r\n   try{\r\n        const res = await axios.post(urls.REGISTRATE_URL, \r\n            {  \r\n                username: username,\r\n                email: email, \r\n                password: password \r\n            }, axiosConfig);\r\n        let data = res.data;\t\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e.response);\r\n        return e.response;\r\n    }\r\n}\r\n\r\nexport async function confirmation(uid64, token) {\r\n    try{\r\n        const res = await axios.patch(urls.CONFIRM_URL + '?uid64=' + uid64 + '&token=' + token);\r\n        return res;\r\n     }catch(e){\r\n         console.log(\"AXIOS ERROR: \", e.response);\r\n         return e.response;\r\n     }\r\n }\r\n\r\n export async function resetPassword(email) {\r\n    try{\r\n        const res = await axios.put(urls.RESET_PASSWORD_URL,  {  email: email }, axiosConfig);\r\n        return res;\r\n     }catch(e){\r\n         console.log(\"AXIOS ERROR: \", e.response);\r\n         return e.response;\r\n     }\r\n }\r\n\r\n export async function confirmPassword(token, password) {\r\n    try{\r\n        const res = await axios.patch(urls.CONFIRM_PASSWORD_URL + '?reset_token=' + token,  { password: password }, axiosConfig);\r\n        return res;\r\n     }catch(e){\r\n         console.log(\"AXIOS ERROR: \", e.response);\r\n         return e.response;\r\n     }\r\n }","import axios from \"axios\";\r\nimport {GET_GAME_URL, SEARCH_GAMES_URL, USER_INFO_URL, SEARCH_MOVIES_URL, GET_MOVIE_URL, SEARCH_USERS_URL, SEARCH_SHOWS_URL, GET_SHOW_URL} from \"../settings\";\r\n\r\nlet axiosConfig = {\r\n    headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n    }\r\n};\r\n\r\naxios.defaults.headers.common = {\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n\r\n/**\r\n * Запрос к бд, получающий информацию об игре\r\n * @param {string} token Токен доступа\r\n * @param {string} id ID игры  \r\n * @returns {object} Информация об игре\r\n */\r\nexport async function getGame(token, id) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_GAME_URL + id + \"/\", { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_GAME_URL + id + \"/\", axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Запрос к бд, получающий информацию о фильме\r\n * @param {string} token Токен доступа\r\n * @param {string} id ID фильма  \r\n * @returns {object} Информация о фильме\r\n */\r\nexport async function getMovie(token, id) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_MOVIE_URL + id + \"/\", { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_MOVIE_URL + id + \"/\", axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий информацию о сериале\r\n * @param {string} token Токен доступа\r\n * @param {string} id ID сериала  \r\n * @returns {object} Информация о сериале\r\n */\r\nexport async function getShow(token, id) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_SHOW_URL + id + \"/\", { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_SHOW_URL + id + \"/\", axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий информацию о сезоне сериала\r\n * @param {string} token Токен доступа\r\n * @param {string} showID ID сериала \r\n *  * @param {string} seasonNumber номер сезона\r\n * @returns {object} Информация о сериале\r\n */\r\nexport async function getShowSeason(token, showID, seasonNumber) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_SHOW_URL + showID + \"/season/\" + seasonNumber, { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_SHOW_URL + showID + \"/season/\" + seasonNumber, axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на изменение статуса игры\r\n * @param {string} token Токен доступа\r\n * @param {object} user_info Статус игры\r\n * @param {string} gameSlug Слаг игры\r\n */\r\nexport async function setGameStatus(token, gameSlug, user_info){\r\n    try{\r\n        var AuthStr = 'Bearer ' + token;\r\n\r\n        const res = await axios.put(GET_GAME_URL + gameSlug + \"/\", \r\n            user_info, { headers: { 'Authorization': AuthStr } });\r\n        \r\n        if (res.status === 204 || res.status === 200 || res.status === 201)\r\n            return res.data;\r\n        else return null;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на изменение статуса фильма\r\n * @param {string} token Токен доступа\r\n * @param {object} user_info Статус фильма\r\n * @param {string} movieID ID фильма\r\n */\r\nexport async function setMovieStatus(token, id, user_info){\r\n    try{\r\n        var AuthStr = 'Bearer ' + token;\r\n        const res = await axios.put(GET_MOVIE_URL + id + \"/\", \r\n            user_info, { headers: { 'Authorization': AuthStr } });\r\n        console.log(res); \r\n        \r\n        if (res.status === 204 || res.status === 200 || res.status === 201)\r\n            return res.data;\r\n        else return null;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на изменение статуса сериала\r\n * @param {string} token Токен доступа\r\n * @param {object} user_info Статус сериала\r\n * @param {string} id ID сериала\r\n */\r\nexport async function setShowStatus(token, id, user_info){\r\n    try{\r\n        var AuthStr = 'Bearer ' + token;\r\n        const res = await axios.put(GET_SHOW_URL + id + \"/\", \r\n            user_info, { headers: { 'Authorization': AuthStr } });\r\n        console.log(res); \r\n        \r\n        if (res.status === 204 || res.status === 200 || res.status === 201)\r\n            return res.data;\r\n        else return null;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на изменение статуса сезона сериала\r\n * @param {string} token Токен доступа\r\n * @param {object} user_info Статус сезона сериала\r\n * @param {string} showID ID сериала\r\n *  * @param {string} seasonNumber номер сезона\r\n */\r\nexport async function setShowSeasonStatus(token, showID, seasonNumber, user_info){\r\n    try{\r\n        var AuthStr = 'Bearer ' + token;\r\n        const res = await axios.put(GET_SHOW_URL + showID + \"/season/\" + seasonNumber + \"/\", \r\n            user_info, { headers: { 'Authorization': AuthStr } });\r\n        console.log(res); \r\n        \r\n        if (res.status === 204 || res.status === 200 || res.status === 201)\r\n            return res.data;\r\n        else return null;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на поиск игр\r\n * @param {string} query Поисковый запрос\r\n * @param {int} page Страница поиска\r\n */\r\nexport async function searchGames(query, page, gamesCount){\r\n    try{\r\n        const res = await axios.get(SEARCH_GAMES_URL, { params : {query: query, page: page, page_size: gamesCount} }, \r\n            { 'headers': { 'Content-Type': 'application/json;charset=UTF-8' } });\r\n        console.warn(res.data);\r\n        return res.data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на поиск фильмов\r\n * @param {string} query Поисковый запрос\r\n * @param {int} page Страница поиска\r\n */\r\nexport async function searchMovies(query, page){\r\n    try{\r\n        const res = await axios.get(SEARCH_MOVIES_URL, { params : {query: query, page: page} }, \r\n            { 'headers': { 'Content-Type': 'application/json;charset=UTF-8' } });\r\n            console.log(res);\r\n        return res.data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на поиск сериалов\r\n * @param {string} query Поисковый запрос\r\n * @param {int} page Страница поиска\r\n */\r\nexport async function searchShows(query, page){\r\n    try{\r\n        const res = await axios.get(SEARCH_SHOWS_URL, { params : {query: query, page: page} }, \r\n            { 'headers': { 'Content-Type': 'application/json;charset=UTF-8' } });\r\n            console.log(res);\r\n        return res.data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на поиск пользователей\r\n * @param {string} query Поисковый запрос\r\n */\r\nexport async function searchUsers(query){\r\n    try{\r\n        const res = await axios.get(SEARCH_USERS_URL, { params : {query: query} }, \r\n            { 'headers': { 'Content-Type': 'application/json;charset=UTF-8' } });\r\n            console.log(res);\r\n        return res.data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий информацию об игре\r\n * @param {string} token Токен доступа\r\n * @param {string} id ID игры  \r\n * @returns {object} Информация об игре\r\n */\r\nexport async function getUserInfo(token, userID) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/\", { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/\", axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос на изменение статуса пользовтеля (добавить в друзья и тд)\r\n * @param {string} token Токен доступа\r\n * @param {boolean} is_following Статус фильма\r\n * @param {string} userID ID пользовтеля\r\n */\r\nexport async function setUserStatus(token, is_following, userID){\r\n    try{\r\n        var AuthStr = 'Bearer ' + token;\r\n        const res = await axios.put(USER_INFO_URL + userID + \"/follow/\", \r\n            is_following, { headers: { 'Authorization': AuthStr } });\r\n        console.log(res); \r\n        \r\n        if (res.status === 204 || res.status === 200 || res.status === 201)\r\n            return res.data;\r\n        else return null;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий лог пользователя\r\n * @param {string} userID ID пользователя\r\n * @param {string} page страница \r\n * @param {int} resultsOnPage количество результатов на странице \r\n */\r\nexport async function getUserLog(token, userID, page, resultsOnPage) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/log/\", { params : { page: page, page_size: resultsOnPage } }, { 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/log/\", { params : { page: page, page_size: resultsOnPage } }, axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий лог друзей пользователя\r\n * @param {string} userID ID пользователя\r\n * @param {int} page страница\r\n * @param {int} resultsOnPage количество результатов на странице \r\n */\r\nexport async function getUserFriendsLog(token, userID, page, resultsOnPage) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/friends_log/\", { params : { page: page, page_size: resultsOnPage }, 'headers': { 'Authorization': AuthStr } });\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(USER_INFO_URL + userID + \"/friends_log/\", { params : { page: page, page_size: resultsOnPage } }, axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Запрос к бд, получающий информацию об оценках друзей для игры\r\n * @param {string} slug slug игры\r\n * @param {int} page страница\r\n */\r\nexport async function getGameFriends(token, slug, page) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_GAME_URL + slug + \"/friends_info/\", { params : { page: page } , 'headers': { 'Authorization': AuthStr } });\r\n            console.log(res);\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_GAME_URL + slug + \"/friends_info/\", { params : { page: page } }, axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Запрос к бд, получающий информацию об оценках друзей для фильма\r\n * @param {string} id id фильма\r\n * @param {int} page страница\r\n */\r\nexport async function getMovieFriends(token, id, page) {\r\n    let data;\r\n    try{\r\n        if (token){\r\n            var AuthStr = 'Bearer ' + token;\r\n            const res = await axios.get(GET_MOVIE_URL + id + \"/friends_info/\", { params : { page: page } , 'headers': { 'Authorization': AuthStr } });\r\n            console.log(res);\r\n            data = res.data;\r\n        }else{\r\n            const res = await axios.get(GET_MOVIE_URL + id + \"/friends_info/\", { params : { page: page } }, axiosConfig);\r\n            data = res.data;\r\n        }\r\n        return data;\r\n    }catch(e){\r\n        console.log(\"AXIOS ERROR: \", e);\r\n        return null;\r\n    }\r\n}","import * as actionTypes from './actionTypes';\r\nimport * as selectors from './reducers';\r\nimport * as auth from \"../services/jwtAuth\";\r\nimport {TOKEN_LIFETIME} from \"../settings\";\r\nimport * as Requests from \"../services/requests\";\r\nimport { toast } from \"react-toastify\";\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport function tryAuth(login, password) {\r\n    return async(dispatch) => {\r\n        \r\n        setError(dispatch, actionTypes.AUTH_ERROR, false);\r\n\r\n      try {\r\n        const res = await auth.getToken(login, password);\r\n        if (res !== null){\r\n            localStorage.setItem('refreshToken', res.refreshToken);\r\n            localStorage.setItem('token', res.token);\r\n            localStorage.setItem('tokenTime', Date.now());\r\n            dispatch({\r\n                type: actionTypes.SET_AUTH,\r\n                auth: { loggedIn: true }, \r\n            });\r\n            dispatch({\r\n                type: actionTypes.SET_USER,\r\n                user: res.user, \r\n            });\r\n            dispatch({\r\n                type: actionTypes.SET_LOGINFORM,\r\n                isOpen: false \r\n            });\r\n        }else{\r\n            setError(dispatch, actionTypes.AUTH_ERROR, true);\r\n        }\r\n            \r\n      }catch (error) {\r\n        console.error(error);\r\n        setError(dispatch, actionTypes.AUTH_ERROR, true);\r\n      }\r\n    };\r\n}\r\n\r\nexport function checkAuthorization(){\r\n    return async(dispatch) => {\r\n        if (localStorage.getItem('token') === null | Date.now() - localStorage.getItem('tokenTime') > TOKEN_LIFETIME){\r\n            const res = await auth.updateToken(localStorage.getItem(\"refreshToken\"));\r\n            if (res !== null){\r\n                dispatch({\r\n                    type: actionTypes.SET_AUTH,\r\n                    auth: { loggedIn: true }, \r\n                });\r\n                dispatch({\r\n                    type: actionTypes.SET_USER,\r\n                    user: res.user, \r\n                });\r\n                localStorage.setItem('token', res.token);\r\n                localStorage.setItem('tokenTime', Date.now());\r\n                return true;\r\n            }else{\r\n                //toast.warn(\"Произошла ошибка авторизации. Зайдите ещё раз\");\r\n                dispatch(resetAuthorization());\r\n                return false;\r\n            } \r\n        }else{\r\n            let userData = jwt_decode(localStorage.getItem('token'));\r\n            let user = {username: userData.username, id: userData.user_id, email: userData.email};\r\n            dispatch({\r\n                type: actionTypes.SET_USER,\r\n                user: user, \r\n            });\r\n            dispatch({\r\n                type: actionTypes.SET_AUTH,\r\n                auth: { loggedIn: true }, \r\n            });\r\n            return true;\r\n        }\r\n            \r\n    }\r\n}\r\n\r\nexport function resetAuthorization(){\r\n    return async(dispatch) => {\r\n        localStorage.removeItem('refreshToken');\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('tokenTime');\r\n        dispatch({\r\n            type: actionTypes.SET_AUTH,\r\n            auth: { loggedIn: false }, \r\n        });\r\n        dispatch({\r\n            type: actionTypes.SET_USER,\r\n            user: { username:\"\", id: null, email:\"\" }, \r\n        });\r\n    }\r\n}\r\n\r\nexport function registrationRequest(username, email, password){\r\n    return async(dispatch) => {\r\n        setError(dispatch, actionTypes.REGISTRATE_ERROR, false);\r\n        auth.registration(username, email, password).then((result) => {\r\n            console.log(result);\r\n            if (result.status === 201){\r\n                dispatch({\r\n                    type: actionTypes.SET_USER,\r\n                    user: { login: result.username, email: result.email }, \r\n                });\r\n            }\r\n            else{\r\n                for (let error in result.data)\r\n                    toast.error(result.data[error][0]);\r\n                \r\n                setError(dispatch, actionTypes.REGISTRATE_ERROR, true);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function confirmEmailRequest(uid64, token){\r\n    return async() => {\r\n        auth.confirmation(uid64, token).then((result) => {\r\n            console.log(result);\r\n            if (result.status === 200){\r\n                toast.success(\"Почта подтверждена!\");\r\n            }\r\n            else{\r\n                if (result.data)\r\n                    toast.error(result.data.error);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestGame(id){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_GAME, true);\r\n        setError(dispatch, actionTypes.GAME_REQUEST_ERROR, false);\r\n        Requests.getGame(localStorage.getItem('token'), id).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_GAME,\r\n                    game: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Игра не найдена!\");\r\n                setError(dispatch, actionTypes.GAME_REQUEST_ERROR, true);\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_GAME, false);\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport function requestGameFriends(slug, page){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_GAME_FRIENDS, true);\r\n        Requests.getGameFriends(localStorage.getItem('token'), slug, page).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_GAME_FRIENDS,\r\n                    info: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Ошибка загрузки логов!\");\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_GAME_FRIENDS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestMovie(id){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_MOVIE, true);\r\n        setError(dispatch, actionTypes.MOVIE_REQUEST_ERROR, false);\r\n        Requests.getMovie(localStorage.getItem('token'), id).then((result) => {\r\n            console.log(result);\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_MOVIE,\r\n                    movie: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Фильм не найден!\");\r\n                setError(dispatch, actionTypes.MOVIE_REQUEST_ERROR, true);\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_MOVIE, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestMovieFriends(id, page){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_MOVIE_FRIENDS, true);\r\n        Requests.getMovieFriends(localStorage.getItem('token'), id, page).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_MOVIE_FRIENDS,\r\n                    info: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Ошибка загрузки логов!\");\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_MOVIE_FRIENDS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestShow(id){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW, true);\r\n        setError(dispatch, actionTypes.SHOW_REQUEST_ERROR, false);\r\n        Requests.getShow(localStorage.getItem('token'), id).then((result) => {\r\n            console.log(result);\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_SHOW,\r\n                    show: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Сериал не найден!\");\r\n                setError(dispatch, actionTypes.SHOW_REQUEST_ERROR, true);\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestShowSeason(showID, seasonNumber){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW, true);\r\n        setError(dispatch, actionTypes.SHOW_REQUEST_ERROR, false);\r\n        Requests.getShowSeason(localStorage.getItem('token'), showID, seasonNumber).then((result) => {\r\n            console.log(result);\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_SHOW,\r\n                    show: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Сериал не найден!\");\r\n                setError(dispatch, actionTypes.SHOW_REQUEST_ERROR, true);\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW, false);\r\n        });\r\n    }\r\n}\r\n\r\n/*export function requestShowFriends(id, page){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW_FRIENDS, true);\r\n        Requests.getMovieFriends(localStorage.getItem('token'), id, page).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_CONTENT_SHOW_FRIENDS,\r\n                    info: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Ошибка загрузки логов!\");\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_CONTENT_SHOW_FRIENDS, false);\r\n        });\r\n    }\r\n}*/\r\n\r\nexport function setGameStatus(user_info){\r\n    return async(dispatch, getState) => {\r\n        if (await dispatch(checkAuthorization())){\r\n            Requests.setGameStatus(localStorage.getItem('token'), selectors.getContentGame(getState()).rawg.slug, user_info).then((result) => {\r\n                if (!result){\r\n                    toast.error(\"Ошибка обновления статуса\")\r\n                }\r\n                else{\r\n                    dispatch({\r\n                        type: actionTypes.SET_CONTENT_GAME_USERINFO,\r\n                        user_info: result\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function requestUserPageContent(username){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_CONTENT, true);\r\n        setError(dispatch, actionTypes.USER_PAGE_ERROR, false);\r\n        Requests.getUserInfo(localStorage.getItem('token'), username).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_USER_PAGE_CONTENT,\r\n                    content: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Профиль не найден!\");\r\n                setError(dispatch, actionTypes.USER_PAGE_ERROR, true);\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_CONTENT, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestUserPageLogs(userID, page, resultsOnPage){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_LOGS, true);\r\n        Requests.getUserLog(localStorage.getItem('token'), userID, page, resultsOnPage).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_USER_PAGE_LOGs,\r\n                    logs: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Ошибка загрузки логов!\");\r\n                \r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_LOGS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function requestUserPageFriendsLogs(userID, page, resultsOnPage){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS, true);\r\n        Requests.getUserFriendsLog(localStorage.getItem('token'), userID, page, resultsOnPage).then((result) => {\r\n            if (result != null){\r\n                dispatch({\r\n                    type: actionTypes.SET_USER_PAGE_FRIENDS_LOGS,\r\n                    logs: result, \r\n                });\r\n            }\r\n            else{\r\n                toast.error(\"Ошибка загрузки логов!\");\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function searchGames(query, page, gamesCount){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_GAMES, true);\r\n        Requests.searchGames(query, page, gamesCount).then((result) => {\r\n            if (!result){\r\n                toast.error(\"Ошибка поиска\")\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.SET_SEARCH_CONTENT_GAMES,\r\n                    games: result, \r\n                });\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_GAMES, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function searchMovies(query, page){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_MOVIES, true);\r\n        Requests.searchMovies(query, page).then((result) => {\r\n            if (!result){\r\n                toast.error(\"Ошибка поиска фильмов\")\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.SET_SEARCH_CONTENT_MOVIES,\r\n                    movies: result.results, \r\n                });\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_MOVIES, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function searchShows(query, page){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_SHOWS, true);\r\n        Requests.searchShows(query, page).then((result) => {\r\n            if (!result){\r\n                toast.error(\"Ошибка поиска сериалов\")\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.SET_SEARCH_CONTENT_SHOWS,\r\n                    shows: result.results, \r\n                });\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_SHOWS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function setMovieStatus(user_info){\r\n    return async(dispatch, getState) => {\r\n        if (await dispatch(checkAuthorization())){\r\n            Requests.setMovieStatus(localStorage.getItem('token'), selectors.getContentMovie(getState()).tmdb.id, user_info).then((result) => {\r\n                if (!result){\r\n                    toast.error(\"Ошибка обновления статуса\")\r\n                }\r\n                else{\r\n                    dispatch({\r\n                        type: actionTypes.SET_CONTENT_MOVIE_USERINFO,\r\n                        user_info: result\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function setShowStatus(user_info){\r\n    return async(dispatch, getState) => {\r\n        if (await dispatch(checkAuthorization())){\r\n            Requests.setShowStatus(localStorage.getItem('token'), selectors.getContentShow(getState()).tmdb.id, user_info).then((result) => {\r\n                if (!result){\r\n                    toast.error(\"Ошибка обновления статуса\")\r\n                }\r\n                else{\r\n                    dispatch({\r\n                        type: actionTypes.SET_CONTENT_SHOW_USERINFO,\r\n                        user_info: result\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function setShowSeasonStatus(user_info, showID, seasonNumber){\r\n    return async(dispatch) => {\r\n        if (await dispatch(checkAuthorization())){\r\n            Requests.setShowSeasonStatus(localStorage.getItem('token'), showID, seasonNumber, user_info).then((result) => {\r\n                if (!result){\r\n                    toast.error(\"Ошибка обновления статуса\")\r\n                }\r\n                else{\r\n                    dispatch({\r\n                        type: actionTypes.SET_CONTENT_SHOW_USERINFO,\r\n                        user_info: result\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function searchUsers(query){\r\n    return async(dispatch) => {\r\n        setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_USERS, true);\r\n        Requests.searchUsers(query).then((result) => {\r\n            if (!result){\r\n                toast.error(\"Ошибка поиска\")\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.SET_SEARCH_CONTENT_USERS,\r\n                    users: result, \r\n                });\r\n            }\r\n            setLoading(dispatch, actionTypes.SET_IS_LOADING_SEARCH_USERS, false);\r\n        });\r\n    }\r\n}\r\n\r\nexport function setUserStatus(is_following, userID){\r\n    return async(dispatch) => {\r\n        if (await dispatch(checkAuthorization())){\r\n            Requests.setUserStatus(localStorage.getItem('token'), is_following, userID).then((result) => {\r\n                if (!result){\r\n                    toast.error(\"Ошибка обновления статуса\")\r\n                }\r\n                else{\r\n                    dispatch({\r\n                        type: actionTypes.SET_USER_PAGE_FOLLOWING,\r\n                        is_following: result.is_following\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function resetPassword(email){\r\n    return async(dispatch) => {\r\n        dispatch({\r\n            type: actionTypes.RESET_PASSWORD_ERROR,\r\n            error: false\r\n        });\r\n        auth.resetPassword(email).then((result) => {\r\n            if (result.status !== 200){\r\n                dispatch({\r\n                    type: actionTypes.RESET_PASSWORD_ERROR,\r\n                    error: result.data.error\r\n                });\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.RESET_PASSWORD_ERROR,\r\n                    error: 'ok'\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function confirmPassword(token, password){\r\n    return async(dispatch) => {\r\n        dispatch({\r\n            type: actionTypes.CONFIRM_PASSWORD_ERROR,\r\n            error: false\r\n        });\r\n        auth.confirmPassword(token, password).then((result) => {\r\n            if (result.status !== 200){\r\n                dispatch({\r\n                    type: actionTypes.CONFIRM_PASSWORD_ERROR,\r\n                    error: result.data.error?result.data.error:'Неизвестная ошибка'\r\n                });\r\n            }\r\n            else{\r\n                dispatch({\r\n                    type: actionTypes.CONFIRM_PASSWORD_ERROR,\r\n                    error: 'ok'\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function setUser(user) {\r\n    return({ type: actionTypes.SET_USER, user: user });\r\n}\r\n\r\nexport function openLoginForm() {\r\n    return({ type: actionTypes.SET_LOGINFORM, isOpen: true  });\r\n}\r\n\r\nexport function closeLoginForm() {\r\n    return({ type: actionTypes.SET_LOGINFORM, isOpen: false  });\r\n}\r\n\r\nexport function openRegistrateForm() {\r\n    return({ type: actionTypes.SET_REGISTRATEFORM, isOpen: true  });\r\n}\r\n\r\nexport function closeRegistrateForm() {\r\n    return({ type: actionTypes.SET_REGISTRATEFORM, isOpen: false  });\r\n}\r\n\r\nexport function openResetPasswordForm() {\r\n    return({ type: actionTypes.SET_RESET_PASSWORD_FORM, isOpen: true  });\r\n}\r\n\r\nexport function closeResetPasswordForm() {\r\n    return({ type: actionTypes.SET_RESET_PASSWORD_FORM, isOpen: false  });\r\n}\r\n\r\nfunction setLoading(dispatch, type, isLoading){\r\n    dispatch({\r\n        type: type,\r\n        isLoading: isLoading\r\n    });\r\n}\r\n\r\nfunction setError(dispatch, type, isError){\r\n    dispatch({\r\n        type: type,\r\n        error: isError\r\n    });\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport './style.css';\r\n\r\nfunction StatusButtonGroup( {statuses, activeColor, onChangeStatus, userStatus} ) {\r\n    const [activeStatus, setActiveStatus] = useState('');\r\n\r\n    useEffect(() =>{\r\n            setActiveStatus(userStatus?userStatus:statuses[0]);\r\n        },\r\n        [statuses, userStatus]\r\n    );\r\n\r\n    return(\r\n        <div>\r\n            {statuses.map((status) => <button className={'contentStatuses'} \r\n                                            key={status}\r\n                                            style={{backgroundColor: (activeStatus === status?activeColor:'#000000')}}\r\n                                            onClick={()=>{ \r\n                                                if (onChangeStatus(status)){\r\n                                                    setActiveStatus(status);\r\n                                                }\r\n                                            }}>\r\n                                            {status}\r\n                                        </button>) }\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default StatusButtonGroup;\r\n","import React from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\nimport Rating from \"react-rating\";\r\nimport {\r\n    MDBIcon\r\n} from \"mdbreact\";\r\n\r\nfunction FriendsActivityRow ( {info} ) {\r\n    let history = useHistory();\r\n\r\n    return(\r\n        <div className=\"fActivityBlock\">\r\n            <h5 className='fActivityUser'>\r\n                <a href={window.location.origin + '/user/' + info.user.id} \r\n                        onClick={(e) => { history.push('/user/' + info.user.id); e.preventDefault();}}\r\n                    >\r\n                    {info.user.username}\r\n                </a>\r\n            </h5>\r\n            <div className='fActivityInfo'>\r\n                <Rating stop={10}\r\n                                    emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\"/>}\r\n                                    fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" title={n}/>)}\r\n                                    initialRating={info.score}\r\n                                    className=\"fActivityInfoText\"\r\n                                    readonly={true}\r\n                        />\r\n                <p className=\"fActivityInfoText\">Статус: {info.status} </p>\r\n                <p className=\"fActivityInfoText\" hidden={!(info.spent_time)}>Время проходения: {info.spent_time} {intToHours(info.spent_time)}</p>\r\n                <p className=\"fActivityInfoText\" hidden={info.review===\"\"}>Отзыв: {info.review}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction intToHours(number){\r\n    if (11 <= number && number <= 14)\r\n        return 'часов'\r\n    else if (number % 10 === 1)\r\n        return 'час'\r\n    else if (2 <= number % 10 && number % 10 <= 4)\r\n        return 'часа'\r\n    else\r\n        return 'часов'\r\n}\r\n\r\nexport default FriendsActivityRow;","import React from \"react\";\r\nimport FriendsActivityRow from './FriendsActivityRow';\r\n\r\nfunction FriendsActivity ( {info} ) {\r\n\r\n    return(\r\n        <div className=\"friendsBlock\">\r\n            { info.friends_info.map((friendInfo) => <FriendsActivityRow info={friendInfo} key={friendInfo.updated_at}/>) }\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default FriendsActivity;","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBInput\r\n} from \"mdbreact\";\r\nimport './style.css';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\n\r\nimport Rating from \"react-rating\";\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\nimport StatusButtonGroup from \"../Common/StatusButtonGroup\";\r\nimport FriendsActivity from \"../Common/FriendsActivity\";\r\n\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction GamePage ( {requestGame, game, loggedIn, openLoginForm, setGameStatus, gameIsLoading, requestGameFriends, gameFriends, gameFriendsIsLoading\r\n    } ) {\r\n    let { id } = useParams();\r\n    const [genres, setGenres] = useState(\"\");\r\n    const [metascoreBlock, setMetascoreBlock] = useState(\"\");\r\n    const [review, setReview] = useState(\"\");\r\n    const [spentTime, setSpentTime] = useState(0);\r\n    const [developers, setDevelopers] = useState(\"\");\r\n    const [date, setDate] = useState(\"\");\r\n    const [hltbInfo, setHtlbInfo] = useState({gameplay_main_extra: -1, gameplay_main: -1, gameplay_comletionist: -1});\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            requestGame(id);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[id, requestGame]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (loggedIn)\r\n                requestGameFriends(id, 1);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[loggedIn]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (game.rawg.genres){\r\n                let newGenres = \"\"\r\n                for (let i = 0; i < game.rawg.genres.length; i++){\r\n                    newGenres += game.rawg.genres[i].name;\r\n                    if (i !== game.rawg.genres.length - 1)\r\n                        newGenres += \", \";\r\n                }\r\n                 setGenres(newGenres);   \r\n            }\r\n\r\n            if (game.rawg.metacritic){\r\n                setMetascoreBlock(\r\n                    <div>\r\n                        <div className=\"metacritic\">\r\n                            <p>{game.rawg.metacritic}</p>\r\n                        </div>\r\n                        <p className=\"metacriticText\">Metascore</p>\r\n                    </div>\r\n                );\r\n            }else{\r\n                setMetascoreBlock(\"\");\r\n            }\r\n\r\n            if (game.hltb){\r\n                setHtlbInfo(game.hltb);\r\n            }else if (game.rawg.playtime){\r\n                setHtlbInfo({gameplay_main_extra: game.rawg.playtime, gameplay_main: -1, gameplay_completionist: -1});\r\n            }else{\r\n                setHtlbInfo({gameplay_main_extra: -1, gameplay_main: -1, gameplay_completionist: -1});\r\n            }\r\n\r\n            if (game.user_info){\r\n                setReview(game.user_info.review);\r\n                setSpentTime(game.user_info.spent_time);\r\n            }\r\n\r\n            if (game.rawg.developers){\r\n                let newDevelopers = \"\"\r\n                for (let i = 0; i < game.rawg.developers.length; i++){\r\n                    newDevelopers += game.rawg.developers[i].name;\r\n                    if (i !== game.rawg.developers.length - 1)\r\n                    newDevelopers += \", \";\r\n                }\r\n                setDevelopers(newDevelopers);   \r\n            }\r\n\r\n            if (game.rawg.released){\r\n                let mas = game.rawg.released.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setDate(newDate);\r\n            }else\r\n                setDate(\"\");\r\n\r\n            document.title = game.rawg.name;\r\n\t\t},\r\n\t\t[game]\r\n    );\r\n    \r\n    return (\r\n            <div>\r\n\t\t\t<div className=\"bg\" style={{backgroundImage: `url(${game.rawg.background_image_additional?game.rawg.background_image_additional:game.rawg.background_image})`}}/>\r\n                <LoadingOverlay\r\n                    active={gameIsLoading}\r\n                    spinner\r\n                    text='Загрузка...'\r\n                    >\r\n                <MDBContainer>\r\n                    <MDBRow>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                        <MDBCol className=\"gameContentPage\"> \r\n                            <MDBContainer>\r\n                                <MDBRow className=\"gameContentHeader rounded-top\" >\r\n                                    <MDBCol size=\"5\">\r\n                                        <img src={game.rawg.background_image} className=\"img-fluid\" alt=\"\"/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"6\">\r\n                                        <h1>{game.rawg.name}</h1>\r\n                                        <div className=\"mainInfo\">\r\n                                            <p>Разработчики: {developers}</p>\r\n                                            <p>Дата релиза: {date}</p>\r\n                                            <p>Жанр: {genres}</p>\r\n                                            <p style={{display: \"inline\"}} >Время прохождения: </p>\r\n                                            <div hidden={hltbInfo.gameplay_main < 0} style={{display: \"inline\"}}>\r\n                                                <MDBIcon far icon=\"clock\" className=\"light-green-text\" title={\"Главный сюжет\"}/><span className=\"hs\"/>{hltbInfo.gameplay_main} {hltbInfo.gameplay_main_unit}<span className=\"hs\"/>\r\n                                            </div> <p style={{display: \"inline\"}} > </p>\r\n                                            <div hidden={hltbInfo.gameplay_main_extra < 0} style={{display: \"inline\"}}>\r\n                                                <MDBIcon far icon=\"clock\" className=\"yellow-text\" title={\"Главный сюжет + побочные задания\"}/><span className=\"hs\"/>{hltbInfo.gameplay_main_extra} {hltbInfo.gameplay_main_extra_unit}<span className=\"hs\"/> \r\n                                            </div> <p style={{display: \"inline\"}} > </p>\r\n                                            <div hidden={hltbInfo.gameplay_completionist < 0} style={{display: \"inline\"}}>\r\n                                                <MDBIcon far icon=\"clock\" className=\"red-text\" title={\"Полное прохождение\"}/><span className=\"hs\"/>{hltbInfo.gameplay_completionist} {hltbInfo.gameplay_completionist_unit}\r\n                                            </div>\r\n                                        </div>\r\n                                        <Rating stop={10}\r\n                                            emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}}/>}\r\n                                            fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}} title={n}/>)}\r\n                                            initialRating={game.user_info?game.user_info.score:0}\r\n                                            readonly={!loggedIn | (!game.user_info)}\r\n                                            onChange={(score) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setGameStatus({score: score, review: document.getElementById('reviewInput').value, \r\n                                                                    spent_time: document.getElementById('spentTimeInput').value });\r\n                                                }}\r\n                                            }\r\n                                            style={{marginBottom: \"10px\"}}\r\n                                        /> <br/>\r\n                                        <StatusButtonGroup\r\n                                            statuses={['Не играл', 'Буду играть', 'Играю', 'Дропнул', 'Прошел']}\r\n                                            activeColor='#4527a0' \r\n                                            userStatus={game.user_info?game.user_info.status:'Не играл'}\r\n                                            onChangeStatus={(status) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setGameStatus(\r\n                                                        { \r\n                                                           status: status,\r\n                                                           review: document.getElementById('reviewInput').value, \r\n                                                           spent_time: document.getElementById('spentTimeInput').value\r\n                                                        }\r\n                                                    );\r\n                                                }\r\n                                            }}\r\n                                            />\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"1\">\r\n                                        { metascoreBlock }\r\n                                    </MDBCol>\r\n                                </MDBRow> \r\n                                <MDBRow className=\"gameContentBody\"> \r\n                                    <MDBCol >\r\n                                        <h3 style={{paddingTop: \"15px\"}}>Описание</h3>\r\n                                        <div dangerouslySetInnerHTML={{__html: game.rawg.description}} />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow>\r\n                                <MDBCol size=\"6\" style={{paddingLeft: \"20px\"}}>\r\n                                    <h3 style={{paddingTop: \"10px\"}}>Отзывы</h3>\r\n                                        \r\n                                        <MDBInput \r\n                                            type=\"textarea\" \r\n                                            id=\"reviewInput\"\r\n                                            label=\"Ваш отзыв\" \r\n                                            value={review}\r\n                                            onChange={(event) =>setReview(event.target.value)}\r\n                                            outline\r\n                                        />\r\n                                        <MDBInput\r\n                                            type=\"number\"\r\n                                            id=\"spentTimeInput\"\r\n                                            label=\"Время прохождения (часы)\" \r\n                                            value={spentTime}\r\n                                            onChange={(event) =>setSpentTime(event.target.value)}\r\n                                        />\r\n                                        <button \r\n                                            className={'savePreviewButton'} \r\n                                            disabled={!loggedIn | (!game.user_info)}\r\n                                            onClick={() => {\r\n                                                    if (!loggedIn){\r\n                                                        openLoginForm();\r\n                                                    }else{\r\n                                                        setGameStatus({   review: document.getElementById('reviewInput').value, spent_time: document.getElementById('spentTimeInput').value });\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            >\r\n                                            Сохранить\r\n                                        </button>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                            </MDBContainer>\r\n                            <div className=\"gameFriendsBlock\" hidden={gameFriends.friends_info.length < 1}>\r\n                                <h4>Отзывы друзей</h4>\r\n                                <FriendsActivity info={gameFriends}/>\r\n                            </div>\r\n                        </MDBCol>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                    </MDBRow>\r\n                 </MDBContainer>\r\n                 </LoadingOverlay>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    requestError: selectors.getGameRequestError(state),\r\n    game: selectors.getContentGame(state),\r\n    gameIsLoading: selectors.getIsLoadingContentGame(state),\r\n    gameFriends: selectors.getContentGameFriends(state),\r\n    gameFriendsIsLoading: selectors.getIsLoadingContentGameFriends(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\trequestGame: (id) => {\r\n            dispatch(actions.requestGame(id));\r\n        },\r\n        requestGameFriends: (slug, page) => {\r\n            dispatch(actions.requestGameFriends(slug, page));\r\n        },\r\n        openLoginForm: () => {\r\n            dispatch(actions.openLoginForm());\r\n        },\r\n        setGameStatus: (status) => {\r\n            dispatch(actions.setGameStatus(status));\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GamePage);\r\n","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBInput\r\n} from \"mdbreact\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport './style.css';\r\n\r\nimport Rating from \"react-rating\";\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\nimport StatusButtonGroup from \"../Common/StatusButtonGroup\";\r\nimport FriendsActivity from \"../Common/FriendsActivity\";\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction MoviePage ( {requestMovie, movie, loggedIn, movieIsLoading, setMovieStatus, openLoginForm, requestMovieFriends, movieFriends, movieFriendsIsLoading\r\n    } ) {\r\n    let { id } = useParams();\r\n    const [metascoreBlock, setMetascoreBlock] = useState(\"\");\r\n    const [genres, setGenres] = useState(\"\");\r\n    const [companies, setCompanies] = useState(\"\");\r\n    const [cast, setCast] = useState(\"\");\r\n    const [director, setDirector] = useState(\"\");\r\n    const [review, setReview] = useState(\"\");\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            requestMovie(id);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[id, requestMovie]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (loggedIn)\r\n                requestMovieFriends(id, 1);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[loggedIn]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (movie.tmdb.vote_average){\r\n                setMetascoreBlock(\r\n                    <div>\r\n                        <div className=\"metacritic\">\r\n                            <p>{movie.tmdb.vote_average * 10}</p>\r\n                        </div>\r\n                        <p className=\"metacriticText\">TMDB score</p>\r\n                    </div>\r\n                );\r\n            }else{\r\n                setMetascoreBlock(\"\");\r\n            }\r\n\r\n            if (movie.tmdb.genres){\r\n                let newGenres = \"\"\r\n                for (let i = 0; i < movie.tmdb.genres.length; i++){\r\n                    newGenres += movie.tmdb.genres[i].name;\r\n                    if (i !== movie.tmdb.genres.length - 1)\r\n                        newGenres += \", \";\r\n                }\r\n                setGenres(newGenres);   \r\n            }\r\n\r\n            if (movie.tmdb.production_companies){\r\n                let newCompanies = \"\"\r\n                for (let i = 0; i < movie.tmdb.production_companies.length; i++){\r\n                    newCompanies += movie.tmdb.production_companies[i].name;\r\n                    if (i !== movie.tmdb.production_companies.length - 1)\r\n                        newCompanies += \", \";\r\n                }\r\n                setCompanies(newCompanies);   \r\n            }\r\n\r\n            if (movie.tmdb.cast){\r\n                let newCast = \"\";\r\n                let length = movie.tmdb.cast.length>5?5:movie.tmdb.cast.length;\r\n                for (let i = 0; i < length; i++){\r\n                    newCast += movie.tmdb.cast[i].name;\r\n                    if (i !== length - 1)\r\n                        newCast += \", \";\r\n                }\r\n                setCast(newCast);   \r\n            }\r\n\r\n            if (movie.tmdb.crew){\r\n                let newDirector = \"\"\r\n                for (let i = 0; i < movie.tmdb.crew.length; i++){\r\n                    if (movie.tmdb.crew[i].job === \"Director\"){\r\n                        newDirector = movie.tmdb.crew[i].name;\r\n                        break;\r\n                    }\r\n                }\r\n                setDirector(newDirector);   \r\n            }\r\n\r\n            if (movie.user_info){\r\n                setReview(movie.user_info.review);\r\n            }\r\n\r\n            document.title = movie.tmdb.title;\r\n\t\t},\r\n\t\t[movie]\r\n    );\r\n    \r\n    return (\r\n            <div>\r\n\t\t\t<div className=\"bg\" style={{backgroundImage: `url(${ 'http://image.tmdb.org/t/p/w1920_and_h800_multi_faces' + movie.tmdb.backdrop_path})`}}/>\r\n                <LoadingOverlay\r\n                    active={movieIsLoading}\r\n                    spinner\r\n                    text='Загрузка...'\r\n                    >\r\n                <MDBContainer>\r\n                    <MDBRow>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                        <MDBCol className=\"movieContentPage\"> \r\n                            <MDBContainer>\r\n                                <MDBRow className=\"movieContentHeader rounded-top\" >\r\n                                    <MDBCol size=\"5\" className=\"posterBlock\">\r\n                                        <img src={\"http://image.tmdb.org/t/p/w600_and_h900_bestv2\" + movie.tmdb.poster_path} className=\"img-fluid\" alt=\"\"/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"6\">\r\n                                        <h1>{movie.tmdb.title}</h1>\r\n                                        <div className=\"mainInfo\">\r\n                                            <p>Дата релиза: {movie.tmdb.release_date}</p>\r\n                                            <p>Продолжительность (мин): {movie.tmdb.runtime}</p>\r\n                                            <p>Жанр: {genres}</p>\r\n                                            <p>Компания: {companies}</p>\r\n                                            <p>Слоган: {movie.tmdb.tagline}</p>\r\n                                            <p>В ролях: {cast}</p>\r\n                                            <p>Режиссер: {director}</p>\r\n                                        </div>\r\n                                        <Rating stop={10}\r\n                                            emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}}/>}\r\n                                            fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}} title={n}/>)}\r\n                                            initialRating={movie.user_info?movie.user_info.score:0}\r\n                                            readonly={!loggedIn | (!movie.user_info)}\r\n                                            onChange={(score) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setMovieStatus({score: score, review: document.getElementById('reviewInput').value, \r\n                                                                    spent_time: document.getElementById('spentTimeInput').value });\r\n                                                }}\r\n                                            }\r\n                                        /> <br/>\r\n                                        <StatusButtonGroup loggedIn={loggedIn} \r\n                                            statuses={['Не смотрел', 'Буду смотреть', 'Дропнул', 'Посмотрел']}\r\n                                            activeColor='#4527a0' \r\n                                            userStatus={movie.user_info?movie.user_info.status:'Не смотрел'}\r\n                                            onChangeStatus={(status) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                   setMovieStatus({ status: status, review: document.getElementById('reviewInput').value, \r\n                                                                    spent_time: document.getElementById('spentTimeInput').value });\r\n                                                }\r\n                                            }}/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"1\">\r\n                                        { metascoreBlock }\r\n                                    </MDBCol>\r\n                                </MDBRow> \r\n                                <MDBRow className=\"movieContentBody\"> \r\n                                    <MDBCol >\r\n                                        <h3 style={{paddingTop: \"15px\"}}>Описание</h3>\r\n                                        <div dangerouslySetInnerHTML={{__html: movie.tmdb.overview}} />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBCol size=\"6\" style={{paddingLeft: \"10px\"}}>\r\n                                    <h3 style={{paddingTop: \"10px\"}}>Отзывы</h3>\r\n                                        \r\n                                        <MDBInput \r\n                                            type=\"textarea\" \r\n                                            id=\"reviewInput\"\r\n                                            label=\"Ваш отзыв\" \r\n                                            value={review}\r\n                                            onChange={(event) =>setReview(event.target.value)}\r\n                                            outline\r\n                                        />\r\n                                        <button \r\n                                            className={'savePreviewButton'} \r\n                                            disabled={!loggedIn | (!movie.user_info)}\r\n                                            onClick={() => {\r\n                                                    if (!loggedIn){\r\n                                                        openLoginForm();\r\n                                                    }else{\r\n                                                        setMovieStatus({   review: document.getElementById('reviewInput').value });\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            >\r\n                                            Сохранить\r\n                                        </button>\r\n                                    </MDBCol>\r\n                            </MDBContainer>\r\n                            <div className=\"movieFriendsBlock\" hidden={movieFriends.friends_info.length < 1}>\r\n                                <h4>Отзывы друзей</h4>\r\n                                <FriendsActivity info={movieFriends}/>\r\n                            </div>\r\n                        </MDBCol>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                    </MDBRow>\r\n                 </MDBContainer>\r\n                 </LoadingOverlay>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    requestError: selectors.getMovieRequestError(state),\r\n    movie: selectors.getContentMovie(state),\r\n    movieIsLoading: selectors.getIsLoadingContentMovie(state),\r\n    movieFriends: selectors.getContentMovieFriends(state),\r\n    movieFriendsIsLoading: selectors.getIsLoadingContentMovieFriends(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\trequestMovie: (id) => {\r\n            dispatch(actions.requestMovie(id));\r\n        },\r\n        openLoginForm: () => {\r\n            dispatch(actions.openLoginForm());\r\n        },\r\n        setMovieStatus: (status) => {\r\n            dispatch(actions.setMovieStatus(status));\r\n        },\r\n        requestMovieFriends: (id, page) => {\r\n            dispatch(actions.requestMovieFriends(id, page));\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MoviePage);\r\n","import React, { useEffect} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\nimport './style.css';\r\nimport Rating from \"react-rating\";\r\nimport {\r\n    MDBIcon\r\n} from \"mdbreact\";\r\n\r\nfunction EpisodeRow ( {episode, season, showID} ) {\r\n    let history = useHistory();\r\n\r\n    useEffect(() =>{\r\n            \r\n        },\r\n        [episode]\r\n    );\r\n\r\n    return(\r\n        <div className=\"episodeRow\">\r\n            <a className=\"episodeRowName episodeLink\" \r\n                href={window.location.origin + '/show/' + showID + '/season/' + season + '/episode/'+ episode} \r\n                onClick={(e) => { history.push('/show/' + showID + '/season/' + season + '/episode/'+ episode); e.preventDefault();}}\r\n                >\r\n                Серия {episode}\r\n            </a>  \r\n            <Rating stop={10}\r\n                emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\"/>}\r\n                fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" title={n}/>)}\r\n                initialRating={5}\r\n                readonly={true}\r\n                className='episodeRating'\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EpisodeRow;","import React, { useEffect, useState} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\nimport './style.css';\r\nimport EpisodeRow from './EpisodeRow';\r\n\r\nfunction SeasonsBlock ( {seasons, showID} ) {\r\n    let history = useHistory();\r\n\r\n    const [hereSeasons, setHereSeasons] = useState([]);\r\n\r\n    useEffect(() =>{\r\n        setHereSeasons([]);\r\n        if (seasons){\r\n            let newSeasons = [];\r\n            for (let season in seasons){\r\n                if (seasons[season].name !== 'Спецматериалы'){\r\n                    let newSeason = seasons[season];\r\n                    newSeason.episodes = [];\r\n                    for (let i = 1; i <= seasons[season].episode_count; i++)\r\n                        newSeason.episodes.push(i);\r\n                    newSeasons.push(newSeason);\r\n                }\r\n            }\r\n            setHereSeasons(newSeasons);\r\n        }\r\n            \r\n    },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [seasons]\r\n    );\r\n\r\n    return(\r\n        <div>\r\n            { \r\n                hereSeasons.map((season) => \r\n                    <div key={season.id} className=\"seasonBlock\">\r\n                        <div className='seasonName'>\r\n                            <a \r\n                                href={window.location.origin + '/show/' + showID + '/season/' + season.season_number} \r\n                                onClick={(e) => { history.push('/show/' + showID + '/season/' + season.season_number); e.preventDefault();}}\r\n                                >\r\n                                <h5 > {season.name} </h5>\r\n                            </a>\r\n                        </div>\r\n                        <details open={false} className='episodeRows'>\r\n                            <summary>Развернуть</summary>\r\n                                <ul>\r\n                                {  season.episodes.map((episode) => <li className=\"episode\" key={season.id+episode}><EpisodeRow episode={episode} season={season.season_number} showID={showID} /></li>) }\r\n                                </ul>\r\n                        </details>\r\n                        \r\n                    </div>\r\n                )  \r\n            } \r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default SeasonsBlock;\r\n","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBInput\r\n} from \"mdbreact\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport './style.css';\r\n\r\nimport Rating from \"react-rating\";\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\nimport StatusButtonGroup from \"../Common/StatusButtonGroup\";\r\n//import FriendsActivity from \"../Common/FriendsActivity\";\r\nimport SeasonsBlock from \"./SeasonsBlock\";\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction ShowPage ( {requestShow, show, showIsLoading, setShowUserStatus,\r\n                    loggedIn, openLoginForm\r\n    } ) {\r\n    let { id } = useParams();\r\n    const [metascoreBlock, setMetascoreBlock] = useState(\"\");\r\n    const [genres, setGenres] = useState(\"\");\r\n    const [companies, setCompanies] = useState(\"\");\r\n    const [showStatus, setShowStatus] = useState(\"\");\r\n    const [firstDate, setFirstDate] = useState(\"\");\r\n    const [lastDate, setLastDate] = useState(\"\");\r\n    const [review, setReview] = useState(\"\");\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            requestShow(id);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[id, requestShow]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (show.tmdb.vote_average){\r\n                setMetascoreBlock(\r\n                    <div>\r\n                        <div className=\"metacritic\">\r\n                            <p>{show.tmdb.vote_average * 10}</p>\r\n                        </div>\r\n                        <p className=\"metacriticText\">TMDB score</p>\r\n                    </div>\r\n                );\r\n            }else{\r\n                setMetascoreBlock(\"\");\r\n            }\r\n\r\n            if (show.tmdb.genres){\r\n                let newGenres = \"\"\r\n                for (let i = 0; i < show.tmdb.genres.length; i++){\r\n                    newGenres += show.tmdb.genres[i].name;\r\n                    if (i !== show.tmdb.genres.length - 1)\r\n                        newGenres += \", \";\r\n                }\r\n                setGenres(newGenres);   \r\n            }\r\n\r\n            if (show.tmdb.production_companies){\r\n                let newCompanies = \"\"\r\n                for (let i = 0; i < show.tmdb.production_companies.length; i++){\r\n                    newCompanies += show.tmdb.production_companies[i].name;\r\n                    if (i !== show.tmdb.production_companies.length - 1)\r\n                        newCompanies += \", \";\r\n                }\r\n                setCompanies(newCompanies);   \r\n            }\r\n\r\n            \r\n            switch (show.tmdb.status){\r\n                case 'Ended':\r\n                    setShowStatus('Окончен');break;\r\n                case 'Returning Series':\r\n                    setShowStatus('Продолжается');break;\r\n                case 'Pilot':\r\n                    setShowStatus('Пилот');break;\r\n                case 'Canceled':\r\n                    setShowStatus('Отменен');break;\r\n                case 'In Production':\r\n                    setShowStatus('В производстве');break;\r\n                case 'Planned':\r\n                    setShowStatus('Запланирован');break;\r\n                default:\r\n                    setShowStatus(show.tmdb.status);\r\n            } \r\n\r\n            if (show.tmdb.first_air_date){\r\n                let mas = show.tmdb.first_air_date.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setFirstDate(newDate);\r\n            }else\r\n                setFirstDate(\"\");\r\n\r\n            if (show.tmdb.last_air_date){\r\n                let mas = show.tmdb.last_air_date.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setLastDate(newDate);\r\n            }else\r\n                setLastDate(\"\");\r\n\r\n            if (show.user_info){\r\n                setReview(show.user_info.review);\r\n            }\r\n\r\n            document.title = show.tmdb.name;\r\n\t\t},\r\n\t\t[show]\r\n    );\r\n    \r\n    return (\r\n            <div>\r\n\t\t\t<div className=\"bg\" style={{backgroundImage: `url(${ 'http://image.tmdb.org/t/p/w1920_and_h800_multi_faces' + show.tmdb.backdrop_path})`}}/>\r\n                <LoadingOverlay\r\n                    active={showIsLoading}\r\n                    spinner\r\n                    text='Загрузка...'\r\n                    >\r\n                <MDBContainer>\r\n                    <MDBRow>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                        <MDBCol className=\"showContentPage\"> \r\n                            <MDBContainer>\r\n                                <MDBRow className=\"showContentHeader rounded-top\" >\r\n                                    <MDBCol size=\"5\" className=\"posterBlock\">\r\n                                        <img src={\"http://image.tmdb.org/t/p/w600_and_h900_bestv2\" + show.tmdb.poster_path} className=\"img-fluid\" alt=\"\"/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"6\">\r\n                                        <h1>{show.tmdb.name}</h1>\r\n                                        <h5 style={{marginBottom: \"10px\", marginTop: \"-10px\"}}>{show.tmdb.original_name}</h5>\r\n                                        <div className=\"mainInfo\">\r\n                                            <p>Жанр: {genres}</p>\r\n                                            <p>Компания: {companies}</p>\r\n                                            <p hidden={firstDate===''}>Дата выхода первой серии: {firstDate}</p>\r\n                                            <p hidden={lastDate===''}>Дата выхода последней серии: {lastDate}</p>\r\n                                            <p hidden={show.tmdb.episode_run_time?false:true}>Продолжительность (мин): {show.tmdb.episode_run_time?show.tmdb.episode_run_time[0]:0}</p>\r\n                                            <p>Количество сезонов: {show.tmdb.number_of_seasons}</p>\r\n                                            <p>Количество серий: {show.tmdb.number_of_episodes}</p>\r\n                                            <p>Статус: {showStatus}</p>\r\n                                        </div>\r\n                                        <Rating stop={10}\r\n                                            emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}}/>}\r\n                                            fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}} title={n}/>)}\r\n                                            initialRating={show.user_info?show.user_info.score:0}\r\n                                            readonly={!loggedIn | (!show.user_info)}\r\n                                            onChange={(score) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setShowUserStatus({score: score, review: document.getElementById('reviewInput').value });\r\n                                                }}\r\n                                            }\r\n                                        /> <br/>\r\n                                        <StatusButtonGroup loggedIn={loggedIn} \r\n                                            statuses={['Не смотрел', 'Буду смотреть', 'Смотрю', 'Дропнул', 'Посмотрел']}\r\n                                            activeColor='#4527a0' \r\n                                            userStatus={show.user_info?show.user_info.status:'Не смотрел'}\r\n                                            onChangeStatus={(status) => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setShowUserStatus({ status: status, review: document.getElementById('reviewInput').value });\r\n                                                }\r\n                                            }}/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"1\">\r\n                                        { metascoreBlock }\r\n                                    </MDBCol>\r\n                                </MDBRow> \r\n                                <MDBRow className=\"showContentBody\"> \r\n                                    <MDBCol >\r\n                                        <h3 style={{paddingTop: \"15px\"}}>Описание</h3>\r\n                                        <div dangerouslySetInnerHTML={{__html: show.tmdb.overview}} />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <div className=\"showContentBody\"> \r\n                                    <h3 style={{paddingTop: \"15px\"}}>Список серий</h3>\r\n                                    <SeasonsBlock seasons={show.tmdb.seasons} showID={show.tmdb.id}/>\r\n                                </div>\r\n                                <MDBCol size=\"6\" style={{paddingLeft: \"10px\"}}>\r\n                                    <h3 style={{paddingTop: \"10px\"}}>Отзывы</h3>\r\n                                        \r\n                                    <MDBInput \r\n                                        type=\"textarea\" \r\n                                        id=\"reviewInput\"\r\n                                        label=\"Ваш отзыв\" \r\n                                        value={review}\r\n                                        onChange={(event) =>setReview(event.target.value)}\r\n                                        outline\r\n                                    />\r\n                                    <button \r\n                                        className={'savePreviewButton'} \r\n                                        disabled={!loggedIn | (!show.user_info)}\r\n                                        onClick={() => {\r\n                                                if (!loggedIn){\r\n                                                    openLoginForm();\r\n                                                }else{\r\n                                                    setShowUserStatus({ review: document.getElementById('reviewInput').value });\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        >\r\n                                        Сохранить\r\n                                    </button>\r\n                                </MDBCol>\r\n                            </MDBContainer>\r\n                        </MDBCol>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                    </MDBRow>\r\n                 </MDBContainer>\r\n                 </LoadingOverlay>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    requestError: selectors.getShowRequestError(state),\r\n    show: selectors.getContentShow(state),\r\n    showIsLoading: selectors.getIsLoadingContentShow(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\trequestShow: (id) => {\r\n            dispatch(actions.requestShow(id));\r\n        },\r\n        setShowUserStatus: (status) => {\r\n            dispatch(actions.setShowStatus(status));\r\n        },\r\n        openLoginForm: () => {\r\n            dispatch(actions.openLoginForm());\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShowPage);\r\n","import React, { useEffect} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\nimport './style.css';\r\nimport Rating from \"react-rating\";\r\nimport {\r\n    MDBIcon\r\n} from \"mdbreact\";\r\n\r\nfunction DetailedEpisodeRow ( {episode, showID} ) {\r\n    let history = useHistory();\r\n\r\n    useEffect(() =>{\r\n            \r\n        },\r\n        [episode]\r\n    );\r\n\r\n    function parseDate(date){\r\n        let newDate = new Date(date);\r\n        return newDate.toLocaleDateString(\"ru-RU\");\r\n    }\r\n\r\n    return(\r\n        <div className=\"episodeRow detailRow\">\r\n            <p className=\"episodeDate\">{parseDate(episode.air_date)}</p>\r\n            <a className=\"episodeRowName episodeLink\" \r\n                href={window.location.origin + '/show/' + showID + '/season/' + episode.season_number + '/episode/'+ episode.episode_number} \r\n                onClick={(e) => { history.push('/show/' + showID + '/season/' + episode.season_number + '/episode/'+ episode.episode_number); e.preventDefault();}}\r\n                >\r\n                Серия {episode.episode_number} - {episode.name}\r\n            </a>  \r\n            <Rating stop={10}\r\n                emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\"/>}\r\n                fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" title={n}/>)}\r\n                initialRating={5}\r\n                readonly={false}\r\n                className='episodeRating'\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailedEpisodeRow;","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBInput\r\n} from \"mdbreact\";\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport {\r\n    AreaChart , linearGradient, XAxis, Tooltip, YAxis, Area  \r\n  } from 'recharts';\r\nimport './style.css';\r\n\r\nimport Rating from \"react-rating\";\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\n//import FriendsActivity from \"../Common/FriendsActivity\";\r\nimport DetailedEpisodeRow from \"./DetailedEpisodeRow\";\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction ShowPage ( {requestShowSeason, showSeason, showSeasonIsLoading, setShowUserStatus,\r\n                    loggedIn, openLoginForm\r\n    } ) {\r\n    let { show_id, number } = useParams();\r\n    const [date, setDate] = useState(\"\");\r\n    const [review, setReview] = useState(\"\");\r\n    const [chartData, setChartData] = useState([]);\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            requestShowSeason(show_id, number);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[show_id, number, requestShowSeason]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n\r\n            if (showSeason.tmdb.air_date){\r\n                let mas = showSeason.tmdb.air_date.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setDate(newDate);\r\n            }else\r\n                setDate(\"\");\r\n\r\n            if (showSeason.user_info){\r\n                setReview(showSeason.user_info.review);\r\n            }else\r\n                setReview(\"\");\r\n            document.title = showSeason.tmdb.show_name + ' - ' + showSeason.tmdb.name;\r\n\t\t},\r\n\t\t[showSeason]\r\n    );\r\n    \r\n    useEffect(\r\n\t\t() => {\r\n            setChartData([]);\r\n            if (showSeason.tmdb.episodes)\r\n            if (showSeason.tmdb.episodes.length > 0){\r\n                let newData = [];\r\n                for (let episode in showSeason.tmdb.episodes){\r\n                    if (showSeason.tmdb.episodes[episode].vote_average > 0)\r\n                        newData.push({ \"name\": 'Ep ' + showSeason.tmdb.episodes[episode].episode_number,  \"Оценка\": showSeason.tmdb.episodes[episode].vote_average });\r\n                }\r\n                setChartData(newData);\r\n            }\r\n\t\t},\r\n\t\t[showSeason]\r\n    );\r\n\r\n    return (\r\n            <div>\r\n\t\t\t<div className=\"bg\" style={{backgroundImage: `url(${ 'http://image.tmdb.org/t/p/w1920_and_h800_multi_faces' + showSeason.tmdb.backdrop_path})`}}/>\r\n                <LoadingOverlay\r\n                    active={showSeasonIsLoading}\r\n                    spinner\r\n                    text='Загрузка...'\r\n                    >\r\n                <MDBContainer>\r\n                    <MDBRow>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                        <MDBCol className=\"showContentPage\"> \r\n                            <MDBContainer>\r\n                                <MDBRow className=\"showContentHeader rounded-top\" >\r\n                                    <MDBCol size=\"3\" className=\"posterBlock\">\r\n                                        <img src={\"http://image.tmdb.org/t/p/w600_and_h900_bestv2\" + showSeason.tmdb.poster_path} className=\"img-fluid\" alt=\"\"/>\r\n                                    </MDBCol>\r\n                                    <MDBCol size=\"9\">\r\n                                        <h1>{showSeason.tmdb.show_name + ' - ' + showSeason.tmdb.name}</h1>\r\n                                        <h5 style={{marginBottom: \"10px\", marginTop: \"-10px\"}}>{showSeason.tmdb.show_original_name + ' - Season ' + showSeason.tmdb.season_number}</h5>\r\n                                        <div className=\"mainInfo\">\r\n                                            <p hidden={date===''}>Дата выхода: {date}</p>\r\n                                            <p>Количество серий: {showSeason.tmdb.episodes?showSeason.tmdb.episodes.length:0}</p>\r\n                                        </div>\r\n                                        <div hidden={!loggedIn | (!showSeason.user_watched_show)}>\r\n                                            <Rating stop={10}\r\n                                                emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}}/>}\r\n                                                fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" style={{fontSize: \"25px\"}} title={n}/>)}\r\n                                                initialRating={showSeason.user_info?showSeason.user_info.score:0}\r\n                                                onChange={(score) => {\r\n                                                    if (!loggedIn){\r\n                                                        openLoginForm();\r\n                                                    }else{\r\n                                                        setShowUserStatus({score: score, review: document.getElementById('reviewSeasonInput').value }, show_id, showSeason.tmdb.season_number);\r\n                                                    }}\r\n                                                }\r\n                                            />\r\n                                            <MDBInput \r\n                                                type=\"textarea\" \r\n                                                id=\"reviewSeasonInput\"\r\n                                                label=\"Ваш отзыв\" \r\n                                                value={review}\r\n                                                onChange={(event) =>setReview(event.target.value)}\r\n                                                outline\r\n                                            />\r\n                                            <button \r\n                                                className={'savePreviewButton'} \r\n                                                hidden={!loggedIn | (!showSeason.user_watched_show)}\r\n                                                onClick={() => {\r\n                                                        if (!loggedIn){\r\n                                                            openLoginForm();\r\n                                                        }else{\r\n                                                            setShowUserStatus({ review: document.getElementById('reviewSeasonInput').value }, show_id, showSeason.tmdb.season_number);\r\n                                                        }\r\n                                                    }\r\n                                                }\r\n                                                >\r\n                                                Сохранить\r\n                                            </button>\r\n                                        </div>\r\n                                    </MDBCol>\r\n                                </MDBRow> \r\n                                <MDBRow className=\"showContentBody\"> \r\n                                    <MDBCol >\r\n                                        <h3 style={{paddingTop: \"15px\"}}>Описание</h3>\r\n                                        <div dangerouslySetInnerHTML={{__html: showSeason.tmdb.overview}} />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <div className=\"showContentBody\"> \r\n                                    <h3 style={{paddingTop: \"15px\"}}>Список серий</h3>\r\n                                    <details open={false} className='episodeRows'>\r\n                                        <summary>Развернуть</summary>\r\n                                            <ul>\r\n                                                {  showSeason.tmdb.episodes?showSeason.tmdb.episodes.map((episode) => <li className=\"episode\" key={showSeason.tmdb.id+episode.episode_number}><DetailedEpisodeRow episode={episode} showID={show_id}/></li>):'' }\r\n                                            </ul>\r\n                                    </details>\r\n                                    <div hidden={!(chartData.length > 0)}>\r\n                                        <AreaChart width={700} height={250} data={chartData}\r\n                                            margin={{ top: 20, right: 20, left: 15, bottom: 0 }}\r\n                                            >\r\n                                            <defs>\r\n                                                <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                                    <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8}/>\r\n                                                    <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0}/>\r\n                                                </linearGradient>\r\n                                            </defs>\r\n                                            <XAxis dataKey=\"name\" interval={0} />\r\n                                            <YAxis tickLine={false}/>\r\n                                            <Tooltip contentStyle={{color: 'rgb(238, 238, 238)', backgroundColor: 'rgb(30, 30, 30)'}}/>\r\n                                            <Area type=\"monotone\" dataKey=\"Оценка\" stroke=\"#8884d8\" fillOpacity={1} fill=\"url(#colorUv)\" />\r\n                                        </AreaChart>\r\n                                    </div>\r\n                                </div>\r\n                                <MDBCol size=\"6\" style={{paddingLeft: \"10px\"}}>\r\n                                    <h3 style={{paddingTop: \"10px\"}}>Отзывы друзей</h3>\r\n                                        \r\n                                </MDBCol>\r\n                            </MDBContainer>\r\n                        </MDBCol>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                    </MDBRow>\r\n                 </MDBContainer>\r\n                 </LoadingOverlay>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    requestError: selectors.getShowRequestError(state),\r\n    showSeason: selectors.getContentShow(state),\r\n    showSeasonIsLoading: selectors.getIsLoadingContentShow(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\trequestShowSeason: (showID, seasonNumber) => {\r\n            dispatch(actions.requestShowSeason(showID, seasonNumber));\r\n        },\r\n        setShowUserStatus: (status, showID, seasonNumber) => {\r\n            dispatch(actions.setShowSeasonStatus(status, showID, seasonNumber));\r\n        },\r\n        openLoginForm: () => {\r\n            dispatch(actions.openLoginForm());\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShowPage);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\n\r\nfunction CardGame( {game} ) {\r\n    let history = useHistory();\r\n    const [date, setDate] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    useEffect(() =>{\r\n            if (game.released){\r\n                let mas = game.released.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setDate(newDate);\r\n            }else\r\n                setDate(\"\");\r\n\r\n            if (game.name.length > 55){\r\n                let newName = game.name.substr(0, 55) + \"...\";\r\n                setName(newName);\r\n            }else\r\n                setName(game.name);\r\n        },\r\n        [game]\r\n    );\r\n\r\n    /*const mouseDownHandler = ( event ) => {\r\n        if( event.button === 1 ) {\r\n            console.log(window.location.origin + '/game/' + game.slug );\r\n\r\n        }\r\n      }*/\r\n\r\n    return(\r\n        <div className=\"searchCardGame\" >\r\n            <div className=\"searchCardGameImage\" style={{backgroundImage: `url(${game.background_image})`}}> </div>\r\n            <div className=\"searchCardGameText\">\r\n                <a href={window.location.origin + '/game/' + game.slug} \r\n                    onClick={(e) => { history.push('/game/' + game.slug); e.preventDefault();}}>\r\n                        <h4 >{name}</h4>\r\n                </a>\r\n                <p>{date}</p>\r\n            </div>\r\n        </div> \r\n    )\r\n}\r\n//onMouseDown={mouseDownHandler} \r\n\r\nexport default CardGame;\r\n","import React, { useEffect, useState} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nfunction CardMovie ( {movie} ) {\r\n    let history = useHistory();\r\n\r\n    const [date, setDate] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    useEffect(() =>{\r\n            if (movie.release_date){\r\n                let mas = movie.release_date.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setDate(newDate);\r\n            }else\r\n                setDate(\"\");\r\n\r\n            if (movie.title.length > 55){\r\n                let newName = movie.title.substr(0, 55) + \"...\";\r\n                setName(newName);\r\n            }else\r\n                setName(movie.title);\r\n        },\r\n        [movie]\r\n    );\r\n\r\n    return(\r\n        <div className=\"searchCardMovie\" >\r\n            <div className=\"searchCardMovieImage\" style={{backgroundImage: `url(${\"http://image.tmdb.org/t/p/w600_and_h900_bestv2\" + movie.poster_path})`}}> </div>\r\n            <div className=\"searchCardMovieText\">\r\n                <a href={window.location.origin + '/movie/' + movie.id} \r\n                    onClick={(e) => { history.push('/movie/' + movie.id); e.preventDefault();}}>\r\n                        <h4 >{name}</h4>\r\n                </a>\r\n                <p>{date}</p>\r\n            </div>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default CardMovie;\r\n","import React, { useEffect, useState} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nfunction CardShow ( {show} ) {\r\n    let history = useHistory();\r\n\r\n    const [date, setDate] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    useEffect(() =>{\r\n            if (show.first_air_date){\r\n                let mas = show.first_air_date.split(\"-\");\r\n                let newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\r\n                setDate(newDate);\r\n            }else\r\n                setDate(\"\");\r\n\r\n            if (show.name.length > 55){\r\n                let newName = show.name.substr(0, 55) + \"...\";\r\n                setName(newName);\r\n            }else\r\n                setName(show.name);\r\n        },\r\n        [show]\r\n    );\r\n\r\n    return(\r\n        <div className=\"searchCardMovie\" >\r\n            <div className=\"searchCardMovieImage\" style={{backgroundImage: `url(${\"http://image.tmdb.org/t/p/w600_and_h900_bestv2\" + show.poster_path})`}}> </div>\r\n            <div className=\"searchCardMovieText\">\r\n                <a href={window.location.origin + '/show/' + show.id} \r\n                    onClick={(e) => { history.push('/show/' + show.id); e.preventDefault();}}>\r\n                        <h4 >{name}</h4>\r\n                </a>\r\n                <p>{date}</p>\r\n            </div>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default CardShow;\r\n","import React, { useEffect} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nfunction CardUser ( {user} ) {\r\n    let history = useHistory();\r\n\r\n    useEffect(() =>{\r\n            \r\n        },\r\n        [user]\r\n    );\r\n\r\n    return(\r\n        <a href={window.location.origin + '/user/' + user.id} \r\n                    onClick={(e) => { history.push('/user/' + user.id); e.preventDefault();}}>\r\n            <div className=\"cardUser\" >\r\n                <div className=\"cardUserImage\" style={{backgroundImage: `url(${'http://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png'})`}}> </div>\r\n                <div className=\"cardUserText\">\r\n                    <h4 >{user.username}</h4>\r\n                </div>\r\n            </div> \r\n        </a>\r\n        \r\n    )\r\n}\r\n\r\nexport default CardUser;\r\n","import React, {useState} from \"react\";\r\nimport './style.css';\r\n\r\nfunction CategoriesTab( {categories, activeColor, onChangeCategory} ) {\r\n    const [activeCategory, setActiveCategory] = useState(categories[0]);\r\n\r\n    return(\r\n        <div>\r\n            {categories.map((category) => <button className={'categoriesTab'} \r\n                                            key={category}\r\n                                            style={{color: (activeCategory === category?activeColor:'rgb(207, 207, 207)')}}\r\n                                            onClick={()=>{ \r\n                                                setActiveCategory(category);\r\n                                                onChangeCategory(category);\r\n                                            }}>\r\n                                            {category}\r\n                                        </button>) }\r\n           <hr style={{  backgroundColor: activeColor, height: 2.5, marginTop: \"0px\", marginBottom: \"10px\" }}/>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default CategoriesTab;\r\n","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams,\r\n    useHistory\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBFormInline\r\n} from \"mdbreact\";\r\nimport './style.css';\r\n\r\nimport LoadingOverlay from 'react-loading-overlay';\r\n\r\nimport CardGame from './CardGame';\r\nimport CardMovie from './CardMovie';\r\nimport CardShow from './CardShow';\r\nimport CardUser from '../Common/CardUser';\r\nimport CategoriesTab from '../Common/CategoriesTab';\r\n\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction SearchPage ( { loggedIn, gamesIsLoading, moviesIsLoading, showsIsLoading, usersIsLoading, searchGame, games, searchMovie, movies, searchShow, shows, searchUsers, users } ) {\r\n    let history = useHistory();\r\n    let { query } = useParams();\r\n    const [queryText, setQueryText] = useState(\"\");\r\n    const [gamesCards, setGamesCards] = useState(\"\");\r\n    const [moviesCards, setMoviesCards] = useState(\"\");\r\n    const [showsCards, setShowsCards] = useState(\"\");\r\n    const [usersCards, setUsersCards] = useState(\"\");\r\n    const [gamesPage, setGamesPage] = useState(1);\r\n    const [moviesPage, setMoviesPage] = useState(1);\r\n    const [showsPage, setShowsPage] = useState(1);\r\n\r\n    const [activeCategory, setActiveCategory] = useState(\"Всё\");\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            searchGame(query, 1, 6);\r\n            searchMovie(query, 1);\r\n            searchShow(query, 1);\r\n            searchUsers(query);\r\n            setQueryText(query);\r\n            document.title = 'Поиск';\r\n            setGamesPage(1);\r\n            setMoviesPage(1);\r\n            setShowsPage(1);\r\n\t\t},\r\n\t\t[query, searchGame, searchMovie, searchUsers, searchShow]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            setGamesCards(<div className=\"searchCardsGroup\">{games.map(game => <CardGame game={game} key={game.id}/>)}</div>);\r\n\t\t},\r\n\t\t[games]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            setMoviesCards(<div className=\"searchCardsGroup\">{movies.map(movie => <CardMovie movie={movie} key={movie.id}/>)}</div>);\r\n\t\t},\r\n\t\t[movies]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            setShowsCards(<div className=\"searchCardsGroup\">{shows.map(show => <CardShow show={show} key={show.id}/>)}</div>);\r\n\t\t},\r\n\t\t[shows]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            setUsersCards(<div className=\"searchCardsGroup\">{users.map(user => <CardUser user={user} key={user.username}/>)}</div>);\r\n\t\t},\r\n\t\t[users]\r\n    );\r\n    \r\n    return (\r\n            <div>\r\n\t\t\t<div className=\"bg searchBG\"/> \r\n                <MDBContainer>\r\n                    <MDBRow>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                        <MDBCol className=\"searchPage\"> \r\n                            <h1>Поиск</h1>\r\n                            <MDBFormInline className=\"md-form\"\r\n                                onSubmit={ (event) => {event.preventDefault(); history.push('/search/' + document.getElementById('searchInput2').value); return false; }}>\r\n                                <MDBIcon icon=\"search\" />\r\n                                <input \r\n                                    className=\"form-control form-control-sm ml-3 w-50\" \r\n                                    type=\"text\" \r\n                                    placeholder=\"Найти\" \r\n                                    aria-label=\"Search\" \r\n                                    id=\"searchInput2\" \r\n                                    value={queryText} \r\n                                    onChange={(event) =>setQueryText(event.target.value)}/>\r\n                            </MDBFormInline>\r\n\r\n                            <h1>Результаты поиска</h1>\r\n                                <CategoriesTab\r\n                                    categories={['Всё', 'Игры', 'Фильмы', 'Сериалы', 'Пользователи']}\r\n                                    activeColor='#7654de' \r\n                                    onChangeCategory={(category) => {\r\n                                        setActiveCategory(category);\r\n                                    }}/>\r\n\r\n                                <LoadingOverlay\r\n                                    active={gamesIsLoading}\r\n                                    spinner\r\n                                    text='Ищем игры...'\r\n                                    >\r\n                                    <div hidden={activeCategory!=='Всё' && activeCategory!=='Игры'}>\r\n                                        <h3>Игры</h3>\r\n                                        <div className=\"reslutsBlock\">\r\n                                            <button className=\"paginationButton\" \r\n                                                disabled={gamesPage===1}\r\n                                                onClick={() => {searchGame(query, gamesPage-1, 6); setGamesPage(gamesPage-1)}}\r\n                                                >\r\n                                                &lt;\r\n                                            </button>\r\n                                            {gamesCards}\r\n                                            <button className=\"paginationButton\"\r\n                                                disabled={games.length < 6}\r\n                                                onClick={() => {searchGame(query, gamesPage+1, 6); setGamesPage(gamesPage+1)}}\r\n                                                >\r\n                                                &gt;\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </LoadingOverlay>\r\n\r\n                                <LoadingOverlay\r\n                                    active={moviesIsLoading}\r\n                                    spinner\r\n                                    text='Ищем фильмы...'\r\n                                    >\r\n                                    <div hidden={activeCategory!=='Всё' && activeCategory!=='Фильмы'}>\r\n                                        <h3>Фильмы</h3>\r\n                                        <div className=\"reslutsBlock\">\r\n                                            <button className=\"paginationButton\" \r\n                                                disabled={moviesPage===1}\r\n                                                onClick={() => {searchMovie(query, moviesPage-1); setMoviesPage(moviesPage-1)}}\r\n                                                >\r\n                                                &lt;\r\n                                            </button>\r\n                                            {moviesCards}\r\n                                            <button className=\"paginationButton\"\r\n                                                disabled={movies.length < 20}\r\n                                                onClick={() => {searchMovie(query, moviesPage+1); setMoviesPage(moviesPage+1)}}\r\n                                                >\r\n                                                &gt;\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>       \r\n                                </LoadingOverlay>\r\n\r\n                                <LoadingOverlay\r\n                                    active={showsIsLoading}\r\n                                    spinner\r\n                                    text='Ищем сериалы...'\r\n                                    >\r\n                                    <div hidden={activeCategory!=='Всё' && activeCategory!=='Сериалы'}>\r\n                                        <h3>Сериалы</h3>\r\n                                        <div className=\"reslutsBlock\">\r\n                                            <button className=\"paginationButton\" \r\n                                                disabled={showsPage===1}\r\n                                                onClick={() => {searchShow(query, showsPage-1); setShowsPage(showsPage-1)}}\r\n                                                >\r\n                                                &lt;\r\n                                            </button>\r\n                                            {showsCards}\r\n                                            <button className=\"paginationButton\"\r\n                                                disabled={shows.length < 20}\r\n                                                onClick={() => {searchShow(query, showsPage+1); setShowsPage(showsPage+1)}}\r\n                                                >\r\n                                                &gt;\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>       \r\n                                </LoadingOverlay>\r\n                                \r\n                                <LoadingOverlay\r\n                                    active={usersIsLoading}\r\n                                    spinner\r\n                                    text='Ищем пользователей...'\r\n                                    >\r\n                                    <div hidden={activeCategory!=='Всё' && activeCategory!=='Пользователи'}>\r\n                                        <h3>Пользователи</h3>\r\n                                        {usersCards}\r\n                                    </div>    \r\n                                </LoadingOverlay>\r\n                                \r\n                        </MDBCol>\r\n                        <MDBCol md=\"0.5\"></MDBCol>\r\n                    </MDBRow>\r\n                 </MDBContainer>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    gamesIsLoading: selectors.getIsLoadingSearchGames(state),\r\n    moviesIsLoading: selectors.getIsLoadingSearchMovies(state),\r\n    showsIsLoading: selectors.getIsLoadingSearchShows(state),\r\n    usersIsLoading: selectors.getIsLoadingSearchUsers(state),\r\n    games: selectors.getSearchContentGames(state),\r\n    movies: selectors.getSearchContentMovies(state),\r\n    shows: selectors.getSearchContentShows(state),\r\n    users: selectors.getSearchContentUsers(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n        searchGame: (query, page, gamesCount) => {\r\n            dispatch(actions.searchGames(query, page, gamesCount));\r\n        },\r\n        searchMovie: (query, page) => {\r\n            dispatch(actions.searchMovies(query, page));\r\n        },\r\n        searchShow: (query, page) => {\r\n            dispatch(actions.searchShows(query, page));\r\n        },\r\n        searchUsers: (query) => {\r\n            dispatch(actions.searchUsers(query));\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPage);\r\n","import React, {\r\n    useState\r\n} from \"react\";\r\nimport {\r\n\tMDBModal, \r\n\tMDBModalBody,\r\n\tMDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtn\r\n} from \"mdbreact\";\r\nimport \"./style.css\";\r\nimport { connect } from 'react-redux'; \r\nimport * as actions from '../../store/actions';\r\nimport * as selectors from '../../store/reducers';\r\n\r\n/**\r\n * КОмпонент формы авторизации\r\n * @param {number} Параметр, при изменении которого компонент открывается \r\n */\r\nfunction LoginForm( {isOpen, closeForm, logIn, authError, openResetPasswordForm} ) {\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [login, setLogin] = useState(\"\");\r\n\r\n\treturn (\r\n        <MDBModal isOpen={isOpen} toggle={closeForm} size=\"sm\" centered>\r\n\t    <MDBModalBody className=\"loginBody\">\r\n\t      <MDBContainer>\r\n\t        <MDBRow>\r\n\t          <MDBCol>\r\n\t            <form onSubmit={(event) => {event.preventDefault(); logIn(login, password)}}>\r\n\t              <p className=\"h4 text-center mb-4\">Войти</p>\r\n\t\t\t\t  <p className=\"note note-danger\" hidden={!authError} >Неверный логин или пароль!</p>\r\n\r\n\t              <label htmlFor=\"loginInput\" className=\"grey-text\">\r\n\t                Логин\r\n\t              </label>\r\n\t              <input type=\"text\" id=\"loginInput\" className=\"form-control\" \r\n\t\t\t\t  \tvalue={login}\r\n\t\t\t\t\tonChange={(event) =>setLogin(event.target.value)}/>\r\n\t\t\t\t\t\r\n\t              <label htmlFor=\"passwordInput\" className=\"grey-text\">\r\n\t                Пароль\r\n\t              </label>\r\n\t              <input type=\"password\" id=\"passwordInput\" className=\"form-control\" \r\n\t\t\t\t  \tvalue={password}\r\n\t\t\t\t\tonChange={(event) =>setPassword(event.target.value)}/>\r\n\t\t\t\t\r\n\r\n\t              <div className=\"text-center mt-4\">\r\n\t\t\t\t\t<MDBBtn type=\"submit\" className=\"confirmButton\">\r\n\t\t\t\t\t\tВойти\r\n\t\t\t\t\t</MDBBtn>\r\n\t\t\t\t\t<label className=\"passwordResetLabel\" onClick={() => {closeForm(); openResetPasswordForm()}}>\r\n\t\t\t\t\t\tВосстановить пароль\r\n\t              \t</label>\r\n\t              </div>\r\n\t            </form>\r\n\t          </MDBCol>\r\n\t        </MDBRow>\r\n\t      </MDBContainer>\r\n\t    </MDBModalBody>\r\n      </MDBModal>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tisOpen: selectors.getLoginForm(state),\r\n\tauthError: selectors.getAuthError(state)\r\n  });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcloseForm: () => {\r\n\t\t\tdispatch(actions.closeLoginForm());\r\n\t\t},\r\n\t\tlogIn: (login, password) => {\r\n\t\t\tdispatch(actions.tryAuth(login, password));\r\n\t\t},\r\n\t\topenResetPasswordForm: () => {\r\n\t\t\tdispatch(actions.openResetPasswordForm());\r\n\t\t},\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\r\n","\r\nimport React, {\r\n    useState\r\n} from \"react\";\r\nimport {\r\n\tMDBModal, \r\n\tMDBModalBody,\r\n\tMDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtn\r\n} from \"mdbreact\";\r\nimport \"./style.css\";\r\nimport { connect } from 'react-redux'; \r\nimport * as actions from '../../store/actions';\r\nimport * as selectors from '../../store/reducers';\r\n\r\n/**\r\n * КОмпонент формы авторизации\r\n * @param {number} Параметр, при изменении которого компонент открывается \r\n */\r\nfunction RegistrationForm( {isOpen, closeForm, registrate, registrateArror, user} ) {\r\n\tconst [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [login, setLogin] = useState(\"\");\r\n\r\n\treturn (\r\n        <MDBModal isOpen={isOpen} toggle={closeForm} size=\"sm\" centered >\r\n\t    <MDBModalBody className=\"registrationBody\">\r\n\t      <MDBContainer>\r\n\t        <MDBRow>\r\n\t          <MDBCol>\r\n\t            <form>\r\n\t\t\t      <p className=\"note note-danger\" hidden={!registrateArror} >Ошибка регистрации!</p>\r\n                  <p className=\"note note-success\" hidden={user.email===\"\"} >{user.login}, добро пожаловать! Осталось только подтвердить вашу почту</p>\r\n\t              <h4>Регистрация</h4>\r\n\r\n\t              <label htmlFor=\"loginInput\">\r\n\t                Никнейм\r\n\t              </label>\r\n\t              <input type=\"text\" id=\"loginInput\" className=\"form-control\" \r\n\t\t\t\t\t\tvalue={login}\r\n\t\t\t\t\t\tonChange={(event) =>setLogin(event.target.value)}/>\r\n\r\n                  <label htmlFor=\"emailInput\">\r\n\t                Электронная почта\r\n\t              </label>\r\n\t\t\t\t  <input type=\"email\"  id=\"emailInput\"  className=\"form-control\" \r\n\t\t\t\t\t  value={email} \r\n\t\t\t\t\t  onChange={(event) =>setEmail(event.target.value)} />\r\n\r\n\t              <label htmlFor=\"passwordInput\">\r\n\t                Пароль\r\n\t              </label>\r\n\t\t\t\t  <input type=\"password\"id=\"passwordInput\" className=\"form-control\"\r\n\t\t\t\t  \t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(event) =>setPassword(event.target.value)}/>\r\n\r\n\t\t\t\t  <label htmlFor=\"passwordConfirmInput\">\r\n\t                Подтверждение пароля\r\n\t              </label>\r\n\t\t\t\t  <input type=\"password\" id=\"passwordConfirmInput\" className=\"form-control\"\r\n\t\t\t\t  \t\tstyle={passwordConfirm===password?{outlineColor: 'green'}:{outlineColor: 'red'}}\r\n\t\t\t\t\t\tvalue={passwordConfirm}\r\n\t\t\t\t\t\tonChange={(event) =>setPasswordConfirm(event.target.value)}/>\r\n\r\n\t              <div className=\"text-center mt-4\">\r\n\t\t\t\t\t<MDBBtn type=\"button\" className=\"confirmButton\" \r\n\t\t\t\t\t\tdisabled={password!==passwordConfirm || login.length < 1  || email.length < 1 || password.length < 1}\r\n\t\t\t\t\t\tonClick={() => registrate(login, email, password)}>\r\n\t\t\t\t\t\tЗарегистрироваться\r\n\t\t\t\t\t</MDBBtn>\r\n\t              </div>\r\n\t            </form>\r\n\t          </MDBCol>\r\n\t        </MDBRow>\r\n\t      </MDBContainer>\r\n\t    </MDBModalBody>\r\n      </MDBModal>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tisOpen: selectors.getRegistrateForm(state),\r\n    registrateArror: selectors.getRegistrateError(state),\r\n    user: selectors.getUser(state)\r\n  });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcloseForm: () => {\r\n\t\t\tdispatch(actions.closeRegistrateForm());\r\n\t\t},\r\n\t\tregistrate: (login, email, password) => {\r\n\t\t\tdispatch(actions.registrationRequest(login, email, password));\r\n\t\t},\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationForm);\r\n","import React, {\r\n    useState\r\n} from \"react\";\r\nimport {\r\n\tMDBModal, \r\n\tMDBModalBody,\r\n\tMDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtn\r\n} from \"mdbreact\";\r\nimport \"./style.css\";\r\nimport { connect } from 'react-redux'; \r\nimport * as actions from '../../store/actions';\r\nimport * as selectors from '../../store/reducers';\r\n\r\n/**\r\n * КОмпонент формы сброса пароля\r\n * @param {number} Параметр, при изменении которого компонент открывается \r\n */\r\nfunction ResetPasswordForm( {isOpen, closeForm, resetPassword, resetPasswordError} ) {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\r\n\treturn (\r\n        <MDBModal isOpen={isOpen} toggle={closeForm} size=\"sm\" centered>\r\n\t    <MDBModalBody className=\"loginBody\">\r\n\t      <MDBContainer>\r\n\t        <MDBRow>\r\n\t          <MDBCol>\r\n\t            <form onSubmit={(event) => {event.preventDefault(); resetPassword(email)}}>\r\n\t              <p className=\"h4 text-center mb-4\">Сбросить пароль</p>\r\n\t\t\t\t  <p className=\"note note-danger\" hidden={!resetPasswordError | resetPasswordError === 'ok'} >{resetPasswordError}</p>\r\n                  <p className=\"note note-success\" hidden={resetPasswordError !== 'ok'} >На вашу почту отправлено письмо</p>\r\n\r\n\t              <label htmlFor=\"emailInput\" className=\"grey-text\">\r\n\t                Почта\r\n\t              </label>\r\n\t              <input type=\"text\" id=\"emailInput\" className=\"form-control\" \r\n\t\t\t\t  \tvalue={email}\r\n\t\t\t\t\tonChange={(event) =>setEmail(event.target.value)}/>\r\n\r\n\t              <div className=\"text-center mt-4\">\r\n\t\t\t\t\t<MDBBtn type=\"submit\" className=\"confirmButton\">\r\n\t\t\t\t\t\tСбросить\r\n\t\t\t\t\t</MDBBtn>\r\n\t              </div>\r\n\t            </form>\r\n\t          </MDBCol>\r\n\t        </MDBRow>\r\n\t      </MDBContainer>\r\n\t    </MDBModalBody>\r\n      </MDBModal>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tisOpen: selectors.getResetPasswordForm(state),\r\n\tresetPasswordError: selectors.getResetPasswordError(state)\r\n  });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcloseForm: () => {\r\n\t\t\tdispatch(actions.closeResetPasswordForm());\r\n\t\t},\r\n\t\tresetPassword: (email) => {\r\n\t\t\tdispatch(actions.resetPassword(email));\r\n\t\t},\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetPasswordForm);\r\n","import React, {\r\n    useEffect\r\n} from \"react\";\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../store/reducers';\r\nimport * as actions from '../store/actions';\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction ConfirmPage ( {confirmEmailRequest} ) \r\n{\r\n\tlet search = window.location.search;\r\n\tlet params = new URLSearchParams(search);\r\n\tlet uid64 = params.get('uid64');\r\n\tlet token = params.get('token');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconfirmEmailRequest(uid64, token);\r\n\t\t},\r\n\t\t// eslint-disable-next-line\r\n\t\t[]\r\n\t);\r\n\t\r\n    return (\r\n\t\t\t<div className=\"bg\">\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n        confirmEmailRequest: (uid64, token) => {\r\n            dispatch(actions.confirmEmailRequest(uid64, token));\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmPage);","import React, {\r\n    useState\r\n} from \"react\";\r\nimport \"./style.css\";\r\nimport { connect } from 'react-redux'; \r\nimport * as actions from '../store/actions';\r\nimport * as selectors from '../store/reducers';\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction ConfirmPasswordPage ( {confirmPassword, confirmPasswordError} ) \r\n{\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n    \r\n\tlet search = window.location.search;\r\n\tlet params = new URLSearchParams(search);\r\n\tlet token = params.get('token');\r\n\r\n    return (\r\n\t\t\t<div className=\"bg\">\r\n                <form onSubmit={(event) => {event.preventDefault(); confirmPassword(token, password)}} className=\"confirmPasswordForm\">\r\n                    <p className=\"h4\">Обновить пароль</p>\r\n                    <p className=\"note note-danger\" hidden={!confirmPasswordError | confirmPasswordError==='ok'} >{confirmPasswordError}</p>\r\n                    <p className=\"note note-success\" hidden={confirmPasswordError !== 'ok'} >Пароль обновлен!</p>\r\n\r\n                    <label htmlFor=\"passwordInput\" className=\"confirmPasswordLabel\">\r\n                        Новый пароль\r\n                    </label><br/>\r\n                    <input type=\"password\" id=\"passwordInput\" className=\"confirmPasswordInput\" \r\n                        value={password}\r\n                        onChange={(event) =>setPassword(event.target.value)}/>\r\n                    <br/>\r\n\r\n                    <label htmlFor=\"passwordConfurmInput\" className='confirmPasswordLabel'>\r\n                        Подтверждение пароля\r\n                    </label><br/>\r\n                    <input type=\"password\" id=\"passwordConfurmInput\" className=\"confirmPasswordInput\"\r\n                        value={passwordConfirm}\r\n                        onChange={(event) =>setPasswordConfirm(event.target.value)}/>\r\n                    <br/>\r\n\r\n                    <button type=\"submit\" \r\n                        className=\"confirmPasswordButton\"\r\n                        disabled={password!==passwordConfirm | password.length < 1}>\r\n                        Обновить\r\n                    </button>\r\n                </form>\r\n\t\t\t</div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    confirmPasswordError: selectors.getConfirmPasswordError(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n        confirmPassword: (token, password) => {\r\n            dispatch(actions.confirmPassword(token, password));\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmPasswordPage);","import React, { useEffect, useState} from \"react\";\r\n\r\nimport {\r\n    MDBDataTable\r\n} from \"mdbreact\";\r\n\r\nfunction GameBlock ( {games, stats} ) {\r\n\r\n    const gameColumns = [\r\n        {\r\n          label: 'Название',\r\n          field: 'name',\r\n          sort: 'disabled'\r\n        },\r\n        {\r\n          label: 'Статус',\r\n          field: 'status',\r\n          sort: 'asc'\r\n        },\r\n        {\r\n          label: 'Оценка',\r\n          field: 'score',\r\n          sort: 'asc'\r\n        },\r\n        {\r\n          label: 'Отзыв',\r\n          field: 'review',\r\n          sort: 'asc'\r\n        },\r\n        {\r\n          label: 'Время прохождения',\r\n          field: 'spent_time',\r\n          sort: 'asc'\r\n        }\r\n      ];\r\n\r\n    const [gameTableData, setGameTableData] = useState({\r\n        columns: gameColumns,\r\n        rows: [\r\n        ]\r\n    });\r\n\r\n    useEffect(() =>{\r\n            if (games)\r\n            {\r\n                setGameTableData({\r\n                    columns: gameColumns,\r\n                    rows: games.map((game) => {\r\n                        return {\r\n                                name: <a className=\"dataTable\" href={window.location.origin + '/game/' + game.game.rawg_slug}>{game.game.rawg_name}</a>,\r\n                                name2: game.game.rawg_name,\r\n                                status: game.status,\r\n                                score: game.score,\r\n                                review: game.review,\r\n                                spent_time: parseFloat(game.spent_time),\r\n                                /*clickEvent: (e) => {\r\n                                    //window.open('/game/' + game.game.rawg_slug);\r\n                                    history.push('/game/' + game.game.rawg_slug);\r\n                                }*/\r\n                            }      \r\n                    })\r\n                });\r\n            }\r\n        },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [games]\r\n    );\r\n\r\n    return(\r\n        <div>\r\n            <p>Игр сыграно: {stats.games?stats.games.count:0}, часов наиграно: {stats.games?stats.games.total_spent_time:0}</p>  \r\n            <MDBDataTable\r\n                striped\r\n                bordered\r\n                small\r\n                data={gameTableData}\r\n                info={false}\r\n                barReverse={true}\r\n                noBottomColumns={true}\r\n                noRecordsFoundLabel=\"Ничего не найдено!\"\r\n                paginationLabel={[\"Предыдущая\", \"Следующая\"]}\r\n                entriesLabel=\"Показывать игр на странице\"\r\n                searchLabel='Поиск'\r\n                className='dataTable'\r\n                />\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default GameBlock;\r\n","import React from \"react\";\r\n\r\nimport CardUser from '../Common/CardUser';\r\n\r\nfunction FriendBlock ( {users} ) {\r\n\r\n    return(\r\n        <div className=\"friendsBlock\">\r\n            { users.map((user) => <CardUser user={user} key={user.id}/>) }\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default FriendBlock;\r\n","import React, { useEffect, useState} from \"react\";\r\n\r\nimport {\r\n    MDBDataTable\r\n} from \"mdbreact\";\r\n\r\nfunction MovieBlock ( {movies, stats} ) {\r\n\r\n    const movieColumns = [\r\n      {\r\n        label: 'Название',\r\n        field: 'name',\r\n        sort: 'disabled'\r\n      },\r\n      {\r\n        label: 'Статус',\r\n        field: 'status',\r\n        sort: 'asc'\r\n      },\r\n      {\r\n        label: 'Оценка',\r\n        field: 'score',\r\n        sort: 'asc'\r\n      },\r\n      {\r\n        label: 'Отзыв',\r\n        field: 'review',\r\n        sort: 'asc'\r\n      }\r\n    ];\r\n\r\n  const [movieTableData, setMovieTableData] = useState({\r\n      columns: movieColumns,\r\n      rows: [\r\n      ]\r\n  });\r\n\r\n    useEffect(() =>{\r\n            if (movies)\r\n            {\r\n              setMovieTableData({\r\n                columns: movieColumns,\r\n                rows: movies.map((movie) => {\r\n                    return {\r\n                            name: <a className=\"dataTable\" href={window.location.origin + '/movie/' + movie.movie.tmdb_id}>{movie.movie.tmdb_name}</a>,\r\n                            name2: movie.movie.tmdb_name,\r\n                            status: movie.status,\r\n                            score: movie.score,\r\n                            review: movie.review,\r\n                            /*clickEvent: (e) => {\r\n                                //window.open('/game/' + game.game.rawg_slug);\r\n                                history.push('/movie/' + movie.movie.tmdb_id)\r\n                            }*/\r\n                        }      \r\n                  })\r\n              });\r\n            }\r\n        },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [movies]\r\n    );\r\n\r\n    return(\r\n        <div>\r\n            <p>Фильмов посмотрено: {stats.movies?stats.movies.count:0}, часов просмотра: {stats.movies?stats.movies.total_spent_time:0}</p>  \r\n            <MDBDataTable\r\n                striped\r\n                bordered\r\n                small\r\n                data={movieTableData}\r\n                info={false}\r\n                barReverse={true}\r\n                noBottomColumns={true}\r\n                noRecordsFoundLabel=\"Ничего не найдено!\"\r\n                paginationLabel={[\"Предыдущая\", \"Следующая\"]}\r\n                entriesLabel=\"Показывать фильмов на странице\"\r\n                searchLabel='Поиск'\r\n                />\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default MovieBlock;\r\n","import React, { useEffect} from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\nimport './style.css';\r\nimport Rating from \"react-rating\";\r\nimport {\r\n    MDBIcon\r\n} from \"mdbreact\";\r\n\r\nfunction LogRow ( {log, showUsername} ) {\r\n    let history = useHistory();\r\n\r\n    useEffect(() =>{\r\n            \r\n        },\r\n        [log]\r\n    );\r\n\r\n    function translateActionType(action, actionResult){\r\n        switch (action) {\r\n            case 'score':\r\n                return 'оценил(а)';\r\n            case 'status':\r\n                return 'изменил(а) статус';\r\n            case 'review':\r\n                return 'оставил(а) отзыв на';\r\n            case 'spent_time':\r\n                return 'изменил(а) время прохождения';\r\n            case 'is_following':\r\n                if (actionResult === 'True')\r\n                    return 'подписан(а) на';\r\n                else\r\n                    return 'отписан(а) от';\r\n            default:\r\n                return action;\r\n        }\r\n    }\r\n\r\n    function translateType(type, actionType){\r\n        switch (type) {\r\n            case 'game':\r\n                if (actionType === 'score' || actionType === 'review')\r\n                    return 'игру';\r\n                else\r\n                    return 'игры';\r\n            case 'movie':\r\n                if (actionType === 'score' || actionType === 'review')\r\n                    return 'фильм';\r\n                else\r\n                    return 'фильма';\r\n            case 'show':\r\n                if (actionType === 'score' || actionType === 'review')\r\n                    return 'сериал';\r\n                else\r\n                    return 'сериала';\r\n            case 'season':\r\n                return '';\r\n            case 'user':\r\n                return 'пользователя';\r\n            default:\r\n                return type;\r\n        }\r\n    }\r\n\r\n    function nameToLink(name, type, id){\r\n        switch (type){\r\n            case 'game':\r\n                return  <a href={window.location.origin + '/game/' + id} \r\n                            className=\"logLink\"\r\n                            onClick={(e) => { history.push('/game/' + id); e.preventDefault();}}>\r\n                                {name}\r\n                        </a>;\r\n            case 'movie':\r\n                return  <a href={window.location.origin + '/movie/' + id} \r\n                            className=\"logLink\"\r\n                            onClick={(e) => { history.push('/movie/' + id); e.preventDefault();}}>\r\n                                {name}\r\n                        </a>;\r\n            case 'show':\r\n                return  <a href={window.location.origin + '/show/' + id} \r\n                            className=\"logLink\"\r\n                            onClick={(e) => { history.push('/show/' + id); e.preventDefault();}}>\r\n                                {name}\r\n                        </a>;\r\n            case 'season':\r\n                return  <div style={{display: 'inline-block'}}>\r\n                            <a href={window.location.origin + '/show/' + id.show_id + '/season/' + id.season_number} \r\n                                className=\"logLink\"\r\n                                onClick={(e) => { history.push('/show/' + id.show_id  + '/season/' + id.season_number); e.preventDefault();}}>\r\n                                    {name.name}\r\n                            </a>\r\n                            &nbsp;сериала&nbsp;\r\n                            <a href={window.location.origin + '/show/' + id.show_id} \r\n                                className=\"logLink\"\r\n                                onClick={(e) => { history.push('/show/' + id.show_id); e.preventDefault();}}>\r\n                                    {name.parent_name}\r\n                            </a>\r\n                            \r\n                        </div>\r\n                        ;\r\n            case 'user':\r\n                return  <a href={window.location.origin + '/user/' + id} \r\n                            className=\"logLink\"\r\n                            onClick={(e) => { history.push('/user/' + id); e.preventDefault();}}>\r\n                                {name}\r\n                        </a>;\r\n            default:\r\n                return name;\r\n        }\r\n    }\r\n\r\n    function userToLink(username, userID){\r\n            return  <a href={window.location.origin + '/user/' + userID} \r\n                        className=\"logLink\"\r\n                        onClick={(e) => { history.push('/user/' + userID); e.preventDefault();}}>\r\n                            {username}\r\n                    </a>;\r\n    }\r\n\r\n    function actionResultToStr(actionType, actionResult){\r\n        switch (actionType){\r\n            case 'score':\r\n                return  <Rating stop={10}\r\n                            emptySymbol={<MDBIcon far icon=\"star\" size=\"1x\"/>}\r\n                            fullSymbol={[1,2,3,4,5,6,7,8,9,10].map(n => <MDBIcon icon=\"star\" size=\"1x\" title={n}/>)}\r\n                            initialRating={actionResult}\r\n                            readonly={true}\r\n                        />\r\n            case 'status':\r\n                return '\"' + actionResult + '\"';\r\n            case 'review':\r\n                return '\"' + actionResult + '\"';\r\n            case 'spent_time':\r\n                return actionResult + ' ' + intToHours(actionResult);\r\n            case 'is_following':\r\n                return '';\r\n            default:\r\n                return actionResult;\r\n        }\r\n    }\r\n\r\n    function parseDate(date){\r\n        let newDate = new Date(date);\r\n        return newDate.toLocaleTimeString(\"ru-RU\");\r\n    }\r\n\r\n    return(\r\n            <p className=\"logRow\">{parseDate(log.created)} {showUsername?userToLink(log.user, log.user_id):''} {translateActionType(log.action_type, log.action_result)} {translateType(log.type, log.action_type)} {nameToLink(log.target, log.type, log.target_id)}{log.type==='user'?'':':'} {actionResultToStr(log.action_type, log.action_result)}</p>\r\n    )\r\n}\r\n\r\nfunction intToHours(number){\r\n    if (11 <= number && number <= 14)\r\n        return 'часов'\r\n    else if (number % 10 === 1)\r\n        return 'час'\r\n    else if (2 <= number % 10 && number % 10 <= 4)\r\n        return 'часа'\r\n    else\r\n        return 'часов'\r\n}\r\n\r\nexport default LogRow;","import React, { useEffect, useState} from \"react\";\r\nimport {\r\n    MDBIcon\r\n} from \"mdbreact\";\r\nimport './style.css';\r\nimport LogRow from './LogRow';\r\n\r\nfunction UserLogBlock ( {logs, showUsername, onChangePage} ) {\r\n    const [logsByDay, setLogsByDay] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    useEffect(() =>{\r\n            setLogsByDay(groupLogsByDay(logs.log));\r\n        },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [logs]\r\n    );\r\n\r\n    function groupLogsByDay(logs){\r\n        let newLogs = [];\r\n\r\n        for (let i in logs){\r\n            let date = new Date(logs[i].created);\r\n\r\n            if (newLogs.length === 0)\r\n                newLogs.push({\r\n                    date: date,\r\n                    logs: [logs[i]]\r\n                });\r\n            else if (date.getDay() === newLogs[newLogs.length - 1].date.getDay())\r\n                newLogs[newLogs.length - 1].logs.push(logs[i]);\r\n            else\r\n                newLogs.push({\r\n                    date: date,\r\n                    logs: [logs[i]]\r\n                });\r\n        }\r\n        return newLogs;\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            { \r\n                logsByDay.map((dayLog) => \r\n                    <div key={dayLog.logs[0].id} className=\"logDay\">\r\n                        <h5 className='logDate'>\r\n                            {dayLog.date.toLocaleDateString(\"ru-RU\")}\r\n                        </h5>\r\n                        <div className='logRows'>\r\n                            { dayLog.logs.map((log) => <LogRow log={log} showUsername={showUsername} key={log.id}/>) }\r\n                        </div>\r\n                    </div>\r\n                )  \r\n            } \r\n            <button \r\n                className=\"logPaginationButton\" \r\n                disabled={!logs.has_next_page}\r\n                onClick={() => {\r\n                        if (logs.has_next_page){\r\n                            onChangePage(currentPage+1);\r\n                            setCurrentPage(currentPage+1);\r\n                        } \r\n                    }}\r\n                >\r\n                <MDBIcon icon=\"arrow-down\" />\r\n            </button> \r\n\r\n            <button \r\n                className=\"logPaginationButton\" \r\n                disabled={currentPage===1}\r\n                onClick={() => {\r\n                        if (currentPage>1){\r\n                            onChangePage(currentPage-1);\r\n                            setCurrentPage(currentPage-1);\r\n                        } \r\n                    }}\r\n                >\r\n                <MDBIcon icon=\"arrow-up\" />\r\n            </button>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default UserLogBlock;\r\n","import React, { useEffect, useState} from \"react\";\r\n\r\nimport {\r\n    MDBDataTable\r\n} from \"mdbreact\";\r\n\r\nfunction ShowBlock ( {shows, stats} ) {\r\n\r\n    const showColumns = [\r\n      {\r\n        label: 'Название',\r\n        field: 'name',\r\n        sort: 'disabled'\r\n      },\r\n      {\r\n        label: 'Статус',\r\n        field: 'status',\r\n        sort: 'asc'\r\n      },\r\n      {\r\n        label: 'Оценка',\r\n        field: 'score',\r\n        sort: 'asc'\r\n      },\r\n      {\r\n        label: 'Отзыв',\r\n        field: 'review',\r\n        sort: 'asc'\r\n      }\r\n    ];\r\n\r\n  const [showTableData, setShowTableData] = useState({\r\n      columns: showColumns,\r\n      rows: [\r\n      ]\r\n  });\r\n\r\n    useEffect(() =>{\r\n            if (shows)\r\n            {\r\n              setShowTableData({\r\n                columns: showColumns,\r\n                rows: shows.map((show) => {\r\n                    return {\r\n                            name: <a className=\"dataTable\" href={window.location.origin + '/show/' + show.show.tmdb_id}>{show.show.tmdb_name}</a>,\r\n                            name2: show.show.tmdb_name,\r\n                            status: show.status,\r\n                            score: show.score,\r\n                            review: show.review,\r\n                            /*clickEvent: (e) => {\r\n                                //window.open('/game/' + game.game.rawg_slug);\r\n                                history.push('/movie/' + movie.movie.tmdb_id)\r\n                            }*/\r\n                        }      \r\n                  })\r\n              });\r\n            }\r\n        },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [shows]\r\n    );\r\n\r\n    return(\r\n        <div>\r\n            <p>Серий сериалов посмотрено: {stats.episodes?stats.episodes.count:0}, часов просмотра: {stats.episodes?stats.episodes.total_spent_time:0}</p>  \r\n            <MDBDataTable\r\n                striped\r\n                bordered\r\n                small\r\n                data={showTableData}\r\n                info={false}\r\n                barReverse={true}\r\n                noBottomColumns={true}\r\n                noRecordsFoundLabel=\"Ничего не найдено!\"\r\n                paginationLabel={[\"Предыдущая\", \"Следующая\"]}\r\n                entriesLabel=\"Показывать сериалов на странице\"\r\n                searchLabel='Поиск'\r\n                />\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default ShowBlock;\r\n","import React, {\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport {\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBContainer\r\n} from \"mdbreact\";\r\nimport {\r\n    PieChart, Pie, Legend, Cell\r\n  } from 'recharts';\r\nimport './style.css';\r\n\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../../store/reducers';\r\nimport * as actions from '../../store/actions';\r\n\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport GameBlock from './GameBlock';\r\nimport FriendBlock from './FriendBlock';\r\nimport MovieBlock from './MovieBlock';\r\nimport UserLogBlock from './UserLogBlock';\r\nimport CategoriesTab from '../Common/CategoriesTab';\r\nimport ShowBlock from \"./ShowBlock\";\r\n\r\nconst LOG_ROWS_COUNT = 15; \r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'];\r\n\r\n/**\r\n * Основная страница приложения\r\n */\r\nfunction UserPage ( { loggedIn, userInfo, \r\n                    userIsLoading, getUserInfo, currentUserInfo, setUserStatus, \r\n                    getUserLogs, userLogs, userLogsIsLoading,\r\n                    getUserFriendsLogs, userFriendsLogs, userFriendsLogsIsLoading}) \r\n{ \r\n    let { userID } = useParams();\r\n    const [activeCategory, setActiveCategory] = useState(\"Профиль\");\r\n    const [chartData, setChartData] = useState([]);\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            getUserInfo(userID);\r\n            getUserLogs(userID, 1, LOG_ROWS_COUNT);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[userID, getUserInfo, getUserLogs, getUserFriendsLogs]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            if (loggedIn)\r\n                getUserFriendsLogs(userID, 1, LOG_ROWS_COUNT);\r\n        },\r\n        // eslint-disable-next-line\r\n\t\t[loggedIn]\r\n    );\r\n\r\n    useEffect(\r\n\t\t() => {\r\n            setChartData([]);\r\n            document.title = 'Профиль ' + userInfo.username;\r\n            if (userInfo.stats.games){\r\n                let newData = [];\r\n                if (userInfo.stats.games.total_spent_time > 0)\r\n                    newData.push({name: 'Часов в играх', value: userInfo.stats.games.total_spent_time});\r\n                if (userInfo.stats.movies.total_spent_time > 0)\r\n                    newData.push({name: 'Часов в фильмах', value: userInfo.stats.movies.total_spent_time});\r\n                if (userInfo.stats.episodes.total_spent_time > 0)\r\n                    newData.push({name: 'Часов в сериалах', value: userInfo.stats.episodes.total_spent_time});\r\n                setChartData(newData);\r\n            }\r\n\t\t},\r\n\t\t[userInfo]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"bg searchBG\"/> \r\n            <LoadingOverlay\r\n                active={userIsLoading}\r\n                spinner\r\n                text='Загрузка...'\r\n                >\r\n            <MDBContainer>\r\n                <MDBRow>\r\n                    <MDBCol md=\"0.5\"></MDBCol>\r\n                    <MDBCol className=\"userPage\"> \r\n                        <h1>Информация о пользователе {userInfo.username}</h1>\r\n                        <button \r\n                            hidden={currentUserInfo.username === userInfo.username}\r\n                            className='addFriendButton'\r\n                            onClick={ () => {\r\n                                setUserStatus({is_following: userInfo.is_followed?false:true}, userInfo.id);\r\n                            }}>\r\n                            {userInfo.is_followed?'Отписаться':'Подписаться'}\r\n                        </button>\r\n                        <CategoriesTab\r\n                            categories={['Профиль', 'Игры', 'Фильмы', 'Сериалы', 'Друзья']}\r\n                            activeColor='#7654de' \r\n                            onChangeCategory={(category) => { setActiveCategory(category) }}/>\r\n\r\n                            <div hidden={activeCategory!=='Профиль'}>\r\n                                <h4>Моя активность: </h4>\r\n                                <LoadingOverlay\r\n                                    active={userLogsIsLoading}\r\n                                    spinner\r\n                                    text='Загрузка активности...'\r\n                                    >\r\n\r\n                                    <div hidden={chartData.length < 1}>\r\n                                        <PieChart width={300} height={220} hidden={chartData.length < 1}>\r\n                                            <Pie dataKey=\"value\" \r\n                                                data={chartData} \r\n                                                cx=\"50%\" cy=\"50%\"\r\n                                                outerRadius={80} \r\n                                                fill=\"#8884d8\" \r\n                                                labelLine={true}\r\n                                                label\r\n                                                >\r\n                                            {\r\n                                                chartData.map((entry, index) => <Cell fill={COLORS[index % COLORS.length]}/>)\r\n                                            }\r\n                                            </Pie>\r\n                                            <Legend verticalAlign=\"bottom\" horizontalAlign=\"center\"/>\r\n                                        </PieChart>\r\n                                    </div>\r\n\r\n                                    <UserLogBlock logs={userLogs} onChangePage={(pageNumber) => getUserLogs(userID, pageNumber, LOG_ROWS_COUNT)}/>\r\n                                </LoadingOverlay>\r\n                            </div>\r\n                            <div hidden={activeCategory!=='Игры'}>\r\n                                <GameBlock games={userInfo.games} stats={userInfo.stats} />\r\n                            </div>\r\n                            <div hidden={activeCategory!=='Фильмы'}>\r\n                                <MovieBlock movies={userInfo.movies} stats={userInfo.stats} />\r\n                            </div>\r\n                            <div hidden={activeCategory!=='Сериалы'}>\r\n                                <ShowBlock shows={userInfo.shows} stats={userInfo.stats} />\r\n                            </div>\r\n                            <div hidden={activeCategory!=='Друзья'}>\r\n                                <FriendBlock users={userInfo.followed_users?userInfo.followed_users:[]} />\r\n                                <h4>Активность друзей: </h4>\r\n                                <LoadingOverlay\r\n                                    active={userFriendsLogsIsLoading}\r\n                                    spinner\r\n                                    text='Загрузка активности...'\r\n                                    >\r\n                                    <UserLogBlock logs={userFriendsLogs} onChangePage={(pageNumber) => getUserFriendsLogs(userID, pageNumber, LOG_ROWS_COUNT)} showUsername={true}/>\r\n                                </LoadingOverlay>\r\n                                \r\n                            </div>\r\n                    </MDBCol>\r\n                    <MDBCol md=\"0.5\"></MDBCol>\r\n                </MDBRow>\r\n            </MDBContainer>\r\n            </LoadingOverlay>\r\n        </div>\r\n    \t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    userIsLoading: selectors.getIsLoadingUserPageContent(state),\r\n    userInfo: selectors.getUserPageContent(state),\r\n    userLogs: selectors.getUserPageLogs(state),\r\n    userLogsIsLoading: selectors.getIsLoadingUserPageLogs(state),\r\n    userFriendsLogs: selectors.getUserPageFriendsLogs(state),\r\n    userFriendsLogsIsLoading: selectors.getIsLoadingUserPageFriendsLogs(state),\r\n    currentUserInfo: selectors.getUser(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n        openLoginForm: () => {\r\n            dispatch(actions.openLoginForm());\r\n        },\r\n        getUserInfo: (user_id) => {\r\n            dispatch(actions.requestUserPageContent(user_id));\r\n        },\r\n        setUserStatus: (is_following, userID) => {\r\n            dispatch(actions.setUserStatus(is_following, userID));\r\n        },\r\n        getUserLogs: (userID, page, resultsOnPage) => {\r\n            dispatch(actions.requestUserPageLogs(userID, page, resultsOnPage));\r\n        },\r\n        getUserFriendsLogs: (userID, page, resultsOnPage) => {\r\n            dispatch(actions.requestUserPageFriendsLogs(userID, page, resultsOnPage));\r\n        },\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPage);\r\n","import React from \"react\";\r\nimport {\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nimport {\r\n\tMDBNavbar,\r\n    MDBNavItem,\r\n    MDBNavbarBrand,\r\n    MDBNavbarNav,\r\n    MDBNavLink,\r\n    MDBIcon,\r\n    MDBFormInline,\r\n    MDBDropdown,\r\n    MDBDropdownItem,\r\n    MDBDropdownMenu,\r\n    MDBDropdownToggle\r\n} from \"mdbreact\";\r\n\r\nimport { connect } from 'react-redux'; \r\nimport * as selectors from '../store/reducers';\r\nimport * as actions from '../store/actions';\r\n\r\nfunction Navbar( {loggedIn, onLoginClick, onLogoutClick, onRegistrationClick, user} ) {\r\n    let history = useHistory();\r\n\r\n    return(\r\n            <MDBNavbar style={{ backgroundColor: \"#4527a0\" }} dark expand=\"md\" fixed=\"top\">\r\n            <MDBNavbarBrand onClick={ (event) => {event.preventDefault(); history.push('/'); return false; }}>\r\n                <strong className=\"white-text\" style={{cursor: 'pointer'}}>Interests</strong>\r\n            </MDBNavbarBrand>\r\n            <MDBNavbarNav left>\r\n                \r\n            </MDBNavbarNav>\r\n\r\n            <MDBNavbarNav right>\r\n                <MDBNavItem>\r\n                    <MDBFormInline onSubmit={ (event) => {event.preventDefault(); history.push('/search/' + document.getElementById('searchInput').value); return false; }}>\r\n                        <div className=\"md-form my-0\">\r\n                        <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Найти\" aria-label=\"Найти\"\r\n                            id=\"searchInput\"/>\r\n                        </div>\r\n                    </MDBFormInline>\r\n                </MDBNavItem>\r\n\r\n                <MDBNavItem className=\"font-weight-bold\" hidden={loggedIn}>\r\n                    <MDBNavLink to=\"#\" onClick={onLoginClick} >\r\n                        <MDBIcon icon=\"sign-in-alt\" /> Войти\r\n                    </MDBNavLink>\r\n                </MDBNavItem>\r\n                <MDBNavItem className=\"font-weight-bold\" hidden={loggedIn}>\r\n                    <MDBNavLink to=\"#\" onClick={onRegistrationClick} >\r\n                        <MDBIcon icon=\"user-plus\" /> Зарегистрироваться\r\n                    </MDBNavLink>\r\n                </MDBNavItem>\r\n                <MDBNavItem hidden={!loggedIn} className=\"font-weight-bold\">\r\n                    <MDBDropdown>\r\n                        <MDBDropdownToggle nav caret>\r\n                        <span className=\"mr-2\">{user.username}</span>\r\n                        </MDBDropdownToggle>\r\n                        <MDBDropdownMenu>\r\n                            <MDBDropdownItem href={\"/user/\"+user.id}>Профиль</MDBDropdownItem>\r\n                            <MDBDropdownItem onClick={ onLogoutClick }>\r\n                                <MDBIcon icon=\"sign-out-alt\"/> Выйти\r\n                            </MDBDropdownItem>\r\n                        </MDBDropdownMenu>\r\n                    </MDBDropdown>\r\n                </MDBNavItem>\r\n            </MDBNavbarNav>\r\n        </MDBNavbar>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: selectors.getLoggedIn(state),\r\n    user: selectors.getUser(state)\r\n});\r\n\r\n  const mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonLoginClick: () => {\r\n\t\t\tdispatch(actions.openLoginForm());\r\n        },\r\n        onLogoutClick: () =>{\r\n            dispatch(actions.resetAuthorization());\r\n        },\r\n        onRegistrationClick: () =>{\r\n            dispatch(actions.openRegistrateForm());\r\n        }\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport HomePage from \"./components/HomePage\";\r\nimport GamePage from \"./components/Game/GamePage\";\r\nimport MoviePage from \"./components/Movie/MoviePage\";\r\nimport ShowPage from \"./components/Show/ShowPage\";\r\nimport SeasonPage from \"./components/Show/SeasonPage\";\r\nimport SearchPage from \"./components/Search/SearchPage\";\r\nimport LoginForm from \"./components/Modals/LoginForm\";\r\nimport RegistrationForm from \"./components/Modals/RegistrationForm\";\r\nimport ResetPasswordForm from \"./components/Modals/ResetPasswordForm\";\r\nimport ConfirmPage from \"./components/ConfirmPage\";\r\nimport ConfirmPasswordPage from \"./components/ConfirmPasswordPage\";\r\nimport UserPage from \"./components/UserPage/UserPage\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nclass Routes extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar/>\r\n        <div className=\"navbar\"></div>\r\n        <Switch>\r\n            <Route exact path=\"/\" component={HomePage} />\r\n            <Route exact path=\"/game/:id\" component={GamePage} />\r\n            <Route exact path=\"/movie/:id\" component={MoviePage} />\r\n            <Route exact path=\"/show/:id\" component={ShowPage} />\r\n            <Route exact path=\"/show/:show_id/season/:number\" component={SeasonPage} />\r\n            <Route exact path=\"/search/:query\" component={SearchPage} />\r\n            <Route exact path=\"/confirm/\" component={ConfirmPage} />\r\n            <Route exact path=\"/confirm_password/\" component={ConfirmPasswordPage} />\r\n            <Route exact path=\"/user/:userID\" component={UserPage} />\r\n            <Route render={function () { return <h1>Not Found</h1>; }} />\r\n            \r\n        </Switch>\r\n      <ToastContainer position=\"top-center\" hideProgressBar newestOnTop closeOnClick/>\r\n      <LoginForm/>\r\n      <RegistrationForm/>\r\n      <ResetPasswordForm/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// \r\nexport default Routes;","import React, {useEffect} from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'; \r\nimport Routes from \"./Routes\";\r\nimport * as actions from \"./store/actions\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction App({onLoad}) {\r\n\r\n  useEffect(\r\n    () => {\r\n        onLoad();\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"flyout\">\r\n        <main>\r\n          <Routes />\r\n        </main>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n    onLoad: () => {\r\n      dispatch(actions.checkAuthorization());\r\n\t\t},\r\n\t}\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\r\nimport \"mdbreact/dist/css/mdb.css\";\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { createStore, \r\n  applyMiddleware, \r\n  //combineReducers,\r\n   compose } from 'redux';\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './store/reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk) ) );\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\nexport default store;\r\n\r\n"],"sourceRoot":""}