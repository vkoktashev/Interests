{"version":3,"sources":["shared/Image/Image.tsx","routes/CalendarPage/calendar-page.module.sass","settings.ts","services/jwtAuth.js","store/AuthStore.ts","store/PagesStore.ts","routes/HomePage/index.js","routes/HomePage/HomePage.js","http/index.js","services/gameRequests.ts","store/GameStore.ts","shared/StatusButtonGroup/StatusButtonGroup.js","shared/StatusButtonGroup/index.js","shared/Rating/Rating.js","shared/Rating/index.js","shared/FriendsActivity/views/FriendActivity/FriendActivity.js","shared/FriendsActivity/views/FriendActivity/index.js","shared/FriendsActivity/FriendsActivity.js","shared/FriendsActivity/index.js","routes/GamePage/views/TimeToBeat/TimeToBeat.js","routes/GamePage/views/TimeToBeat/index.js","shared/ScoreBlock/ScoreBlock.js","shared/ScoreBlock/index.js","shared/InputNumber/InputNumber.js","shared/InputNumber/index.js","enums/GameStoresEnum.ts","shared/GameStores/GameStores.tsx","shared/GameStores/index.ts","routes/GamePage/index.js","routes/GamePage/GamePage.js","services/movieRequests.js","store/MovieStore.ts","shared/Image/index.ts","routes/MoviePage/index.js","routes/MoviePage/MoviePage.js","services/showRequests.js","store/ShowStore.ts","shared/DetailEpisodeRow/DetailEpisodeRow.js","shared/DetailEpisodeRow/index.js","routes/ShowPage/views/SeasonBlock/index.js","routes/ShowPage/views/SeasonBlock/SeasonBlock.js","routes/ShowPage/views/SeasonsBlock/index.js","routes/ShowPage/views/SeasonsBlock/SeasonsBlock.js","routes/ShowPage/index.js","routes/ShowPage/ShowPage.js","routes/ShowSeasonPage/index.js","routes/ShowSeasonPage/SeasonPage.js","routes/ShowEpisodePage/index.js","routes/ShowEpisodePage/EpisodePage.js","services/userRequests.ts","store/SearchStore.ts","routes/SearchPage/views/SearchCard/SearchCard.js","routes/SearchPage/views/SearchCard/index.js","routes/SearchPage/views/SearchCardsBlock/SearchCardsBlock.js","routes/SearchPage/views/SearchCardsBlock/index.js","routes/SearchPage/views/GameCards.js","routes/SearchPage/views/MovieCards.js","routes/SearchPage/views/ShowCards.js","shared/CardUser/CardUser.js","shared/CardUser/index.js","shared/FriendBlock/FriendBlock.js","shared/FriendBlock/index.js","routes/SearchPage/views/UserCards.js","shared/CategoriesTab/CategoriesTab.tsx","shared/CategoriesTab/index.js","routes/SearchPage/SearchPage.tsx","routes/SearchPage/index.js","hooks/useScroll.js","routes/ConfirmPage/index.js","routes/ConfirmPage/ConfirmPage.js","routes/ConfirmPasswordPage/index.js","routes/ConfirmPasswordPage/ConfirmPasswordPage.js","store/UserStore.ts","shared/SelectMulti/SelectMulti.js","shared/SelectMulti/index.js","routes/UserPage/views/ItemsBlock/ItemRow/ItemRow.js","hooks/useWindowDimensions.js","routes/UserPage/views/ItemsBlock/ItemBlock/ItemBlock.js","routes/UserPage/views/ItemsBlock/ItemBlock/index.js","routes/UserPage/views/ItemsBlock/GameBlock.js","routes/UserPage/views/ItemsBlock/MovieBlock.js","routes/UserPage/views/UserLogs/LogRow/LogRow.js","routes/UserPage/views/UserLogs/LogsByDay/LogsByDay.js","routes/UserPage/views/UserLogs/UserLogs.js","routes/UserPage/views/UserLogs/index.js","routes/UserPage/views/ItemsBlock/ShowBlock.js","routes/UserPage/views/StatisticsBlock/Colors.js","routes/UserPage/views/StatisticsBlock/GenresChart/GenresChart.js","routes/UserPage/views/StatisticsBlock/YearsChart/YearsChart.js","routes/UserPage/views/StatisticsBlock/ChartBlock/ChartBlock.js","routes/UserPage/views/StatisticsBlock/StatisticsBlock.js","routes/UserPage/views/StatisticsBlock/index.js","routes/UserPage/index.js","routes/UserPage/UserPage.js","store/CurrentUserStore.ts","routes/CalendarPage/views/DayInfo/DayInfo.js","routes/CalendarPage/views/DayInfo/index.js","routes/CalendarPage/views/ReleasesList/ReleasesList.js","routes/CalendarPage/views/ReleasesList/index.js","routes/CalendarPage/CalendarPage.js","routes/CalendarPage/index.js","routes/SettingsPage/index.js","routes/SettingsPage/SettingsPage.js","routes/UnwatchedPage/views/EpisodeRow/EpisodeRow.js","routes/UnwatchedPage/views/EpisodeRow/index.js","routes/UnwatchedPage/views/ShowBlock/ShowBlock.js","routes/UnwatchedPage/views/ShowBlock/index.js","routes/UnwatchedPage/index.js","routes/UnwatchedPage/UnwatchedPage.js","routes/NotFoundPage/wrongPage.png","routes/NotFoundPage/NotFoundPage.js","routes/NotFoundPage/index.js","shared/Button/Button.tsx","shared/Button/index.ts","routes/RandomPage/views/RandomCard/RandomCard.tsx","routes/RandomPage/views/RandomCard/index.ts","routes/RandomPage/RandomPage.tsx","Routes.tsx","shared/app/Navbar/views/SearchInput/index.js","shared/app/Navbar/views/SearchInput/SearchInput.js","shared/app/Navbar/index.js","shared/app/Navbar/Navbar.js","shared/app/Footer/tmdb-logo.svg","shared/app/Footer/Footer.js","shared/app/Footer/index.js","shared/app/Sidebar/index.js","shared/app/Sidebar/Sidebar.js","shared/Modal/Modal.tsx","shared/Modal/index.ts","shared/Modals/LoginForm/LoginForm.tsx","shared/Modals/LoginForm/index.ts","shared/Modals/RegisterForm/index.ts","shared/Modals/RegisterForm/RegisterForm.tsx","shared/Modals/ResetPasswordForm/ResetPasswordForm.tsx","shared/Modals/ResetPasswordForm/index.ts","App.tsx","serviceWorker.js","index.tsx"],"names":["Image","props","useState","dataUrl","setDataUrl","isLoading","setLoading","loadImage","useCallback","src","axios","get","responseType","headers","Origin","response","base64","Buffer","from","data","toString","useEffect","alt","module","exports","BACKEND_URL","GET_TOKEN_URL","REFRESH_TOKEN_URL","REGISTRATE_URL","CONFIRM_URL","RESET_PASSWORD_URL","CONFIRM_PASSWORD_URL","GET_GAME_URL","SEARCH_GAMES_URL","SEARCH_GAMES_FAST_URL","GET_MOVIE_URL","SEARCH_MOVIES_URL","SEARCH_MOVIES_FAST_URL","GET_SHOW_URL","SEARCH_SHOWS_URL","SEARCH_SHOWS_FAST_URL","GET_UNWATCHED_EPISODES_URL","USER_INFO_URL","USER_CALENDAR_URL","SEARCH_USERS_URL","USER_SETTINGS_URL","getToken","username","password","post","urls","res","userData","jwt_decode","access","user","id","user_id","email","token","refreshToken","refresh","updateToken","registration","status","confirmation","uid64","patch","resetPassword","put","confirmPassword","Auth","loggedIn","authState","registrateState","confirmEmailState","resetPasswordState","confirmPasswordState","tryAuth","login","auth","then","authSuccess","authFailure","localStorage","setItem","error","resetAuthorization","detail","removeItem","register","registerSuccess","registerFailure","result","errors","error2","confirmEmail","confirmEmailSuccess","confirmEmailFailure","resetPasswordSuccess","resetPasswordFailure","confirmPasswordSuccess","confirmPasswordFailure","checkAuth","getItem","checkAuthSuccess","checkAuthFailure","makeAutoObservable","this","AuthStore","PagesStore","LoginFormIsOpen","RegistrateFormIsOpen","ResetPasswordFormIsOpen","saveEpisodesBlockIsOpen","sidebarIsToggled","sidebarIsCollapsed","toggleSidebar","JSON","stringify","collapseSidebar","openLoginForm","closeLoginForm","openRegistrateForm","closeRegistrateForm","openResetPasswordForm","closeResetPasswordForm","setSaveEpisodes","HomePage","observer","history","useHistory","className","href","onClick","e","preventDefault","push","api","create","baseURL","interceptors","request","use","config","Authorization","originalRequest","_isRetry","console","log","getGame","setGameStatus","gameSlug","user_info","searchGames","query","page","gamesCount","params","page_size","searchGamesFast","getGameUserInfo","slug","defaults","common","Game","game","gameState","userInfo","review","score","spent_time","friendsInfo","userInfoState","setStatusState","setStatusToast","requestGame","gameRequests","requestGameSuccess","requestGameFailure","statusText","requestUserInfo","requestUserInfoSuccess","requestUserInfoFailure","friends_info","setGameStatusSuccess","setGameStatusFailure","setGameReview","toast","autoClose","type","TYPE","INFO","position","setGameReviewSuccess","setGameReviewFailure","update","render","SUCCESS","ERROR","startsWith","GameStore","StatusButtonGroup","statuses","onChangeStatus","userStatus","classnames","map","counter","RatingBlock","Rating","initialRating","readonly","onChange","withEye","start","stop","emptySymbol","concat","n","title","fullSymbol","value","quiet","intToHours","number","FriendActivity","info","window","location","origin","hidden","FriendsActivity","friendInfo","TimeToBeat","hltbInfo","gameplay_main","gameplay_main_extra","gameplay_completionist","gameplay_main_unit","gameplay_main_extra_unit","gameplay_completionist_unit","ScoreBlock","text","getColor","InputNumber","max","min","dataList","parseFloat","event","target","style","width","length","GameStoresEnum","STEAM","FaSteam","PS_STORE","FaPlaystation","EGS","SiEpicgames","ESHOP","SiNintendoswitch","XBOX","FaXbox","GOG","SiGogdotcom","XBOX360","RiXboxLine","APPSTORE","FaAppStoreIos","GOOGLE_PLAY","FaGooglePlay","ITCH_IO","FaItchIo","GameStores","bem","block","renderStoreName","name","stores","compact","join","store","StoreIcon","getIcon","url","GamePage","anyError","useParams","setReview","spentTime","setSpentTime","setUserStatus","userRate","setUserRate","setClearUI","strToFloat","toFixed","cleanStr","indexOf","document","backgroundImage","background","active","spinner","poster","developers","release_date","genres","platforms","hltb","playtime","metacritic","dangerouslySetInnerHTML","__html","overview","newData","_uniq","hltbToDatalist","disabled","getMovie","setMovieStatus","searchMovies","searchMoviesFast","getMovieUserInfo","Movie","movie","movieState","requestMovie","movieRequests","requestMovieSuccess","requestMovieFailure","setMovieStatusSuccess","setMovieStatusFailure","setMovieReview","setMovieReviewSuccess","setMovieReviewFailure","MovieStore","MoviePage","backdrop_path","poster_path","original_name","runtime","production_companies","tagline","cast","directors","showArrows","centerMode","centerSlidePercentage","showThumbs","showStatus","showIndicators","videos","video","index","controls","getShow","getShowSeason","showID","seasonNumber","getShowEpisode","episodeNumber","setShowStatus","setShowSeasonStatus","setShowEpisodesStatus","episodesList","searchShows","searchShowsFast","getShowUserInfo","getShowSeasonUserInfo","seasonID","getShowEpisodeUserInfo","episodeID","getUnwatchedEpisodes","Show","show","showState","showSeasons","showSeasonsState","showSeasonsUserInfo","showSeasonsUserInfoState","requestShow","showRequests","requestShowSuccess","requestShowFailure","requestSeason","requestSeasonSuccess","requestSeasonFailure","requestSeasons","requestSeasonsSuccess","requestSeasonsFailure","requestEpisode","requestEpisodeSuccess","requestEpisodeFailure","requestShowUserInfo","requestShowUserInfoSuccess","requestShowUserInfoFailure","requestSeasonUserInfo","requestSeasonUserInfoSuccess","requestSeasonUserInfoFailure","user_watched_show","episodes","episodes_user_info","requestSeasonsUserInfo","requestSeasonsUserInfoSuccess","requestSeasonsUserInfoFailure","requestEpisodeUserInfo","requestEpisodeUserInfoSuccess","requestEpisodeUserInfoFailure","setShowStatusSuccess","setShowStatusFailure","setShowReview","setShowReviewSuccess","setShowReviewFailure","setSeasonStatus","setSeasonReview","setEpisodesStatus","seasonsToUpdate","season","getShowSeasonState","getEpisodesUserInfo","episode","tmdb_id","ShowStore","DetailEpisodeRow","setEpisodeUserStatus","checkAll","userWatchedShow","isChecked","setIsChecked","checked","date","newDate","Date","toLocaleDateString","parseDate","air_date","season_number","episode_number","SeasonBlock","showSeason","computed","showSeasonState","showUserInfo","getEpisodeByID","open","reverse","SeasonsBlock","seasons","anySeasonLoading","sendAllEpisodes","currentValue","cbValue","getElementById","sendEpisodes","ShowPage","first_air_date","last_air_date","episode_run_time","seasons_count","episodes_count","SeasonPage","show_id","chartData","setChartData","tmdb_name","vote_average","Оценка","tmdb_backdrop_path","tmdb_original_name","outline","body","clientHeight","clientWidth","height","margin","top","right","left","bottom","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","interval","tick","fill","tickLine","domain","tickCount","contentStyle","color","backgroundColor","stroke","fillOpacity","layout","EpisodePage","still_path","getUserInfo","userID","searchUsers","is_following","getUserLog","resultsOnPage","filters","deleteUserLog","logType","logID","delete","getUserFriendsLog","getUserCalendar","getUserSettings","patchUserSettings","settings","Search","games","values","movies","shows","users","hints","gamesState","moviesState","showsState","usersState","searchHints","currentQuery","searchGamesHintsSuccess","searchMoviesHintsSuccess","searchShowsHintsSuccess","searchGamesSuccess","searchGamesFailure","isEnd","nextGames","nextGamesSuccess","nextGamesFailure","searchMoviesSuccess","searchMoviesFailure","results","total_pages","nextMovies","nextMoviesSuccess","nextMoviesFailure","searchShowsSuccess","searchShowsFailure","nextShows","nextShowsSuccess","nextShowsFailure","userRequests","searchUsersSuccess","searchUsersFailure","SearchStore","SearchCard","link","includes","tags","SearchCardsBlock","objects","object","GameCards","useMemo","reduce","newObjects","background_image","released","mas","split","previousValue","genre","slice","tag","platform","MovieCards","ShowCards","CardUser","FriendBlock","UserCards","CategoriesTab","categories","onChangeCategory","activeCategory","children","category","SearchPage","queryText","setQueryText","parentRef","useRef","childRef","callback","options","root","current","rootMargin","threshold","IntersectionObserver","isIntersecting","observe","unobserve","useScroll","fetchItems","setActiveCategory","onSubmit","placeholder","ref","ConfirmPage","search","URLSearchParams","ConfirmPasswordPage","setPassword","passwordConfirm","setPasswordConfirm","htmlFor","User","userLogs","userFriendsLogs","userState","userLogsState","userFriendsLogsState","setUserStatusState","requestUser","requestUserSuccess","requestUserFailure","requestUserLogs","requestLogsSuccess","requestLogsFailure","deleteUserLogSuccess","deleteUserLogFailure","newLogs","filter","requestUserFriendsLogs","requestFriendsLogsSuccess","requestFriendsLogsFailure","setUserStatusSuccess","setUserStatusFailure","is_followed","UserStore","SelectMulti","classNamePrefix","isMulti","ItemRow","fields","display","undefined","find","field","key","getWindowDimensions","innerWidth","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","ItemBlock","items","setQuery","pageSize","setPageSize","setPage","filteredItems","setFilteredItems","sort","setSort","statusFilters","setStatusFilters","collapse","setCollapse","item","toLowerCase","a","b","field1","field2","isAsc","obj","total","separator","filename","GameBlock","rawg_slug","rawg_name","rawg_backdrop_path","label","MovieBlock","LogRow","showUsername","onDeleteLog","created","toLocaleTimeString","hour","minute","action","actionResult","translateActionType","action_type","action_result","actionType","translateType","parent_name","nameToLink","target_id","actionResultToStr","UserLogs","logs","currentUser","logsByDay","setLogsByDay","i","getDate","getMonth","getFullYear","groupLogsByDay","dayLog","year","month","day","logsType","currentPage","setCurrentPage","setFilters","LogsByDay","count","ShowBlock","COLORS","ChartBlock","Процент","spent_time_percent","test","navigator","userAgent","tickMargin","itemStyle","borderRadius","cursor","entry","Math","angle","YearsChart","maxCount","setMaxCount","newMaxCount","array","Количество","allowDataOverflow","stats","total_spent_time","cx","cy","outerRadius","labelLine","minAngle","verticalAlign","horizontalAlign","StatisticsBlock","marginBottom","GenresChart","years","UserPage","isCurrentUser","useQueryParam","withDefault","StringParam","lastActivity","setLastActivity","last_activity","toLocaleString","is_available","marginRight","followed_users","CurrentUser","calendar","unwatched","calendarState","settingsState","unwatchedState","saveSettingsState","requestCalendar","requestCalendarSuccess","requestCalendarFailure","requestSettings","requestSettingsSuccess","requestSettingsFailure","requestUnwatched","requestUnwatchedSuccess","requestUnwatchedFailure","patchSettings","patchSettingsSuccess","patchSettingsFailure","patchSettingsReset","setTimeout","CurrentUserStore","DayInfo","weekday","rawg_id","tmdb_show","tmdb_season_number","tmdb_episode_number","ReleasesList","myStyle","border","getContentForDay","getIconForDay","remainedDays","days","now","diff","getTime","getUTCDay","parseInt","dateDiff","lineColor","icon","cardHeaderStyle","iconStyle","fontSize","bubbleStyle","marginTop","titleStyle","subtitleStyle","pad","formatDate","CalendarPage","currentDay","setCurrentDay","styles","calendarPage","pageHeader","defaultView","minDetail","locale","minDate","tileContent","view","calendarDay","calendarDayBody","calendarDayGames","calendarDayHidden","calendarDayMovies","calendarDayEpisodes","Object","entries","SettingsPage","gameNotifInput","setGameNotifInput","movieNotifInput","setMovieNotifInput","showNotifInput","setShowNotifInput","privacySelect","setPrivacySelect","success","receive_games_releases","receive_movies_releases","receive_episodes_releases","privacy","DetailedEpisodeRow","EpisodeRow","setShowEpisodeUserStatus","tmdb_release_date","getUserSeasonOpen","localData","onToggle","isOpen","class","UnwatchedPage","NotFoundPage","setAngle","requestAnimationFrame","transform","image","Button","RandomCard","winner","getLink","tmdb_poster_path","rawg_poster_path","categoriesEnum","RandomPage","setWinner","useForm","handleSubmit","formState","getRoulette","newItems","catch","onLoad","duration","distance","Routes","exact","path","component","React","Component","SearchInput","hint","rawg_release_date","substr","Navbar","toggleIfSmallScreen","Footer","tmdbLogo","Sidebar","toggleSidebarIfSmallScreen","collapsed","iconShape","Modal","toggle","LoginForm","setLogin","onPasswordRecovery","onRegistration","RegisterForm","setEmail","ResetPasswordForm","App","adapter","ReactRouter5Adapter","hideProgressBar","newestOnTop","closeOnClick","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","URL","process","fetch","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"oLAyCeA,IAnCf,SAAeC,GACX,MAA8BC,mBAAS,MAAK,mBAArCC,EAAO,KAAEC,EAAU,KAC1B,EAAgCF,oBAAS,GAAM,mBAAxCG,EAAS,KAAEC,EAAU,KAEtBC,EAAYC,sBAAW,gCAAC,mGACrBP,EAAMQ,MAAOJ,EAAS,iDAGV,OAAjBC,GAAW,GAAM,kBAEUI,IAClBC,IAAIV,EAAMQ,IAAK,CACZG,aAAc,cACdC,QAAQ,CACJC,OAAQ,uCAEb,KAAD,EANAC,EAAQ,OAQRC,EAASC,EAAOC,KAAKH,EAASI,KAAM,UAAUC,SAAS,UAE7DhB,EAAW,yBAAD,OAA0BY,IAAU,OAE5B,OAF4B,SAE9CV,GAAW,GAAO,yEAEvB,CAACL,EAAMQ,IAAKJ,IAMf,OAJAgB,qBAAU,WACNd,GACJ,GAAG,CAACN,EAAMQ,MAGN,+CAASR,GAAK,IAAEQ,IAAKN,EAASmB,IAAKrB,EAAMqB,MAEjD,C,oWCtCAC,EAAOC,QAAU,CAAC,aAAe,oCAAoC,WAAa,kCAAkC,YAAc,mCAAmC,gBAAkB,uCAAuC,iBAAmB,wCAAwC,kBAAoB,yCAAyC,oBAAsB,2CAA2C,kBAAoB,yC,w+BCC9ZC,EAAc,iCAEdC,EAAgBD,EAAc,oBAE9BE,EAAoBF,EAAc,4BAElCG,EAAiBH,EAAc,qBAE/BI,EAAcJ,EAAc,4BAE5BK,EAAqBL,EAAc,6BAEnCM,EAAuBN,EAAc,qCAErCO,EAAe,cAEfC,EAAmB,qBAEnBC,EAAwB,gBAExBC,EAAgB,gBAEhBC,EAAoB,sBAEpBC,EAAyB,iBAEzBC,EAAe,cAEfC,EAAmB,qBAEnBC,EAAwB,gBAExBC,EAA6B,iCAE7BC,EAAgB,cAEhBC,EAAoB,+BAEpBC,EAAmB,gBAEnBC,EAAoB,4BCjC1B,SAAeC,EAAS,EAAD,kCAY9B,aAFC,OAED,kCAZO,WAAwBC,EAAUC,GAAQ,qGAC9BtC,IAAMuC,KAAKC,EAAoB,CAChDH,SAAUA,EACVC,SAAUA,IACR,KAAD,EAGsF,OANlFG,EAAG,OAKLC,EAAWC,IAAWF,EAAIhC,KAAKmC,QAC/BC,EAAO,CAAER,SAAUK,EAASL,SAAUS,GAAIJ,EAASK,QAASC,MAAON,EAASM,OAAO,kBAEhF,CAAEC,MAAOR,EAAIhC,KAAKmC,OAAQM,aAAcT,EAAIhC,KAAK0C,QAASN,KAAMA,IAAM,4CAC7E,sBAKM,SAAeO,EAAY,GAAD,+BAMhC,sDANM,WAA2BF,GAAY,qGAC3BlD,IAAMuC,KAAKC,EAAwB,CAAEW,QAASD,IAAgB,KAAD,EAES,OAFlFT,EAAG,OACLC,EAAWC,IAAWF,EAAIhC,KAAKmC,QAC/BC,EAAO,CAAER,SAAUK,EAASL,SAAUS,GAAIJ,EAASK,QAASC,MAAON,EAASM,OAAO,kBAEhF,CAAEC,MAAOR,EAAIhC,KAAKmC,OAAQC,KAAMA,IAAM,4CAC7C,sBAEM,SAAeQ,EAAa,EAAD,oCASjC,sDATM,WAA4BhB,EAAUW,EAAOV,GAAQ,mGACzCtC,IAAMuC,KAAKC,EAAqB,CACjDH,SAAUA,EACVW,MAAOA,EACPV,SAAUA,IACR,KAAD,EAEuB,OANnBG,EAAG,QAKLhC,EAAOgC,EAAIhC,MACV6C,OAASb,EAAIa,OAAO,kBAClB7C,GAAI,4CACX,sBAEM,SAAe8C,EAAa,EAAD,kCAGjC,sDAHM,WAA4BC,EAAOP,GAAK,iGAC5BjD,IAAMyD,MAAMjB,EAAmB,UAAYgB,EAAQ,UAAYP,GAAO,KAAD,EAA9E,OAAHR,EAAG,yBACFA,GAAG,4CACV,sBAEM,SAAeiB,EAAc,GAAD,+BAGlC,sDAHM,WAA6BV,GAAK,iGACtBhD,IAAM2D,IAAInB,EAAyB,CAAEQ,MAAOA,IAAS,KAAD,EAA7D,OAAHP,EAAG,yBACFA,GAAG,4CACV,sBAEM,SAAemB,EAAgB,EAAD,mCAGpC,wDAHM,WAA+BX,EAAOX,GAAQ,iGAClCtC,IAAMyD,MAAMjB,EAA4B,gBAAkBS,EAAO,CAAEX,SAAUA,IAAY,KAAD,EAAjG,OAAHG,EAAG,yBACFA,GAAG,4CACV,sBCtD2C,IAqBtCoB,GAAI,WAaT,aAAe,IAAD,gCAZdC,UAAW,EAAM,KACjBjB,KAAqB,CACpBR,SAAU,GACVW,MAAO,GACPF,GAAI,MACH,KACFiB,UAAY,GAAG,KACfC,gBAAkB,GAAG,KACrBC,kBAAoB,GAAG,KACvBC,mBAAqB,GAAG,KACxBC,qBAAuB,GAAG,KAM1BC,QAAO,iDAAG,WAAOC,EAAe/B,GAAgB,2EAC/C,EAAKyB,UAAY,UACjBO,EAAcD,EAAO/B,GAAUiC,KAAK,EAAKC,YAAa,EAAKC,aAAa,2CACxE,qDAHM,GAGN,KACDD,YAAc,SAAC/B,GACdiC,aAAaC,QAAQ,eAAgBlC,EAAIS,cACzCwB,aAAaC,QAAQ,QAASlC,EAAIQ,OAClC,EAAKa,UAAW,EAChB,EAAKjB,KAAOJ,EAAII,KAChB,EAAKkB,UAAY,MAClB,EAAE,KACFU,YAAW,iDAAG,WAAOG,GAAU,2FACxB,EAAKC,qBAAqB,KAAD,EAC/B,EAAKd,UAAY,UAAYa,EAAMvE,SAASI,KAAKqE,OAAO,2CACxD,mDAHU,GAGV,KAEDD,mBAAkB,gCAAG,wFACpB,EAAKf,UAAW,EAChB,EAAKjB,KAAO,CAAER,SAAU,GAAIS,GAAI,KAAME,MAAO,IAC7C0B,aAAaK,WAAW,gBACxBL,aAAaK,WAAW,SAAS,2CACjC,KAEDC,SAAQ,iDAAG,WAAO3C,EAAkBW,EAAeV,GAAgB,2EAClE,EAAK0B,gBAAkB,UACvBM,EAAkBjC,EAAUW,EAAOV,GAAUiC,KAAK,EAAKU,gBAAiB,EAAKC,iBAAiB,2CAC9F,uDAHO,GAGP,KACDD,gBAAkB,SAACE,GAClB,EAAKtC,KAAO,CAAEwB,MAAOc,EAAO9C,SAAUW,MAAOmC,EAAOnC,OACpD,EAAKgB,gBAAkB,MACxB,EAAE,KACFkB,gBAAkB,SAACN,GAClB,IAAIQ,EAAS,GACb,IAAK,IAAMC,KAAUT,EAAMvE,SAASI,KACnC2E,GAAUR,EAAMvE,SAASI,KAAK4E,GAAU,KAEzC,EAAKrB,gBAAkB,UAAYoB,CACpC,EAAE,KAEFE,aAAY,iDAAG,WAAO9B,EAAeP,GAAa,2EACjD,EAAKgB,kBAAoB,UACzBK,EAAkBd,EAAOP,GAAOsB,KAAK,EAAKgB,oBAAqB,EAAKC,qBAAqB,2CACzF,qDAHW,GAGX,KACDD,oBAAsB,WACrB,EAAKtB,kBAAoB,MAC1B,EAAE,KACFuB,oBAAsB,SAACZ,GACtB,IAAIQ,EAAS,GACb,IAAK,IAAMC,KAAUT,EAAMvE,SAASI,KACnC2E,GAAUR,EAAMvE,SAASI,KAAK4E,GAAU,KAEzC,EAAKpB,kBAAoB,UAAYmB,CACtC,EAAE,KAEF1B,cAAa,iDAAG,WAAOV,GAAa,2EACnC,EAAKkB,mBAAqB,UAC1BI,EAAmBtB,GAAOuB,KAAK,EAAKkB,qBAAsB,EAAKC,sBAAsB,2CACrF,mDAHY,GAGZ,KACDD,qBAAuB,WACtB,EAAKvB,mBAAqB,MAC3B,EAAE,KACFwB,qBAAuB,SAACd,GACvB,EAAKV,mBAAqB,UAAYU,CACvC,EAAE,KAEFhB,gBAAe,iDAAG,WAAOX,EAAeX,GAAgB,2EACvD,EAAK6B,qBAAuB,GAC5BG,EAAqBrB,EAAOX,GAAUiC,KAAK,EAAKoB,uBAAwB,EAAKC,wBAAwB,2CACrG,qDAHc,GAGd,KACDD,uBAAyB,WACxB,EAAKxB,qBAAuB,MAC7B,EAAE,KACFyB,uBAAyB,SAAChB,GACzB,IAAIQ,EAAS,GACb,IAAK,IAAMC,KAAUT,EAAMvE,SAASI,KACnC2E,GAAUR,EAAMvE,SAASI,KAAK4E,GAAU,KAEzC,EAAKlB,qBAAuB,UAAYiB,CACzC,EAAE,KAKFS,UAAS,gCAAG,wFACX,EAAK9B,UAAY,UACjBO,EAAiBI,aAAaoB,QAAQ,iBAAiBvB,KAAK,EAAKwB,iBAAkB,EAAKC,kBAAkB,2CAC1G,KACDD,iBAAmB,SAACtD,GACnBiC,aAAaC,QAAQ,QAAY,OAAHlC,QAAG,IAAHA,OAAG,EAAHA,EAAKQ,OACnC,EAAKa,UAAW,EAChB,EAAKjB,KAAOJ,EAAII,KAChB,EAAKkB,UAAY,MAClB,EAAE,KACFiC,iBAAmB,WAClB,EAAKlC,UAAW,EAChB,EAAKjB,KAAO,CAAER,SAAU,GAAIS,GAAI,KAAME,MAAO,IAC7C0B,aAAaK,WAAW,SACxB,EAAKhB,UAAY,MAClB,EArGCkC,YAAmBC,KACpB,CAwGC,OAxGA,sCAsGD,WACC,OAAOA,KAAKrD,IACb,KAAC,EAvHQ,GA4HKsD,GAFG,IAAItC,GCjFPuC,GAFI,IAlDR,aAQV,aAAe,IAAD,gCAPdC,iBAAkB,EAAM,KACxBC,sBAAuB,EAAM,KAC7BC,yBAA0B,EAAM,KAChCC,yBAA0B,EAAM,KAChCC,iBAA8D,SAA3C/B,aAAaoB,QAAQ,kBAA6B,KACrEY,mBAAkE,SAA7ChC,aAAaoB,QAAQ,oBAA+B,KAMzEa,cAAa,gCAAG,wFACf,EAAKF,kBAAoB,EAAKA,iBACzB,EAAKA,mBAAkB,EAAKC,oBAAqB,GACtDhC,aAAaC,QAAQ,iBAAkBiC,KAAKC,UAAU,EAAKJ,mBAAmB,2CAC9E,KAEDK,gBAAe,gCAAG,wFACjB,EAAKJ,oBAAsB,EAAKA,mBAChChC,aAAaC,QAAQ,mBAAoBiC,KAAKC,UAAU,EAAKH,qBAAqB,2CAClF,KAEDK,cAAa,gCAAG,wFACf,EAAKV,iBAAkB,EAAK,2CAC5B,KAEDW,eAAc,gCAAG,wFAChB,EAAKX,iBAAkB,EAAM,2CAC7B,KAEDY,mBAAkB,gCAAG,wFACpB,EAAKX,sBAAuB,EAAK,2CACjC,KAEDY,oBAAmB,gCAAG,wFACrB,EAAKZ,sBAAuB,EAAM,2CAClC,KAEDa,sBAAqB,gCAAG,wFACvB,EAAKZ,yBAA0B,EAAK,2CACpC,KAEDa,uBAAsB,gCAAG,wFACxB,EAAKb,yBAA0B,EAAM,2CACrC,KAEDc,gBAAkB,SAAC/D,GAAe,OAAM,EAAKkD,wBAA0BlD,CAAM,EAtC5E2C,YAAmBC,KACpB,K,iBCpBcoB,GCQEC,aAAS,SAAChI,GAC1B,IAAIiI,EAAUC,cACN5E,EAAmBsD,GAAnBtD,KAAMiB,EAAaqC,GAAbrC,SACNiD,EAAkBX,GAAlBW,cAER,OACC,sBAAKW,UAAU,YAAW,SACzB,uBAAKA,UAAU,kBAAiB,UAC/B,qBAAIA,UAAU,oBAAmB,iIACjC,qBAAIA,UAAU,8BAA6B,oDAC3C,oBAAGA,UAAU,kBAAiB,qSAC9B,qBAAIA,UAAU,8BAA6B,gJAC3C,oBAAGA,UAAU,kBAAiB,kxBAC9B,qBAAGA,UAAU,kBAAiB,mBAC3B,IACF,oBACCA,UAAU,kBACVC,KAAM,UAAe,OAAJ9E,QAAI,IAAJA,OAAI,EAAJA,EAAMC,IACvB8E,QAAS,SAACC,GACTA,EAAEC,iBACGhE,EAGJ0D,EAAQO,KAAK,UAAe,OAAJlF,QAAI,IAAJA,OAAI,EAAJA,EAAMC,KAF9BiE,GAIF,EAAE,wDAEE,IAAG,8bAGT,qBAAGW,UAAU,kBAAiB,yDACnB,IACV,oBAAGA,UAAU,kBAAkBC,KAAK,kBAAiB,kDAEhD,IAAG,6PAGT,qBAAGD,UAAU,kBAAiB,mBAC3B,IACF,oBAAGA,UAAU,kBAAkBC,KAAM,aAAa,oEAE7C,IAAG,miBACsG,IAC9G,oBAAGD,UAAU,kBAAkBC,KAAM,aAAa,6EAInD,qBAAGD,UAAU,kBAAiB,iDACtB,IACP,oBAAGA,UAAU,kBAAkBC,KAAM,cAAc,wGAE9C,IAAG,+WAGT,qBAAID,UAAU,8BAA6B,qJAC3C,oBAAGA,UAAU,kBAAiB,g6BAG9B,oBAAGA,UAAU,kBAAiB,oyCAI9B,qBAAIA,UAAU,8BAA6B,kNAC3C,oBAAGA,UAAU,kBAAiB,gmBAC9B,oBAAGA,UAAU,kBAAiB,yeAIlC,I,iDC3EMM,GAAMhI,IAAMiI,OAAO,CACxBC,QAASnH,IAGViH,GAAIG,aAAaC,QAAQC,KAAI,SAACC,GAC7B,IAAMrF,EAAQyB,aAAaoB,QAAQ,SAOnC,OANI7C,IACHqF,EAAOnI,QAAQoI,cAAa,iBAAatF,IAErCqF,EAAOnI,QAAQ,kBACnBmI,EAAOnI,QAAQ,gBAAkB,oBAE3BmI,CACR,IAEAN,GAAIG,aAAa9H,SAASgI,KACzB,SAACC,GACA,OAAOA,CACR,GAAC,iDACD,WAAO1D,GAAK,mFAC0B,GAA/B4D,EAAkB5D,EAAM0D,OACA,MAA1B1D,EAAMvE,SAASiD,SAAkBsB,EAAM0D,QAAW1D,EAAM0D,OAAOG,SAAQ,iBAC1C,OAAhCD,EAAgBC,UAAW,EAAK,kBAERzI,IAAMuC,KAAKtB,EAAmB,CACpDkC,QAASuB,aAAaoB,QAAQ,kBAC5B,KAAD,EACkD,OAH9CzF,EAAQ,OAGdqE,aAAaC,QAAQ,QAAStE,EAASI,KAAKmC,QAAQ,kBAC7CoF,GAAII,QAAQI,IAAgB,kCAEnCE,QAAQC,IAAI,mFAAkB,cAG1B/D,EAAM,KAAD,qDACX,mDAhBA,IAmBaoD,UC7BR,SAAeY,GAAQ,GAAD,gCAK7B,cAFC,OAED,mCALO,WAAuB9F,GAAU,iGACrBkF,GAAI/H,IAAIqB,EAAewB,EAAK,KAAK,KAAD,EAAzC,OAAHL,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAeoI,GAAc,EAAD,mCAKnC,cAFC,OAED,mCALO,WAA6BC,EAAkBC,GAAc,iGACjDf,GAAIrE,IAAIrC,EAAewH,EAAW,IAAKC,GAAW,KAAD,EAA1D,OAAHtG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAeuI,GAAY,EAAD,qCAKjC,cAFC,OAED,mCALO,WAA2BC,EAAeC,EAAcC,GAAkB,iGAC9DnB,GAAI/H,IAAIsB,EAAkB,CAAE6H,OAAQ,CAAEH,MAAOA,EAAOC,KAAMA,EAAMG,UAAWF,KAAgB,KAAD,EAAnG,OAAH1G,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAe6I,GAAgB,GAAD,gCAKrC,cAFC,OAED,mCALO,WAA+BL,GAAa,iGAChCjB,GAAI/H,IAAIuB,EAAuB,CAAE4H,OAAQ,CAAEH,MAAOA,KAAW,KAAD,EAArE,OAAHxG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAe8I,GAAgB,GAAD,gCAGpC,wDAHM,WAA+BC,GAAY,iGAC/BxB,GAAI/H,IAAIqB,EAAekI,EAAO,eAAe,KAAD,EAArD,OAAH/G,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAlDDuH,GAAIyB,SAAStJ,QAAQuJ,OAAS,CAC7B,eAAgB,kCCDsB,IA0BjCC,GAAI,WAWT,aAAe,IAAD,gCAVdC,KAAc,CAACJ,KAAM,IAAI,KACzBK,UAAY,OAAO,KAEnBC,SAAW,CAAExG,OAAQ,GAAIyG,OAAQ,GAAIC,MAAO,EAAGC,WAAY,GAAI,KAC/DC,YAAc,GAAG,KACjBC,cAAgB,OAAO,KAEvBC,eAAiB,OAAO,KACxBC,oBAAc,OAMdC,YAAW,iDAAG,WAAOxH,GAAU,2EAC9B,EAAK+G,UAAY,UACjBU,GAAqBzH,GAAIyB,KAAK,EAAKiG,mBAAoB,EAAKC,oBAAoB,2CAChF,mDAHU,GAGV,KACDD,mBAAqB,SAACrF,GACrB,EAAKyE,KAAOzE,EACZ,EAAK0E,UAAY,MAClB,EAAE,KACFY,mBAAqB,SAAC7F,GACrB,EAAKiF,UAAY,UAAYjF,EAAMvE,SAASqK,UAC7C,EAAE,KAEFC,gBAAe,iDAAG,WAAOnB,GAAY,2EACpC,EAAKW,cAAgB,UACrBI,GAA6Bf,GAAMjF,KAAK,EAAKqG,uBAAwB,EAAKC,wBAAwB,2CAClG,mDAHc,GAGd,KACDD,uBAAyB,SAACzF,GACzB,EAAK2E,SAAW3E,EAAO4D,UACvB,EAAKmB,YAAc/E,EAAO2F,aAC1B,EAAKX,cAAgB,MACtB,EAAE,KACFU,uBAAyB,SAACjG,GACzB,EAAKuF,cAAgB,UAAYvF,CAClC,EAAE,KAEFiE,cAAa,iDAAG,WAAOiB,GAAuB,2EAC7C,EAAKM,eAAiB,UACtBG,GAA2B,EAAKX,KAAKJ,KAAMM,GAAUvF,KAAK,EAAKwG,qBAAsB,EAAKC,sBAAsB,2CAChH,mDAHY,GAGZ,KACDD,qBAAuB,WACtB,EAAKX,eAAiB,MACvB,EAAE,KACFY,qBAAuB,SAACpG,GACvB,EAAKwF,eAAiB,UAAYxF,CACnC,EAAE,KAEFqG,cAAa,iDAAG,WAAOnB,GAAuB,2EAC7C,EAAKM,eAAiB,gBACtB,EAAKC,eAAiBa,YAAM,2FAAsB,CAAEC,WAAW,EAAOC,KAAMF,IAAMG,KAAKC,KAAMC,SAAU,kBACvGhB,GAA2B,EAAKX,KAAKJ,KAAMM,GAAUvF,KAAK,EAAKiH,qBAAsB,EAAKC,sBAAsB,2CAChH,mDAJY,GAIZ,KACDD,qBAAuB,WACtBN,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,mFAAmBP,KAAMF,IAAMG,KAAKO,QAAST,UAAW,MACpG,EAAKf,eAAiB,MACvB,EAAE,KACFqB,qBAAuB,SAAC7G,GACvBsG,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,0IAA6BP,KAAMF,IAAMG,KAAKQ,MAAOV,UAAW,MAC5G,EAAKf,eAAiB,UAAYxF,CACnC,EAnDCqB,YAAmBC,KACpB,CAwDC,OAxDA,mCAoDD,WACC,OAAIA,KAAK2D,UAAUiC,WAAW,UAAkB5F,KAAK2D,UACjD3D,KAAKiE,cAAc2B,WAAW,UAAkB5F,KAAKiE,cAClD,IACR,KAAC,EArEQ,GA0EK4B,GAFG,IAAIpC,G,0BChFPqC,ICnBAA,GDEf,SAA2B,GAAsD,IAApDC,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAAgBC,EAAU,EAAVA,WAAYzE,EAAS,EAATA,UAClE,OACC,sBAAKA,UAAW0E,KAAW,mBAAoB1E,GAAW,SACxDuE,EAASI,KAAI,SAAC/I,EAAQgJ,GAAO,OAC7B,yBACC5E,UAAW0E,KAAW,mCAAoCD,IAAe7I,EAAS,0CAA4C,IAE9HsE,QAAS,WACRsE,EAAe5I,EAChB,EAAE,SACDA,GAJIA,EAKG,KAIb,E,mBEOeiJ,ICxBAC,GDEf,SAAqB,GAA4D,IAA1DC,EAAa,EAAbA,cAAeC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAUjF,EAAS,EAATA,UAAWkF,EAAO,EAAPA,QACpE,OACC,eAAC,KAAM,CACNC,MAAOD,GAAW,EAAI,EACtBE,KAAM,GACNC,aAAcH,EAAU,CAAC,eAAC,KAAU,KAAO,IAAII,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAIX,KAAI,SAACY,GAAC,OAAK,eAAC,KAAS,CAACC,MAAOD,GAAK,KACxHE,YAAaP,EAAU,CAAC,eAAC,KAAK,KAAO,IAAII,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAIX,KAAI,SAACY,GAAC,OAAK,eAAC,KAAM,CAACC,MAAOD,GAAK,KAC/GR,cAAeA,EACfC,SAAUA,EACV9E,QAAS,SAACwF,GAERT,EADGS,IAAUX,EACJW,EAEA,EAEX,EACA1F,UAAWA,EACX2F,OAAK,GAGR,E,OEWA,SAASC,GAAWC,GACnB,OAAI,IAAMA,GAAUA,GAAU,GAAW,iCAChCA,EAAS,KAAO,EAAU,qBAC1B,GAAKA,EAAS,IAAMA,EAAS,IAAM,EAAU,2BAC1C,gCACb,CAEeC,ICxCAA,GDIf,SAAwB,GAAsB,IAApBC,EAAI,EAAJA,KAAM/F,EAAS,EAATA,UAC3BF,EAAUC,cAEd,OACC,uBAAKC,UAAW0E,KAAW,kBAAmB1E,GAAW,UACxD,qBAAIA,UAAU,wBAAuB,SACpC,oBACCC,KAAM+F,OAAOC,SAASC,OAAS,SAAWH,EAAK5K,KAAKC,GACpD8E,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW0F,EAAK5K,KAAKC,IAClC+E,EAAEC,gBACH,EAAE,SACD2F,EAAK5K,KAAKR,aAGb,uBAAKqF,UAAU,wBAAuB,UACrC,eAAC,GAAM,CAAC+E,cAAegB,EAAKzD,MAAOtC,UAAU,6BAA6BgF,UAAU,IACpF,qBAAGhF,UAAU,6BAA4B,mDAAU+F,EAAKnK,OAAM,OAC9D,qBAAGoE,UAAU,6BAA6BmG,QAASJ,EAAKxD,WAAW,0GAC/CwD,EAAKxD,WAAU,IAAGqD,GAAWG,EAAKxD,eAEtD,qBAAGvC,UAAU,6BAA6BmG,OAAwB,KAAhBJ,EAAK1D,OAAc,6CAC5D0D,EAAK1D,eAKlB,EEpBe+D,ICXAA,GDCf,SAAyB,GAAW,IAATL,EAAI,EAAJA,KAC1B,OACC,sBAAK/F,UAAU,mBAAkB,SAC3B,OAAJ+F,QAAI,IAAJA,OAAI,EAAJA,EAAMpB,KAAI,SAAC0B,GAAU,OACrB,eAAC,GAAc,CAACN,KAAMM,EAAqCrG,UAAU,6BAA9BqG,EAAWlL,KAAKC,GAA4C,KAIvG,E,wBEyBekL,IClCAA,GDEf,SAAoB,GAAe,IAAbC,EAAQ,EAARA,SAErB,OADAvF,QAAQC,IAAI,gBAAIsF,IAEdA,IAES,OAARA,QAAQ,IAARA,KAAUC,eACC,OAARD,QAAQ,IAARA,KAAUE,qBACF,OAARF,QAAQ,IAARA,KAAUG,wBAOf,uBAAK1G,UAAU,eAAemG,QAASI,GAAyB,qCAAbA,IAAmC,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUC,eAAgB,IAAa,OAARD,QAAQ,IAARA,OAAQ,EAARA,EAAUE,qBAAsB,IAAa,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUG,wBAAyB,EAAG,UACvL,oBAAG1G,UAAU,wBAAuB,iHACpC,uBAAKmG,QAAqC,KAArB,OAARI,QAAQ,IAARA,OAAQ,EAARA,EAAUC,eAAsBxG,UAAU,wBAAuB,UAC7E,eAAC,KAAY,CAACA,UAAU,8CAA8CwF,MAAO,8EACpE,OAARe,QAAQ,IAARA,OAAQ,EAARA,EAAUC,cAAa,IAAW,OAARD,QAAQ,IAARA,OAAQ,EAARA,EAAUI,sBAEtC,uBAAKR,QAA2C,KAA3B,OAARI,QAAQ,IAARA,OAAQ,EAARA,EAAUE,qBAA4BzG,UAAU,wBAAuB,UACnF,eAAC,KAAY,CAACA,UAAU,+CAA+CwF,MAAO,4KACrE,OAARe,QAAQ,IAARA,OAAQ,EAARA,EAAUE,oBAAmB,IAAW,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUK,4BAE5C,uBAAKT,QAASI,IAAkD,KAA9B,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUG,wBAA+B1G,UAAU,wBAAuB,UACnG,eAAC,KAAY,CAACA,UAAU,4CAA4CwF,MAAO,4GAClE,OAARe,QAAQ,IAARA,OAAQ,EAARA,EAAUG,uBAAsB,IAAW,OAARH,QAAQ,IAARA,OAAQ,EAARA,EAAUM,kCAhBzC,IAoBT,E,OEFeC,IC9BAA,GDEf,SAAoB,GAA6B,IAA3BxE,EAAK,EAALA,MAAOyE,EAAI,EAAJA,KAAM/G,EAAS,EAATA,UAclC,OAAKsC,EAKJ,uBAAK6D,QAAS7D,EAAOtC,UAAW0E,KAAW,cAAe1E,GAAW,UACpE,sBAAKA,UAAW0E,KAAW,oBAAqB,qBAnBlD,SAAkBpC,GACjB,QAAQ,GACP,KAAKA,GAAS,GACb,MAAO,QACR,KAAKA,GAAS,IAAMA,EAAQ,GAC3B,MAAO,SACR,KAAKA,EAAQ,GACZ,MAAO,MACR,QACC,MAAO,QAEV,CAQyE0E,CAAS1E,IAAQ,SACvF,6BAAIA,MAEL,oBAAGtC,UAAU,oBAAmB,SAAE+G,OAR5B,IAWT,E,OEiBeE,IC7CAA,GDEf,SAAqB,GAAqD,IAAnDvB,EAAK,EAALA,MAAOwB,EAAG,EAAHA,IAAKC,EAAG,EAAHA,IAAKlC,EAAQ,EAARA,SAAUjF,EAAS,EAATA,UAAWoH,EAAQ,EAARA,SAC5D,OACC,uBAAKpH,UAAW0E,KAAW,eAAgB1E,GAAW,UACrD,yBACCA,UAAU,sBACVE,QAAS,aACHiH,GAAOE,WAAW3B,GAASyB,EAAM,IAAGlC,EAASoC,WAAW3B,GAAS,EACvE,EAAE,eAGH,wBACChC,KAAK,SACLgC,MAAOA,EACPwB,IAAKA,GAAY,GACjBC,IAAKA,GAAY,GACjBlC,SAAU,SAACqC,KACJH,GAAOG,EAAMC,OAAO7B,MAAQyB,MAAUD,GAAOI,EAAMC,OAAO7B,MAAQwB,IAAMjC,EAASoC,WAAWC,EAAMC,OAAO7B,OAChH,EACA1F,UAAU,sBACVwH,MAAO,CAACC,MAAM,GAAD,OAA+B,GAA1B/B,EAAM1M,WAAW0O,OAAW,SAE/C,yBACC1H,UAAU,qBACVE,QAAS,aACHgH,GAAOxB,EAAQwB,EAAM,IAAGjC,EAASoC,WAAW3B,GAAS,EAC3D,EAAE,eAIF0B,EAASM,OAAS,GACjB,sBAAK1H,UAAU,sBAAqB,SAC1B,OAARoH,QAAQ,IAARA,OAAQ,EAARA,EAAUzC,KAAI,SAAC5L,EAAM6L,GAAO,OAC5B,sBAAmB1E,QAAS,kBAAM+E,EAASoC,WAAWtO,GAAM,EAAEiH,UAAU,qBAAoB,SAC1FjH,GADQ6L,EAEJ,QAOb,E,wDEzCa+C,GAAc,4CA8CtB,OA9CsB,yCAqBvB,SAAevM,GACX,OAAQA,GACJ,KAAKoD,KAAKoJ,MACN,OAAOC,KACX,KAAKrJ,KAAKsJ,SACN,OAAOC,KACX,KAAKvJ,KAAKwJ,IACN,OAAOC,KACX,KAAKzJ,KAAK0J,MACN,OAAOC,KACX,KAAK3J,KAAK4J,KACN,OAAOC,KACX,KAAK7J,KAAK8J,IACN,OAAOC,KACX,KAAK/J,KAAKgK,QACN,OAAOC,KACX,KAAKjK,KAAKkK,SACN,OAAOC,KACX,KAAKnK,KAAKoK,YACN,OAAOC,KACX,KAAKrK,KAAKsK,QACN,OAAOC,KACX,QACI,OAAO,KAEnB,KAAC,EA9CsB,GAAdpB,GACFC,MAAQ,QADND,GAGFG,SAAW,oBAHTH,GAKFK,IAAM,aALJL,GAOFO,MAAQ,WAPNP,GASFS,KAAO,aATLT,GAWFa,QAAU,UAXRb,GAaFW,IAAM,MAbJX,GAeFe,SAAW,iBAfTf,GAiBFiB,YAAc,cAjBZjB,GAmBFmB,QAAU,OC+BNE,ICpDAA,GDUf,SAAoBnR,GAA0B,IAAD,EACnCoR,EAAMC,iBAAM,cAEZC,EAAkB,SAACtR,GAAqB,OAC1C,gCACKA,EAAMuR,MACJ,EAoBX,OAAKvR,EAAMwR,QAAYxR,EAAMwR,OAAO3B,OAAS,EAKzC,uBAAK1H,UAAWsJ,mBAAQ,CAACL,IAAOpR,EAAMmI,YAAYuJ,KAAK,KAAK,UACxD,oBAAGvJ,UAAWiJ,EAAI,SAAS,+DAIX,QAFZ,EAEApR,EAAMwR,cAAM,aAAZ,EAAc1E,KA3BN,SAAC6E,GACjB,IAAMC,EAAY9B,GAAe+B,QAAQF,EAAMA,MAAM1H,OAASqH,EAC9D,OACI,oBACIlJ,KAAMuJ,EAAMG,IACZ3J,UAAWiJ,EAAI,cACfzD,MAAOgE,EAAMA,MAAMJ,KACnB7B,OAAO,SAAQ,SAEf,eAACkC,EAAS,CACNzJ,UAAWiJ,EAAI,cACfG,KAAMI,EAAMA,MAAMJ,QAIlC,OAGW,IAaf,EElDeQ,GCqBE/J,aAAS,SAAChI,GAC1B,IAAQqK,EAAgImC,GAAhInC,KAAMC,EAA0HkC,GAA1HlC,UAAWS,EAA+GyB,GAA/GzB,YAAazB,EAAkGkD,GAAlGlD,cAAeoC,EAAmFc,GAAnFd,cAAenB,EAAoEiC,GAApEjC,SAAUI,EAA0D6B,GAA1D7B,YAAaC,EAA6C4B,GAA7C5B,cAAeQ,EAA8BoB,GAA9BpB,gBAAiB4G,EAAaxF,GAAbwF,SACnHzN,EAAaqC,GAAbrC,SACAiD,EAAkBX,GAAlBW,cAEFjE,EAAO0O,cAAP1O,GACN,EAA4BtD,mBAAS,IAAG,oBAAjCuK,EAAM,KAAE0H,EAAS,KACxB,EAAkCjS,mBAAS,IAAG,oBAAvCkS,EAAS,KAAEC,EAAY,KAC9B,EAAoCnS,mBAAS,+CAAW,oBAAjD2M,EAAU,KAAEyF,EAAa,KAChC,EAAgCpS,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KA6C5B,SAASC,IACRN,EAAU,IACVE,EAAa,IACbC,EAAc,+CACdE,EAAY,EACb,CAEA,SAASE,EAAWvD,GACnB,GAAoB,kBAATA,EACV,OAAOA,EAAKwD,QAAQ,GAErB,IAAIC,EAAWzD,EACf,OAAIyD,IAA0B,IAAdA,EACXA,EAASC,QAAQ,QAAO,EACpBpD,WAAWmD,GAAY,GAEvBnD,WAAWmD,GAAUD,QAAQ,QAJtC,CAOD,CAoBA,OAlFAtR,qBACC,WACCoR,IACAzH,EAAYxH,EACb,GAEA,CAACA,EAAIwH,IAGN3J,qBACC,WACKmD,EAAU6G,EAAgB7H,GAE7BiP,GAEF,GAEA,CAACjP,EAAIgB,IAGNnD,qBAAU,WACTyR,SAASlF,OAAY,OAAJtD,QAAI,IAAJA,OAAI,EAAJA,EAAMkH,OAAQ,WAChC,GAAG,CAAClH,IAEJjJ,qBACC,WACa,OAARmJ,QAAQ,IAARA,KAAUxG,QACbmO,EAAU3H,EAASC,QACnB4H,EAAa7H,EAASG,YACtB2H,EAAc9H,EAASxG,QACvBwO,EAAYhI,EAASE,QAErB+H,GAEF,GAEA,CAACjI,IAGFnJ,qBAAU,WACL4Q,GAAUrG,IAAMtG,MAAM2M,EAC3B,GAAG,CAACA,IA0CH,uBAAK7J,UAAU,YAAW,UACzB,sBAAKwH,MAAO,CAAEmD,gBAAgB,OAAD,OAASzI,EAAK0I,WAAU,MAAO5K,UAAU,0BACtE,eAAC,KAAc,CAAC6K,OAAsB,YAAd1I,EAAyB2I,SAAO,EAAC/D,KAAK,sDAAa,SAC1E,uBAAK/G,UAAU,kBAAiB,UAC/B,uBAAKA,UAAU,oBAAmB,UACjC,sBAAKA,UAAU,oBAAmB,SACjC,sBAAK3H,IAAK6J,EAAK6I,OAAQ/K,UAAU,YAAY9G,IAAI,OAElD,uBAAK8G,UAAU,kBAAiB,UAC/B,qBAAIA,UAAU,yBAAwB,SAAEkC,EAAKkH,OAC7C,uBAAKpJ,UAAU,uBAAsB,UACpC,4GAAkBkC,EAAK8I,cACvB,iGAAiB9I,EAAK+I,gBACtB,4DAAU/I,EAAKgJ,UACf,0FAAehJ,EAAKiJ,aACpB,eAAC,GAAU,CAAC5E,SAAUrE,EAAKkJ,MAAQlJ,EAAKmJ,WACxC,eAAC,GAAU,CAAChC,OAAQnH,EAAKmH,YAE1B,gBAAC,KAAc,CAACwB,OAA0B,YAAlBpI,GAA6C,YAAdN,EAAyB2I,SAAO,EAAC/D,KAAK,sDAAa,UACzG,eAAC,GAAM,CACNhC,cAAeoF,EACfnF,UAAW5I,EAA2B,gDAAfqI,EACvBQ,SAAU,SAAC3C,GACV8H,EAAY9H,GACZnB,EAAc,CAAEmB,MAAOA,GACxB,EACAtC,UAAU,sBAEX,eAAC,GAAiB,CACjBuE,SAAU,CAAC,8CAAY,gEAAe,iCAAS,6CAAW,wCAC1DvE,UAAU,2BACVyE,WAAYA,EACZD,eAAgB,SAAC5I,GACXQ,GAGJ8N,EAActO,GACduF,EAAc,CAAEvF,OAAQA,IACT,gDAAXA,IACHmO,EAAU,IACVK,EAAY,KANb/K,GASF,OAGF,eAAC,GAAU,CACViD,MAAOJ,EAAKoJ,WACZvE,KAAK,YACL/G,UAAU,gCAIb,uBAAKA,UAAU,sBAAqB,UACnC,iCAEC,qBAAIA,UAAU,6BAA4B,8DAC1C,sBAAKuL,wBAAyB,CAAEC,OAAQtJ,EAAKuJ,eAE9C,qBAAIzL,UAAU,2BAA0B,4CACxC,eAAC,KAAc,CAAC6K,OAA0B,YAAlBpI,GAA6C,YAAdN,EAAyB2I,SAAO,EAAC/D,KAAK,sDAAa,SACzG,uBAAK/G,UAAU,yBAAyBmG,QAAS/J,EAAS,UACzD,uBAAK4D,UAAU,oBAAmB,8DAEjC,2BAAU0D,KAAK,WAAW1D,UAAU,0BAA0B0F,MAAOrD,EAAQ4C,SAAU,SAACqC,GAAK,OAAKyC,EAAUzC,EAAMC,OAAO7B,MAAM,OAGhI,uBAAK1F,UAAU,yBAAwB,yIAEtC,eAAC,GAAW,CACXA,UAAU,wBACV0F,MAAOsE,EACP7C,IAAK,EACLD,IAAK,IACLjC,SAAU,SAACS,GAAK,OAAKuE,EAAavE,EAAM,EACxC0B,SA9FT,SAAwBb,GACvB,IAAImF,EAAU,GAcd,OAbOnF,GAAyB,qCAAbA,IAAuD,KAArB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUC,iBAC9B,kBAAbD,EACVmF,EAAQrL,KAAKiK,EAAW/D,IAExBmF,EAAQrL,KAAKiK,EAAmB,OAAR/D,QAAQ,IAARA,OAAQ,EAARA,EAAUC,kBAGG,KAA3B,OAARD,QAAQ,IAARA,OAAQ,EAARA,EAAUE,sBACbiF,EAAQrL,KAAKiK,EAAmB,OAAR/D,QAAQ,IAARA,OAAQ,EAARA,EAAUE,uBAEO,KAA9B,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUG,yBACbgF,EAAQrL,KAAKiK,EAAmB,OAAR/D,QAAQ,IAARA,OAAQ,EAARA,EAAUG,yBAE5BiF,KAAMD,EACd,CA8EmBE,CAAe1J,EAAKkJ,WAGhC,yBACCpL,UAAU,gCACV6L,UAAWzP,EAA2B,gDAAfqI,EACvBvE,QAAS,WACH9D,EAGJmH,EAAc,CAAElB,OAAQA,EAAQE,WAAYyH,IAF5C3K,GAIF,EAAE,yEAKL,uBAAKW,UAAU,qBAAqBmG,QAAS/J,GAAuB,OAAXoG,QAAW,IAAXA,OAAW,EAAXA,EAAakF,QAAS,EAAG,UACjF,4GACA,eAAC,GAAe,CAAC3B,KAAMvD,iBAO9B,I,+BCnNO,SAAesJ,GAAS,GAAD,gCAK9B,cAFC,OAED,mCALO,WAAwB1Q,GAAE,iGACdkF,GAAI/H,IAAIwB,EAAgBqB,EAAK,KAAK,KAAD,EAA1C,OAAHL,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAegT,GAAe,EAAD,mCAKpC,cAFC,OAED,mCALO,WAA8B3Q,EAAIiG,GAAS,iGAC/Bf,GAAIrE,IAAIlC,EAAgBqB,EAAK,IAAKiG,GAAW,KAAD,EAArD,OAAHtG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAeiT,GAAa,EAAD,mCAKlC,cAFC,OAED,mCALO,WAA4BzK,EAAOC,GAAI,iGAC3BlB,GAAI/H,IAAIyB,EAAmB,CAAE0H,OAAQ,CAAEH,MAAOA,EAAOC,KAAMA,KAAU,KAAD,EAA7E,OAAHzG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAekT,GAAiB,GAAD,gCAKtC,cAFC,OAED,mCALO,WAAgC1K,GAAK,iGACzBjB,GAAI/H,IAAI0B,EAAwB,CAAEyH,OAAQ,CAAEH,MAAOA,KAAW,KAAD,EAAtE,OAAHxG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAemT,GAAiB,GAAD,gCAGrC,wDAHM,WAAgC9Q,GAAE,iGACtBkF,GAAI/H,IAAIwB,EAAgBqB,EAAK,eAAe,KAAD,EAApD,OAAHL,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBC7CsC,IA0BjCoT,GAAK,WAWV,aAAe,IAAD,gCAVdC,WAAK,OACLC,WAAa,OAAO,KAEpBjK,cAAQ,OACRI,YAAc,GAAG,KACjBC,cAAgB,OAAO,KAEvBC,eAAiB,OAAO,KACxBC,oBAAc,OAMd2J,aAAY,iDAAG,WAAOlR,GAAU,2EAC/B,EAAKiR,WAAa,UAClBE,GAAuBnR,GAAIyB,KAAK,EAAK2P,oBAAqB,EAAKC,qBAAqB,2CACpF,mDAHW,GAGX,KACDD,oBAAsB,SAAC/O,GACtB,EAAK2O,MAAQ3O,EACb,EAAK4O,WAAa,MACnB,EAAE,KACFI,oBAAsB,SAACvP,GACtB,EAAKmP,WAAa,UAAYnP,CAC/B,EAAE,KAEF+F,gBAAe,iDAAG,WAAO7H,GAAU,2EAClC,EAAKqH,cAAgB,UACrB8J,GAA+BnR,GAAIyB,KAAK,EAAKqG,uBAAwB,EAAKC,wBAAwB,2CAClG,mDAHc,GAGd,KACDD,uBAAyB,SAACzF,GACzB,EAAK2E,SAAW3E,EAAO4D,UACvB,EAAKmB,YAAc/E,EAAO2F,aAC1B,EAAKX,cAAgB,MACtB,EAAE,KACFU,uBAAyB,SAACjG,GACzB,EAAKuF,cAAgB,UAAYvF,CAClC,EAAE,KAEF6O,eAAc,iDAAG,WAAO3J,GAAwB,iFAC/C,EAAKM,eAAiB,UACtB6J,GAAuC,QAAX,EAAC,EAAKH,aAAK,aAAV,EAAYhR,GAAIgH,GAAUvF,KAAK,EAAK6P,sBAAuB,EAAKC,uBAAuB,2CACpH,mDAHa,GAGb,KACDD,sBAAwB,WACvB,EAAKhK,eAAiB,MACvB,EAAE,KACFiK,sBAAwB,SAACzP,GACxB,EAAKwF,eAAiB,UAAYxF,CACnC,EAAE,KAEF0P,eAAc,iDAAG,WAAOxK,GAAwB,iFAC/C,EAAKM,eAAiB,gBACtB,EAAKC,eAAiBa,YAAM,2FAAsB,CAAEC,WAAW,EAAOC,KAAMF,IAAMG,KAAKC,KAAMC,SAAU,kBACvG0I,GAAuC,QAAX,EAAC,EAAKH,aAAK,aAAV,EAAYhR,GAAIgH,GAAUvF,KAAK,EAAKgQ,sBAAuB,EAAKC,uBAAuB,2CACpH,mDAJa,GAIb,KACDD,sBAAwB,WACvBrJ,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,mFAAmBP,KAAMF,IAAMG,KAAKO,QAAST,UAAW,MACpG,EAAKf,eAAiB,MACvB,EAAE,KACFoK,sBAAwB,SAAC5P,GACxBsG,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,0IAA6BP,KAAMF,IAAMG,KAAKQ,MAAOV,UAAW,MAC5G,EAAKf,eAAiB,UAAYxF,CACnC,EAnDCqB,YAAmBC,KACpB,CAwDC,OAxDA,mCAoDD,WACC,OAAIA,KAAK6N,WAAWjI,WAAW,UAAkB5F,KAAK6N,WAClD7N,KAAKiE,cAAc2B,WAAW,UAAkB5F,KAAKiE,cAClD,IACR,KAAC,EArES,GA0EIsK,GAFI,IAAIZ,GCnGRvU,I,qBAAK,GCALoV,GCqBGnN,aAAS,SAAChI,GAAW,IAAD,EAC7BuU,EAAqIW,GAArIX,MAAOC,EAA8HU,GAA9HV,WAAYC,EAAkHS,GAAlHT,aAAcP,EAAoGgB,GAApGhB,eAAgBa,EAAoFG,GAApFH,eAAgBxK,EAAoE2K,GAApE3K,SAAUI,EAA0DuK,GAA1DvK,YAAaC,EAA6CsK,GAA7CtK,cAAeQ,EAA8B8J,GAA9B9J,gBAAiB4G,EAAakD,GAAblD,SACxHzN,EAAaqC,GAAbrC,SACAiD,EAAkBX,GAAlBW,cAEFjE,EAAO0O,cAAP1O,GACN,EAA4BtD,mBAAS,IAAG,oBAAjCuK,EAAM,KAAE0H,EAAS,KACxB,EAAoCjS,mBAAS,2DAAa,oBAAnD2M,EAAU,KAAEyF,EAAa,KAChC,EAAgCpS,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KAE5BnR,qBACC,WACC8Q,EAAU,IACVG,EAAc,2DACdE,EAAY,GACZkC,EAAalR,EACd,GAEA,CAACA,EAAIkR,IAGNrT,qBACC,WACKmD,EAAU6G,EAAgB7H,IAE7B2O,EAAU,IACVK,EAAY,GACZF,EAAc,2DAEhB,GAEA,CAAC9N,EAAUhB,IAGZnC,qBAAU,WACTyR,SAASlF,OAAa,OAAL4G,QAAK,IAALA,OAAK,EAALA,EAAOhD,OAAQ,WACjC,GAAG,CAACgD,IAEJnT,qBACC,WACa,OAARmJ,QAAQ,IAARA,KAAUxG,QACbmO,EAAU3H,EAASC,QACnB6H,EAAc9H,EAASxG,QACvBwO,EAAYhI,EAASE,SAErByH,EAAU,IACVK,EAAY,GACZF,EAAc,2DAEhB,GAEA,CAAC9H,IAGFnJ,qBAAU,WACL4Q,GAAUrG,IAAMtG,MAAM2M,EAC3B,GAAG,CAACA,IAQJ,OACC,uBAAK7J,UAAU,aAAY,UAC1B,eAAC,GAAK,CACLA,UAAU,yBACV3H,IAAU,OAAL+T,QAAK,IAALA,OAAK,EAALA,EAAOa,gBAGb,eAAC,KAAc,CAACpC,OAAuB,YAAfwB,EAA0BvB,SAAO,EAAC/D,KAAK,sDAAa,SAC3E,uBAAK/G,UAAU,mBAAkB,UAChC,uBAAKA,UAAU,qBAAoB,UAClC,sBAAKA,UAAU,qBAAoB,SAClC,eAAC,GAAK,CAAC3H,IAAU,OAAL+T,QAAK,IAALA,OAAK,EAALA,EAAOc,YAAalN,UAAU,yBAAyB9G,IAAI,OAExE,uBAAK8G,UAAU,mBAAkB,UAChC,qBAAIA,UAAU,0BAAyB,SAAO,OAALoM,QAAK,IAALA,OAAK,EAALA,EAAOhD,OAChD,qBAAIpJ,UAAU,6BAA4B,SAAO,OAALoM,QAAK,IAALA,OAAK,EAALA,EAAOe,gBACnD,uBAAKnN,UAAU,wBAAuB,UACrC,iGAAsB,OAALoM,QAAK,IAALA,OAAK,EAALA,EAAOnB,gBACxB,+JAAkC,OAALmB,QAAK,IAALA,OAAK,EAALA,EAAOgB,WACpC,4DAAe,OAALhB,QAAK,IAALA,OAAK,EAALA,EAAOlB,UACjB,oFAAmB,OAALkB,QAAK,IAALA,OAAK,EAALA,EAAOiB,wBACrB,wEAAiB,OAALjB,QAAK,IAALA,OAAK,EAALA,EAAOkB,WACnB,yEAAkB,OAALlB,QAAK,IAALA,OAAK,EAALA,EAAOmB,QACpB,oFAAmB,OAALnB,QAAK,IAALA,OAAK,EAALA,EAAOoB,gBAEtB,gBAAC,KAAc,CAAC3C,OAA0B,YAAlBpI,GAA+C,aAAf4J,EAA0BvB,SAAO,EAAC/D,KAAK,sDAAa,UAC3G,eAAC,GAAM,CACNhC,cAAeoF,EACfnF,UAAW5I,EAA2B,4DAAfqI,EACvBQ,SAAU,SAAC3C,GACV8H,EAAY9H,GACZyJ,EAAe,CAAEzJ,MAAOA,GACzB,EACAtC,UAAU,uBAEX,eAAC,GAAiB,CACjBuE,SAAU,CAAC,0DAAc,4EAAiB,6CAAW,0DACrDvE,UAAU,4BACVyE,WAAYA,EACZD,eAAgB,SAAC5I,GACXQ,GAGJ8N,EAActO,GACdmQ,EAAe,CAAEnQ,OAAQA,IACV,4DAAXA,IACHmO,EAAU,IACVK,EAAY,KANb/K,GASF,OAGF,eAAC,GAAU,CAACiD,MAAY,OAAL8J,QAAK,IAALA,OAAK,EAALA,EAAO9J,MAAOyE,KAAK,aAAa/G,UAAU,iCAG/D,eAAC,YAAQ,CAACA,UAAU,uBAAuByN,YAAU,EAACC,YAAU,EAACC,sBAAuB,GAAIC,YAAY,EAAOC,YAAY,EAAOC,gBAAgB,EAAM,SACjJ,OAAL1B,QAAK,IAALA,GAAa,QAAR,EAALA,EAAO2B,cAAM,WAAR,EAAL,EAAepJ,KA/DD,SAACqJ,EAAOC,GAAK,OAChC,sBAAKjO,UAAU,sBAAqB,SACnC,eAAC,KAAW,CAAC2J,IAAKqE,EAAMrE,IAAKuE,UAAQ,EAAalO,UAAU,8BAAjBiO,IACtC,MA8DH,uBAAKjO,UAAU,uBAAsB,UACpC,iCACC,qBAAIA,UAAU,6BAA4B,8DAC1C,sBAAKuL,wBAAyB,CAAEC,OAAa,OAALY,QAAK,IAALA,OAAK,EAALA,EAAOX,eAEhD,qBAAIzL,UAAU,4BAA2B,4CACzC,eAAC,KAAc,CAAC6K,OAA0B,YAAlBpI,GAA+C,aAAf4J,EAA0BvB,SAAO,EAAC/D,KAAK,sDAAa,SAC3G,uBAAK/G,UAAU,yBAAyBmG,QAAS/J,EAAS,UACzD,uBAAK4D,UAAU,qBAAoB,8DAElC,2BAAU0D,KAAK,WAAW1D,UAAU,2BAA2B0F,MAAOrD,EAAQ4C,SAAU,SAACqC,GAAK,OAAKyC,EAAUzC,EAAMC,OAAO7B,MAAM,OAEjI,yBACC1F,UAAU,iCACV6L,UAAWzP,EAA2B,4DAAfqI,EACvBvE,QAAS,WACR0M,EAAe,CAAEvK,OAAQA,GAC1B,EAAE,yEAKL,uBAAKrC,UAAU,sBAAsBmG,QAAS/J,IAAuB,OAAXoG,QAAW,IAAXA,OAAW,EAAXA,EAAakF,QAAS,EAAE,UACjF,4GACA,eAAC,GAAe,CAAC3B,KAAMvD,iBAO9B,IC1KO,SAAe2L,GAAQ,GAAD,gCAK7B,cAFC,OAED,mCALO,WAAuB/S,GAAE,iGACbkF,GAAI/H,IAAI2B,EAAekB,EAAK,KAAK,KAAD,EAAzC,OAAHL,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAeqV,GAAc,EAAD,mCAKnC,cAFC,OAED,mCALO,WAA6BC,EAAQC,GAAY,iGACrChO,GAAI/H,IAAI2B,EAAemU,EAAS,WAAaC,EAAe,KAAK,KAAD,EAAzE,OAAHvT,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAQM,SAAewV,GAAe,EAAD,qCAGnC,wDAHM,WAA8BF,EAAQC,EAAcE,GAAa,iGACrDlO,GAAI/H,IAAI2B,EAAemU,EAAS,WAAaC,EAAe,YAAcE,EAAgB,KAAK,KAAD,EAAvG,OAAHzT,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAEM,SAAe0V,GAAc,EAAD,mCAKnC,cAFC,OAED,mCALO,WAA6BrT,EAAIiG,GAAS,iGAC9Bf,GAAIrE,IAAI/B,EAAekB,EAAK,IAAKiG,GAAW,KAAD,EAApD,OAAHtG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAQM,SAAe2V,GAAoB,EAAD,qCAKzC,cAFC,OAED,mCALO,WAAmCL,EAAQC,EAAcjN,GAAS,iGACtDf,GAAIrE,IAAI/B,EAAemU,EAAS,WAAaC,EAAe,IAAKjN,GAAW,KAAD,EAApF,OAAHtG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAe4V,GAAsB,EAAD,mCAK3C,cAFC,OAED,mCALO,WAAqCN,EAAQO,GAAY,iGAC7CtO,GAAIrE,IAAI/B,EAAemU,EAAS,aAAcO,GAAc,KAAD,EAApE,OAAH7T,EAAG,yBACFA,GAAG,4CACV,sBAOM,SAAe8T,GAAY,EAAD,mCAKjC,cAFC,OAED,mCALO,WAA2BtN,EAAOC,GAAI,iGAC1BlB,GAAI/H,IAAI4B,EAAkB,CAAEuH,OAAQ,CAAEH,MAAOA,EAAOC,KAAMA,KAAU,KAAD,EAA5E,OAAHzG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAe+V,GAAgB,GAAD,gCAKrC,cAFC,OAED,mCALO,WAA+BvN,GAAK,iGACxBjB,GAAI/H,IAAI6B,EAAuB,CAAEsH,OAAQ,CAAEH,MAAOA,KAAW,KAAD,EAArE,OAAHxG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAegW,GAAgB,GAAD,gCAKrC,cAFC,OAED,mCALO,WAA+BV,GAAM,iGACzB/N,GAAI/H,IAAI2B,EAAemU,EAAS,eAAe,KAAD,EAAvD,OAAHtT,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAeiW,GAAsB,EAAD,mCAK3C,cAFC,OAED,mCALO,WAAqCX,EAAQY,GAAQ,iGACzC3O,GAAI/H,IAAI2B,EAAemU,EAAS,WAAaY,EAAW,eAAe,KAAD,EAA/E,OAAHlU,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAOM,SAAemW,GAAuB,EAAD,qCAK5C,cAFC,OAED,mCALO,WAAsCb,EAAQY,EAAUE,GAAS,iGACrD7O,GAAI/H,IAAI2B,EAAemU,EAAS,WAAaY,EAAW,YAAcE,EAAY,eAAe,KAAD,EAAzG,OAAHpU,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAKM,SAAeqW,KAAoB,gCAGzC,wDAHM,8GACY9O,GAAI/H,IAAI8B,GAA4B,KAAD,EAA5C,OAAHU,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBC7GsC,IAgCjCsW,GAAI,WAeT,aAAe,IAAD,gCAddC,UAAI,OACJC,UAA2B,OAAO,KAClCnN,cAAQ,OACRI,YAAc,GAAG,KACjBC,cAA+B,OAAO,KAEtC+M,YAAmB,CAAC,EAAE,KACtBC,iBAAmD,CAAC,EAAE,KACtDC,oBAA2B,CAAC,EAAE,KAC9BC,yBAA2D,CAAC,EAAE,KAE9DjN,eAAgC,OAAO,KACvCC,oBAAc,OAMdiN,YAAW,iDAAG,WAAOxU,GAAU,2EAC9B,EAAKmU,UAAY,UACjBM,GAAqBzU,GAAIyB,KAAK,EAAKiT,mBAAoB,EAAKC,oBAAoB,2CAChF,mDAHU,GAGV,KACDD,mBAAqB,SAACrS,GACrB,EAAK6R,KAAO7R,EACZ,EAAK8R,UAAY,MAClB,EAAE,KACFQ,mBAAqB,SAAC7S,GACrB,EAAKqS,UAAY,UAAYrS,CAC9B,EAAE,KAEF8S,cAAa,iDAAG,WAAO3B,EAAgBC,GAAoB,2EAC1D,EAAKiB,UAAY,UACjBM,GAA2BxB,EAAQC,GAAczR,KAAK,EAAKoT,qBAAsB,EAAKC,sBAAsB,2CAC5G,qDAHY,GAGZ,KACDD,qBAAuB,SAACxS,GACvB,EAAK6R,KAAO7R,EACZ,EAAK8R,UAAY,MAClB,EAAE,KACFW,qBAAuB,SAAChT,GACvB,EAAKqS,UAAY,UAAYrS,CAC9B,EAAE,KAEFiT,eAAc,iDAAG,WAAO9B,EAAgBC,GAAoB,2EAC3D,EAAKmB,iBAAiBnB,GAAgB,UACtC,EAAKkB,YAAYlB,GAAgB,CAAC,EAClCuB,GAA2BxB,EAAQC,GAAczR,MAChD,SAAC9B,GAAG,OAAK,EAAKqV,sBAAsBrV,EAAKuT,EAAa,IACtD,SAACvT,GAAG,OAAK,EAAKsV,sBAAsBtV,EAAKuT,EAAa,IACrD,2CACF,qDAPa,GAOb,KACD8B,sBAAwB,SAAC3S,EAAe6Q,GACvC,EAAKkB,YAAYlB,GAAgB7Q,EACjC,EAAKgS,iBAAiBnB,GAAgB,MACvC,EAAE,KACF+B,sBAAwB,SAACnT,EAAeoR,GACvC,EAAKmB,iBAAiBnB,GAAgB,UAAYpR,CACnD,EAAE,KAEFoT,eAAc,iDAAG,WAAOjC,EAAgBC,EAAsBE,GAAqB,2EAClF,EAAKe,UAAY,UACjBM,GAA4BxB,EAAQC,EAAcE,GAAe3R,KAAK,EAAK0T,sBAAuB,EAAKC,uBAAuB,2CAC9H,uDAHa,GAGb,KACDD,sBAAwB,SAAC9S,GACxB,EAAK6R,KAAO7R,EACZ,EAAK8R,UAAY,MAClB,EAAE,KACFiB,sBAAwB,SAACtT,GACxB,EAAKqS,UAAY,UAAYrS,CAC9B,EAAE,KAEFuT,oBAAmB,iDAAG,WAAOrV,GAAU,2EACtC,EAAKqH,cAAgB,UACrBoN,GAA6BzU,GAAIyB,KAAK,EAAK6T,2BAA4B,EAAKC,4BAA4B,2CACxG,mDAHkB,GAGlB,KACDD,2BAA6B,SAACjT,GAC7B,EAAK2E,SAAW3E,EAAO4D,UACvB,EAAKmB,YAAc/E,EAAO2F,aAC1B,EAAKX,cAAgB,MACtB,EAAE,KACFkO,2BAA6B,SAACzT,GAC7B,EAAKuF,cAAgB,UAAYvF,CAClC,EAAE,KAEF0T,sBAAqB,iDAAG,WAAOvC,EAAgBY,GAAgB,2EAC9D,EAAKxM,cAAgB,UACrBoN,GAAmCxB,EAAQY,GAAUpS,KAAK,EAAKgU,6BAA8B,EAAKC,8BAA8B,2CAChI,qDAHoB,GAGpB,KACDD,6BAA+B,SAACpT,GAC/B,EAAK2E,SAAQ,6BAAQ3E,EAAO4D,WAAS,IAAE0P,kBAAmBtT,EAAOsT,kBAAmBC,SAAUvT,EAAOwT,qBACrG,EAAKzO,YAAc/E,EAAO2F,aAC1B,EAAKX,cAAgB,MACtB,EAAE,KACFqO,6BAA+B,SAAC5T,GAC/B,EAAKuF,cAAgB,UAAYvF,CAClC,EAAE,KAEFgU,uBAAsB,iDAAG,WAAO7C,EAAgBY,GAAgB,2EAC/D,EAAKS,oBAAoBT,GAAY,CAAC,EACtC,EAAKU,yBAAyBV,GAAY,UAC1CY,GAAmCxB,EAAQY,GAAUpS,MACpD,SAAC9B,GAAG,OAAK,EAAKoW,8BAA8BpW,EAAKkU,EAAS,IAC1D,SAAClU,GAAG,OAAK,EAAKqW,8BAA8BrW,EAAKkU,EAAS,IACzD,2CACF,qDAPqB,GAOrB,KACDkC,8BAAgC,SAAC1T,EAAawR,GAC7C,EAAKU,yBAAyBV,GAAY,OAC1C,EAAKS,oBAAoBT,GAAS,6BAAQxR,EAAO4D,WAAS,IAAE0P,kBAAmBtT,EAAOsT,kBAAmBC,SAAUvT,EAAOwT,mBAAoB7N,aAAc3F,EAAO2F,cACpK,EAAE,KACFgO,8BAAgC,SAAClU,EAAe+R,GAC/C,EAAKU,yBAAyBV,GAAY,UAAY/R,CACvD,EAAE,KAEFmU,uBAAsB,iDAAG,WAAOhD,EAAgBY,EAAkBE,GAAiB,2EAClF,EAAK1M,cAAgB,UACrBoN,GAAoCxB,EAAQY,EAAUE,GAAWtS,KAAK,EAAKyU,8BAA+B,EAAKC,+BAA+B,2CAC9I,uDAHqB,GAGrB,KACDD,8BAAgC,SAAC7T,GAChC,EAAKgF,cAAgB,OACrB,EAAKL,SAAQ,6BAAQ3E,EAAO4D,WAAS,IAAE0P,kBAAmBtT,EAAOsT,oBACjE,EAAKvO,YAAc/E,EAAO2F,YAC3B,EAAE,KACFmO,8BAAgC,SAACrU,GAChC,EAAKuF,cAAgB,UAAYvF,CAClC,EAAE,KAEFuR,cAAa,iDAAG,WAAOrM,GAAuB,iFAC7C,EAAKM,eAAiB,UACtBmN,GAAoC,QAAV,EAAC,EAAKP,YAAI,aAAT,EAAWlU,GAAIgH,GAAUvF,KAAK,EAAK2U,qBAAsB,EAAKC,sBAAsB,2CAC/G,mDAHY,GAGZ,KACDD,qBAAuB,WACtB,EAAK9O,eAAiB,MACvB,EAAE,KACF+O,qBAAuB,SAACvU,GACvB,EAAKwF,eAAiB,UAAYxF,CACnC,EAAE,KAEFwU,cAAa,iDAAG,WAAOtP,GAAuB,iFAC7C,EAAKM,eAAiB,gBACtB,EAAKC,eAAiBa,YAAM,2FAAsB,CAAEC,WAAW,EAAOC,KAAMF,IAAMG,KAAKC,KAAMC,SAAU,kBACvGgM,GAAoC,QAAV,EAAC,EAAKP,YAAI,aAAT,EAAWlU,GAAIgH,GAAUvF,KAAK,EAAK8U,qBAAsB,EAAKC,sBAAsB,2CAC/G,mDAJY,GAIZ,KACDD,qBAAuB,WACtBnO,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,mFAAmBP,KAAMF,IAAMG,KAAKO,QAAST,UAAW,MACpG,EAAKf,eAAiB,MACvB,EAAE,KACFkP,qBAAuB,SAAC1U,GACvBsG,IAAMQ,OAAO,EAAKrB,eAAgB,CAAEsB,OAAQ,0IAA6BP,KAAMF,IAAMG,KAAKQ,MAAOV,UAAW,MAC5G,EAAKf,eAAiB,UAAYxF,CACnC,EAAE,KAEF2U,gBAAe,iDAAG,WAAOzP,EAAyBiM,EAAgBC,GAAoB,2EACrF,EAAK5L,eAAiB,UACtBmN,GAAiCxB,EAAQC,EAAclM,GAAUvF,KAAK,EAAK2U,qBAAsB,EAAKC,sBAAsB,2CAC5H,uDAHc,GAGd,KACDK,gBAAe,iDAAG,WAAO1P,EAAyBiM,EAAgBC,GAAoB,2EACrF,EAAK5L,eAAiB,gBACtB,EAAKC,eAAiBa,YAAM,2FAAsB,CAAEC,WAAW,EAAOC,KAAMF,IAAMG,KAAKC,KAAMC,SAAU,kBACvGgM,GAAiCxB,EAAQC,EAAclM,GAAUvF,KAAK,EAAK8U,qBAAsB,EAAKC,sBAAsB,2CAC5H,uDAJc,GAId,KAEDG,kBAAiB,iDAAG,WAAOnD,EAAmBP,GAAc,6FAAE2D,EAAe,+BAAG,GAC/E,EAAKtP,eAAiB,UACtBmN,GAAmCxB,EAAQO,GAAc/R,MAAK,SAACY,GAC9D,GAAIuU,EAAiB,IAAK,IAAIC,KAAUD,EAAiB,EAAKd,uBAAuB7C,EAAQ2D,EAAgBC,IAC7G,EAAKT,sBACN,GAAG,EAAKC,sBAAsB,2CAC9B,qDANgB,GAMhB,KAEDrD,cAAgB,SAACE,GAChB,OAAO,EAAKkB,YAAYlB,EACzB,EAAE,KAEF4D,mBAAqB,SAAC5D,GACrB,OAAO,EAAKmB,iBAAiBnB,EAC9B,EAAE,KAEFU,sBAAwB,SAACV,GACxB,OAAO,EAAKoB,oBAAoBpB,EACjC,EAAE,KAEF6D,oBAAsB,SAACF,EAAgB7W,GACtC,IAAK,IAAIoT,KAAiB,EAAKkB,oBAAoBuC,GAAQjB,SAAU,CACpE,IAAIoB,EAAU,EAAK1C,oBAAoBuC,GAAQjB,SAASxC,GACxD,GAAI4D,EAAQC,UAAYjX,EAAI,OAAOgX,CACpC,CACA,OAAO,IACR,EA3KC7T,YAAmBC,KACpB,CAsLC,OAtLA,2CA4KD,WACC,IAAK,IAAIyT,KAAUzT,KAAKiR,iBAAkB,GAAsC,YAAlCjR,KAAKiR,iBAAiBwC,GAAuB,OAAO,EAClG,OAAO,CACR,GAAC,oBAED,WACC,OAAIzT,KAAK+Q,UAAUnL,WAAW,UAAkB5F,KAAK+Q,UACjD/Q,KAAKiE,cAAc2B,WAAW,UAAkB5F,KAAKiE,cACrDjE,KAAKkE,eAAe0B,WAAW,UAAkB5F,KAAKkE,eACnD,IACR,KAAC,EAvMQ,GA4MK4P,GAFG,IAAIjD,G,OC/JPkD,IC5EAA,GDIf,SAA0B,GAA4G,IAA1GH,EAAO,EAAPA,QAAS/D,EAAM,EAANA,OAAQmE,EAAoB,EAApBA,qBAAsBpW,EAAQ,EAARA,SAAUgG,EAAQ,EAARA,SAAUqQ,EAAQ,EAARA,SAAUC,EAAe,EAAfA,gBAAiB/S,EAAe,EAAfA,gBAC7GG,EAAUC,cACd,EAAgCjI,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KAC5B,EAAkCtS,oBAAS,GAAM,oBAA1C6a,EAAS,KAAEC,EAAY,KA8B9B,OA5BA3Z,qBAAU,WACTmR,EAAoB,OAARhI,QAAQ,IAARA,OAAQ,EAARA,EAAUE,OACtBsQ,GAAqB,OAARxQ,QAAQ,IAARA,OAAQ,EAARA,EAAUE,QAAS,EACjC,GAAG,CAACF,IAEJnJ,qBACC,YACmB,IAAdwZ,EACHG,GAAa,GACU,IAAbH,GACVG,GAAa,EAEf,GAEA,CAACH,IAeD,uBAAKzS,UAAU,qBAAoB,UAClC,wBACC0D,KAAK,WACLtI,GAAE,mBAAcgX,EAAQhX,IACxByX,QAASF,EACT1N,SAAU,SAAClK,GACV4E,GAAgB,GAChBiT,EAAa7X,EAAIwM,OAAOsL,QACzB,EACA1M,QAAS/J,IAAasW,IAEvB,oBAAG1S,UAAU,2BAA0B,SAvBzC,SAAmB8S,GAClB,IAAKA,EACJ,MAAO,MAER,IAAIC,EAAU,IAAIC,KAAKF,GAAMG,mBAAmB,SAChD,MAAgB,iBAAZF,EACIA,EAED,KACR,CAc2CG,CAAUd,EAAQe,YAC3D,sBAAKhN,QAAS/J,IAAasW,EAAiB1S,UAAU,2BAA0B,SAC/E,eAAC,GAAM,CACNkF,SAAS,EACTF,UAAW5I,EACX2I,cAAeoF,EACflF,SAAU,SAAC3C,GACV8H,EAAY9H,GACZsQ,EAAatQ,GAAS,GACtBkQ,EAAqB,CAAExB,SAAU,CAAC,CAAEqB,QAASD,EAAQhX,GAAIkH,MAAOA,KAAY+L,EAC7E,MAGF,qBACCrO,UAAU,2BACVC,KAAM+F,OAAOC,SAASC,OAAS,SAAWmI,EAAS,WAAa+D,EAAQgB,cAAgB,YAAchB,EAAQiB,eAC9GnT,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWgO,EAAS,WAAa+D,EAAQgB,cAAgB,YAAchB,EAAQiB,gBAC5FlT,EAAEC,gBACH,EACAoF,MAAO4M,EAAQhJ,KAAK,4CACbgJ,EAAQiB,eAAc,MAAKjB,EAAQhJ,UAI9C,EE1EekK,I,OCaKzT,aACnB,YAMO,IAAD,EALLwO,EAAM,EAANA,OACAC,EAAY,EAAZA,aAEAoE,EAAe,EAAfA,gBACA1S,EAAS,EAATA,UAEQ5D,EAAaqC,GAAbrC,SACAiD,EAAmCX,GAAnCW,cAAeM,EAAoBjB,GAApBiB,gBACfwQ,EAA+EmC,GAA/EnC,eAAgBe,EAA+DoB,GAA/DpB,uBAAwBa,EAAuCO,GAAvCP,kBAAmBF,EAAoBS,GAApBT,gBAC7D0B,EAAaC,aAAS,kBAAMlB,GAAUlE,cAAcE,EAAa,IAAE/V,MACnEkb,EAAkBD,aAAS,kBAAMlB,GAAUJ,mBAAmB5D,EAAa,IAAE/V,MAC7Emb,EAAeF,aAAS,kBAAMlB,GAAUtD,sBAAsBV,EAAa,IAAE/V,MAE/EuH,EAAUC,cACd,EAAkCjI,mBAAS,GAAE,oBAAtC6a,EAAS,KAAEC,EAAY,KAC9B,EAAgC9a,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KAkC5B,SAASuJ,EAAe3C,EAAU5V,GACjC,IAAK,IAAIgX,KAAWpB,EAAU,GAAIA,EAASoB,GAASC,UAAYjX,EAAI,OAAO4V,EAASoB,EACrF,CAEA,OApCAnZ,qBACC,WACC2Z,EAAa,GACbxI,EAAY,GACZ+F,EAAe9B,EAAQC,EACxB,GAEA,CAACD,EAAQC,EAAc6B,IAGxBlX,qBACC,WACC2Z,EAAa,GACbxI,EAAY,GACRhO,GAAU8U,EAAuB7C,EAAQC,EAC9C,GAEA,CAAClS,EAAUiS,EAAQC,IAGpBrV,qBACC,WACiB,OAAZya,QAAY,IAAZA,KAAcpR,MACjB8H,EAAYsJ,EAAapR,OAEzB8H,EAAY,EAEd,GAEA,CAACsJ,IAQD,eAAC,KAAc,CAAC7I,OAA4B,YAApB4I,EAA+B3I,SAAO,EAAC/D,KAAK,sDAAa,SAChF,uBAA0B/G,UAAW0E,KAAW,eAAgB1E,GAAW,UAC1E,oBACCC,KAAM+F,OAAOC,SAASC,OAAS,SAAWmI,EAAS,WAAaC,EAChEpO,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWgO,EAAS,WAAaC,GAC9CnO,EAAEC,gBACH,EACAJ,UAAU,qBAAoB,SAC9B,sBAAIA,UAAU,qBAAoB,cAAa,OAAVuT,QAAU,IAAVA,OAAU,EAAVA,EAAYnK,KAAI,SAEtD,sBAAKjD,QAAS/J,IAAasW,EAAiB1S,UAAU,qBAAoB,SACzE,eAAC,GAAM,CACN+E,cAAeoF,EACflF,SAAU,SAAC3C,GACLlG,GAGJgO,EAAY9H,GACZuP,EAAgB,CAAEvP,MAAOA,GAAS+L,EAAQC,IAH1CjP,GAKF,MAGF,wBACA,2BAASuU,MAAM,EAAM5T,UAAU,yBAAwB,UACtD,oGACA,uBAAKmG,QAAS/J,IAAasW,EAAiB1S,UAAU,0BAAyB,8EAE9E,wBACC0D,KAAK,WACLmP,QAASF,EAAY,EACrB1N,SAAU,SAAClK,GACV4E,GAAgB,GAChBiT,EAAa7X,EAAIwM,OAAOsL,QAAU,GAAK,EACxC,OAGF,qBAAI7S,UAAU,4BAA2B,SAC7B,OAAVuT,QAAU,IAAVA,GAAoB,QAAV,EAAVA,EAAYvC,gBAAQ,WAAV,EAAV,EACErM,KAAI,SAACyN,EAASxN,GAAO,OACtB,qBAAI5E,UAAU,wBAAuB,SACpC,eAAC,GAAgB,CAChBoS,QAASA,EACT/D,OAAQA,EACRjS,SAAUA,EACVgG,SAAUuR,EAA2B,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc1C,SAAiB,OAAPoB,QAAO,IAAPA,OAAO,EAAPA,EAAShX,IAC1DoX,qBAAsBT,EACtBU,SAAUE,EACVD,gBAAiBA,EACjB/S,gBAAiBA,KATwBiF,EAWtC,IAELiP,iBArDe,OAAVN,QAAU,IAAVA,OAAU,EAAVA,EAAYnY,KA2DzB,KCjIc0Y,I,OCUMjU,aAAS,YAA2C,IAAxCwO,EAAM,EAANA,OAAQ0F,EAAO,EAAPA,QAASrB,EAAe,EAAfA,gBACzChD,EAA0F4C,GAA1F5C,oBAAqBF,EAAqE8C,GAArE9C,YAAauC,EAAwDO,GAAxDP,kBAAmBrP,EAAqC4P,GAArC5P,eAAgBsR,EAAqB1B,GAArB0B,iBACrElV,EAA6CJ,GAA7CI,wBAAyBa,EAAoBjB,GAApBiB,gBACzBvD,EAAaqC,GAAbrC,SAER,SAASuX,EAAe3C,EAAU5V,GACjC,IAAK,IAAIgX,KAAWpB,EAAU,GAAIA,EAASoB,GAASC,UAAYjX,EAAI,OAAO4V,EAASoB,EACrF,CAwCA,OANAnZ,qBAAU,WACT,OAAO,WACN0G,GAAgB,EACjB,CACD,GAAG,IAGF,sBAAKK,UAAU,gBAAe,SAC7B,gBAAC,KAAc,CAAC6K,OAA2B,YAAnBnI,EAA8BoI,SAAO,EAAC/D,KAAK,kEAAe,UACjF,yBACC/G,UAAU,4BACVmG,QAAS/J,GAAYsW,EACrB7G,SAAUmI,EACV9T,QAAS,YA3Bb,WACC,IAAI8Q,EAAW,GACX+C,EAAU,GACd,IAAK,IAAI9B,KAAUzC,EAClB,GAAiC,mFAA7BA,EAAYyC,GAAQ7I,KACvB,IAAK,IAAIgJ,KAAW5C,EAAYyC,GAAQjB,SACvCA,EAAS3Q,KAAK,CAAEgS,QAAS7C,EAAYyC,GAAQjB,SAASoB,GAAShX,GAAIkH,MAAO,KACzC,IAA7ByR,EAAQtJ,QAAQwH,IAAgB8B,EAAQ1T,KAAK4R,GAGpDF,EAAkB,CAAEf,YAAY3C,EAAQ0F,GACxCpU,GAAgB,EACjB,CAgBKsU,EACD,EAAE,kIAGK,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EACEpP,KAAI,SAACsN,GAAM,OAAK,eAAC,GAAW,CAACjS,UAAU,8BAA8BqO,OAAQA,EAAQC,aAAc2D,EAAOmB,cAA0CV,gBAAiBA,GAAvCT,EAAOmB,cAAmD,IACzLS,UACF,sBAAK7T,UAAU,qCAAqCmG,QAASrH,EAAwB,SACpF,yBACCkB,UAAU,sCACVE,QAAS,YAxDd,WACC,IAAI8Q,EAAW,GACX+C,EAAU,GACd,IAAK,IAAI9B,KAAUzC,EAClB,IAAK,IAAI4C,KAAW5C,EAAYyC,GAAQjB,SAAU,CACjD,IAAIkD,EAAeP,EAAejE,EAAoBuC,GAAQjB,SAAUxB,EAAYyC,GAAQjB,SAASoB,GAAShX,IAC1G+Y,EAAUzJ,SAAS0J,eAAe,YAAD,OAAa5E,EAAYyC,GAAQjB,SAASoB,GAAShX,KAAMyX,QAE1FsB,KAD4B,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc5R,QAAS,IAE1C0O,EAAS3Q,KAAK,CAAEgS,QAAS7C,EAAYyC,GAAQjB,SAASoB,GAAShX,GAAIkH,MAAO6R,EAAU,GAAK,KACxD,IAA7BJ,EAAQtJ,QAAQwH,IAAgB8B,EAAQ1T,KAAK4R,GAEnD,CAEDF,EAAkB,CAAEf,YAAY3C,EAAQ0F,GACxCpU,GAAgB,EACjB,CAyCM0U,EACD,EAAE,0EAOR,KCpFeC,I,OCsBEzU,aAAS,SAAChI,GAAW,IAAD,EAC5BuE,EAAaqC,GAAbrC,SACAiD,EAAkBX,GAAlBW,cACAuQ,EAAoI0C,GAApI1C,YAAaN,EAAuHgD,GAAvHhD,KAAMC,EAAiH+C,GAAjH/C,UAAWd,EAAsG6D,GAAtG7D,cAAeiD,EAAuFY,GAAvFZ,cAAejB,EAAwE6B,GAAxE7B,oBAAqBrO,EAAmDkQ,GAAnDlQ,SAAUI,EAAyC8P,GAAzC9P,YAAaC,EAA4B6P,GAA5B7P,cAAeoH,EAAayI,GAAbzI,SAEzHzO,EAAO0O,cAAP1O,GACN,EAA4BtD,mBAAS,IAAG,oBAAjCuK,EAAM,KAAE0H,EAAS,KACxB,EAAoCjS,mBAAS,2DAAa,oBAAnD2M,EAAU,KAAEyF,EAAa,KAChC,EAAgCpS,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KAE5BnR,qBACC,WACC8Q,EAAU,IACVG,EAAc,2DACdE,EAAY,GACZwF,EAAYxU,EACb,GAEA,CAACA,EAAIwU,IAGN3W,qBACC,WACKmD,EAAUqU,EAAoBrV,IAEjC2O,EAAU,IACVK,EAAY,GACZF,EAAc,2DAEhB,GAEA,CAAC9N,EAAUhB,IAGZnC,qBAAU,WACTyR,SAASlF,OAAY,OAAJ8J,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,OAAQ,WAChC,GAAG,CAACkG,IAEJrW,qBACC,WACa,OAARmJ,QAAQ,IAARA,KAAUxG,QACbmO,EAAU3H,EAASC,QACnB6H,EAAc9H,EAASxG,QACvBwO,EAAYhI,EAASE,SAErByH,EAAU,IACVK,EAAY,GACZF,EAAc,2DAEhB,GAEA,CAAC9H,IAGFnJ,qBAAU,WACL4Q,GAAUrG,IAAMtG,MAAM2M,EAC3B,GAAG,CAACA,IAQJ,OACC,uBAAK7J,UAAU,YAAW,UACzB,sBAAKA,UAAU,wBAAwBwH,MAAO,CAAEmD,gBAAgB,OAAD,OAAa,OAAJ2E,QAAI,IAAJA,OAAI,EAAJA,EAAMrC,cAAa,QAC3F,eAAC,KAAc,CAACpC,OAAsB,YAAd0E,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,SAC1E,uBAAK/G,UAAU,kBAAiB,UAC/B,uBAAKA,UAAU,oBAAmB,UACjC,sBAAKA,UAAU,oBAAmB,SACjC,eAAC,GAAK,CAAC3H,IAAS,OAAJiX,QAAI,IAAJA,OAAI,EAAJA,EAAMpC,YAAalN,UAAU,wBAAwB9G,IAAI,OAEtE,uBAAK8G,UAAU,kBAAiB,UAC/B,qBAAIA,UAAU,yBAAwB,SAAM,OAAJsP,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,OAC9C,qBAAIpJ,UAAU,4BAA2B,SAAM,OAAJsP,QAAI,IAAJA,OAAI,EAAJA,EAAMnC,gBACjD,uBAAKnN,UAAU,uBAAsB,UACpC,qBAAGmG,SAAa,OAAJmJ,QAAI,IAAJA,KAAMpE,QAAO,uCAAY,OAAJoE,QAAI,IAAJA,OAAI,EAAJA,EAAMpE,UACvC,qBAAG/E,SAAa,OAAJmJ,QAAI,IAAJA,KAAMjC,sBAAqB,+DAAgB,OAAJiC,QAAI,IAAJA,OAAI,EAAJA,EAAMjC,wBACzD,qBAAGlH,SAAa,OAAJmJ,QAAI,IAAJA,KAAMiF,gBAAe,gJAAgC,OAAJjF,QAAI,IAAJA,OAAI,EAAJA,EAAMiF,kBACnE,qBAAGpO,SAAa,OAAJmJ,QAAI,IAAJA,KAAMkF,eAAc,kKAAmC,OAAJlF,QAAI,IAAJA,OAAI,EAAJA,EAAMkF,iBACrE,qBAAGrO,SAAc,OAAJmJ,QAAI,IAAJA,MAAMmF,kBAAiB,0IAA+B,OAAJnF,QAAI,IAAJA,OAAI,EAAJA,EAAMmF,oBACrE,2IAA4B,OAAJnF,QAAI,IAAJA,OAAI,EAAJA,EAAMoF,iBAC9B,+HAA0B,OAAJpF,QAAI,IAAJA,OAAI,EAAJA,EAAMqF,kBAC5B,qBAAGxO,SAAa,OAAJmJ,QAAI,IAAJA,KAAM1T,QAAO,mDAAc,OAAJ0T,QAAI,IAAJA,OAAI,EAAJA,EAAM1T,aAE1C,gBAAC,KAAc,CAACiP,OAA0B,YAAlBpI,GAA8C,aAAd8M,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,UAC1G,eAAC,GAAM,CACNhC,cAAeoF,EACfnF,UAAW5I,EAA2B,4DAAfqI,EACvBQ,SAAU,SAAC3C,GACLlG,GAGJgO,EAAY9H,GACZmM,EAAc,CAAEnM,MAAOA,KAHvBjD,GAKF,EACAW,UAAU,sBAEX,eAAC,GAAiB,CACjB5D,SAAUA,EACVmI,SAAU,CAAC,0DAAc,4EAAiB,uCAAU,6CAAW,0DAC/DvE,UAAU,2BACVyE,WAAYA,EACZD,eAAgB,SAAC5I,GACXQ,GAGJ8N,EAActO,GACd6S,EAAc,CAAE7S,OAAQA,IACT,4DAAXA,IACHmO,EAAU,IACVK,EAAY,KANb/K,GASF,OAGF,eAAC,GAAU,CAACiD,MAAW,OAAJgN,QAAI,IAAJA,OAAI,EAAJA,EAAMhN,MAAOyE,KAAK,aAAa/G,UAAU,gCAG9D,eAAC,YAAQ,CAACA,UAAU,uBAAuByN,YAAU,EAACC,YAAU,EAACC,sBAAuB,GAAIC,YAAY,EAAOC,YAAY,EAAOC,gBAAgB,EAAM,SAClJ,OAAJwB,QAAI,IAAJA,GAAY,QAAR,EAAJA,EAAMvB,cAAM,WAAR,EAAJ,EAAcpJ,KAjEA,SAACqJ,EAAOC,GAAK,OAChC,sBAAKjO,UAAU,sBAAqB,SACnC,eAAC,KAAW,CAAC2J,IAAKqE,EAAMrE,IAAKuE,UAAQ,EAAalO,UAAU,8BAAjBiO,IADFD,EAAMrE,IAE1C,MAgEH,uBAAK3J,UAAU,sBAAqB,UACnC,iCACC,qBAAIA,UAAU,6BAA4B,8DAC1C,sBAAKuL,wBAAyB,CAAEC,OAAY,OAAJ8D,QAAI,IAAJA,OAAI,EAAJA,EAAM7D,eAE/C,uBAAKzL,UAAU,qBAAoB,UAClC,qBAAIA,UAAU,4BAA2B,iFACzC,eAAC,GAAY,CAACqO,OAAY,OAAJiB,QAAI,IAAJA,OAAI,EAAJA,EAAMlU,GAAI2Y,QAAa,OAAJzE,QAAI,IAAJA,OAAI,EAAJA,EAAMyE,QAASrB,gBAAgC,4DAAfjO,OAE1E,uBAAKzE,UAAU,oBAAoBmG,QAAS/J,EAAS,UACpD,qBAAI4D,UAAU,2BAA0B,4CACxC,gBAAC,KAAc,CAAC6K,OAA0B,YAAlBpI,GAA8C,aAAd8M,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,UAC1G,uBAAK/G,UAAU,oBAAmB,8DAEjC,2BAAU0D,KAAK,WAAWgC,MAAOrD,EAAQ4C,SAAU,SAACqC,GAAK,OAAKyC,EAAUzC,EAAMC,OAAO7B,MAAM,EAAE1F,UAAU,+BAExG,yBACCA,UAAU,gCACV6L,UAAWzP,EAA2B,4DAAfqI,EACvBvE,QAAS,WACH9D,EAGJsV,EAAc,CAAErP,OAAQA,IAFxBhD,GAIF,EAAE,0EAKL,uBAAKW,UAAU,qBAAqBmG,QAAS/J,GAAYoG,EAAYkF,OAAS,EAAE,UAC/E,4GACA,eAAC,GAAe,CAAC3B,KAAMvD,iBAO9B,K,SC1LeoS,I,OCkBI/U,aAAS,SAAChI,GAAW,IAAD,UAC9BuE,EAAaqC,GAAbrC,SACA4T,EAAqJsC,GAArJtC,cAAeV,EAAsIgD,GAAtIhD,KAAMC,EAAgI+C,GAAhI/C,UAAWsC,EAAqHS,GAArHT,gBAAiBC,EAAoGQ,GAApGR,gBAAiBC,EAAmFO,GAAnFP,kBAAmBnB,EAAgE0B,GAAhE1B,sBAAuBxO,EAAyCkQ,GAAzClQ,SAAUK,EAA+B6P,GAA/B7P,cAAeD,EAAgB8P,GAAhB9P,YACrInD,EAA4DX,GAA5DW,cAAeM,EAA6CjB,GAA7CiB,gBAAiBb,EAA4BJ,GAA5BI,wBAEpCgB,EAAUC,cACd,EAA0B+J,cAApB+K,EAAO,EAAPA,QAAShP,EAAM,EAANA,OACf,EAA4B/N,mBAAS,IAAG,oBAAjCuK,EAAM,KAAE0H,EAAS,KACxB,EAAgCjS,mBAAS,GAAE,oBAApCqS,EAAQ,KAAEC,EAAW,KAC5B,EAAkCtS,mBAAS,IAAG,oBAAvCgd,EAAS,KAAEC,EAAY,KAC9B,EAAkCjd,mBAAS,GAAE,oBAAtC6a,EAAS,KAAEC,EAAY,KA6D9B,SAASe,EAAe3C,EAAU5V,GACjC,IAAK,IAAIgX,KAAWpB,EAAU,GAAIA,EAASoB,GAASC,UAAYjX,EAAI,OAAO4V,EAASoB,EACrF,CAeA,OA5EAnZ,qBACC,WACC8Q,EAAU,IACVK,EAAY,GACZwI,EAAa,GACb5C,EAAc6E,EAAShP,EACxB,GAEA,CAACgP,EAAShP,EAAQmK,IAGnB/W,qBACC,WACKmD,EAAUwU,EAAsBiE,EAAShP,IAE5CkE,EAAU,IACVK,EAAY,GACZwI,EAAa,GAEf,GAEA,CAACxW,EAAUyY,EAAShP,IAGrB5M,qBAAU,WAAO,IAAD,EACfyR,SAASlF,OAAY,OAAJ8J,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY0F,WAAY,OAAY,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,KACxD,GAAG,CAACkG,IAEJrW,qBAAU,WAET,GADA8b,EAAa,IACL,OAAJzF,QAAI,IAAJA,KAAM0B,WACD,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,SAAStJ,QAAS,EAAG,CAC9B,IAAIgE,EAAU,GACd,IAAK,IAAI0G,KAAe,OAAJ9C,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,UACjB,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,SAASoB,GAAS6C,cAAe,GAAGvJ,EAAQrL,KAAK,CAAE+I,KAAM,OAAY,OAAJkG,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,SAASoB,GAASiB,gBAAgB6B,uCAAY,OAAJ5F,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,SAASoB,GAAS6C,eAEpJF,EAAarJ,EACd,CACF,GAAG,CAAC4D,IAEJrW,qBACC,WACa,OAARmJ,QAAQ,IAARA,KAAUC,OAAQ0H,EAAU3H,EAASC,QACpC0H,EAAU,IAEH,OAAR3H,QAAQ,IAARA,KAAUE,MAAO8H,EAAYhI,EAASE,OACrC8H,EAAY,EAClB,GAEA,CAAChI,IAGFnJ,qBAAU,WACLsW,EAAUnL,WAAW,WAAWZ,IAAMtG,MAAM,0FAAD,OAAqBqS,GACrE,GAAG,CAACA,IACJtW,qBAAU,WACLwJ,EAAc2B,WAAW,WAAWZ,IAAMtG,MAAM,wPAAD,OAAiDuF,GACrG,GAAG,CAACA,IAoBH,uBAAKzC,UAAU,cAAa,UAC3B,eAAC,GAAK,CAACA,UAAU,0BAA0B3H,IAAS,OAAJiX,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY6F,qBAC5D,eAAC,KAAc,CAACtK,OAAsB,YAAd0E,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,SAC1E,uBAAK/G,UAAU,oBAAmB,UACjC,uBAAKA,UAAU,sBAAqB,UACnC,sBAAKA,UAAU,sBAAqB,SACnC,eAAC,GAAK,CAAC3H,IAAS,OAAJiX,QAAI,IAAJA,OAAI,EAAJA,EAAMpC,YAAalN,UAAU,YAAY9G,IAAI,OAE1D,uBAAK8G,UAAU,oBAAmB,UACjC,sBAAIA,UAAU,2BAA0B,UACvC,oBACCC,KAAM+F,OAAOC,SAASC,OAAS,UAAe,OAAJoJ,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYlU,IACtD8E,QAAS,SAACC,GAAO,IAAD,EACfL,EAAQO,KAAK,UAAe,OAAJiP,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY+C,UACpClS,EAAEC,gBACH,EAAE,SACG,OAAJkP,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY0F,YAEb,OAAY,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,SAEhB,qBAAIpJ,UAAU,8BAA6B,UAAM,OAAJsP,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY8F,oBAAqB,cAAmB,OAAJ9F,QAAI,IAAJA,OAAI,EAAJA,EAAM8D,iBACnG,uBAAKpT,UAAU,yBAAwB,UACtC,qBAAGmG,SAAa,OAAJmJ,QAAI,IAAJA,KAAM6D,UAAS,4EAAmB,OAAJ7D,QAAI,IAAJA,OAAI,EAAJA,EAAM6D,YAChD,qBAAGhN,SAAa,OAAJmJ,QAAI,IAAJA,KAAM0B,UAAS,0GAAwB,OAAJ1B,QAAI,IAAJA,GAAc,QAAV,EAAJA,EAAM0B,gBAAQ,WAAV,EAAJ,EAAgBtJ,aAEhE,sBAAKvB,QAAS/J,IAAoB,OAARgG,QAAQ,IAARA,KAAU2O,mBAAkB,SACrD,gBAAC,KAAc,CAAClG,OAA0B,YAAlBpI,GAA8C,aAAd8M,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,UAC1G,eAAC,GAAM,CACNhC,cAAeoF,EACflF,SAAU,SAAC3C,GACLlG,GAGJgO,EAAY9H,GACZuP,EAAgB,CAAEvP,MAAOA,GAASuS,EAAa,OAAJvF,QAAI,IAAJA,OAAI,EAAJA,EAAM8D,gBAHjD/T,GAKF,EACAW,UAAU,wBAEX,uBAAKA,UAAU,sBAAqB,8DAEnC,2BAAU0D,KAAK,WAAW1D,UAAU,4BAA4B0F,MAAOrD,EAAQ4C,SAAU,SAACqC,GAAK,OAAKyC,EAAUzC,EAAMC,OAAO7B,MAAM,EAAE2P,SAAO,OAE3I,yBACCrV,UAAU,kCACVmG,QAAS/J,IAAoB,OAARgG,QAAQ,IAARA,KAAU2O,mBAC/B7Q,QAAS,WACR4R,EAAgB,CAAEzP,OAAQA,GAAUwS,EAAa,OAAJvF,QAAI,IAAJA,OAAI,EAAJA,EAAM8D,cACpD,EAAE,+EAOP,uBAAKpT,UAAU,wBAAuB,UACrC,iCACC,qBAAIA,UAAU,+BAA8B,8DAC5C,sBAAKuL,wBAAyB,CAAEC,OAAY,OAAJ8D,QAAI,IAAJA,OAAI,EAAJA,EAAM7D,eAE/C,uBAAKzL,UAAU,wBAAuB,UACrC,qBAAIA,UAAU,+BAA8B,iFAC5C,2BAAS4T,MAAM,EAAO5T,UAAU,6BAA4B,UAC3D,oGACA,uBAAKmG,QAAS/J,KAAqB,OAARgG,QAAQ,IAARA,KAAU2O,mBAAkB,8EAEtD,wBACCrN,KAAK,WACLmP,QAASF,EAAY,EACrB1N,SAAU,SAAClK,GACV4E,GAAgB,GAChBiT,EAAa7X,EAAIwM,OAAOsL,QAAU,GAAK,EACxC,OAGF,qBAAI7S,UAAU,2BAA0B,SAClC,OAAJsP,QAAI,IAAJA,KAAM0B,SACA,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,SAASrM,KAAI,SAACyN,EAASxN,GAAO,OACpC,qBAAI5E,UAAU,uBAAsB,SACnC,eAAC,GAAgB,CAChBoS,QAASA,EACT/D,OAAQwG,EACRzY,SAAUA,EACVgG,SAAUuR,EAAuB,OAARvR,QAAQ,IAARA,OAAQ,EAARA,EAAU4O,SAAUoB,EAAQhX,IACrDoX,qBAAsBT,EACtBU,SAAUE,EACVD,gBAAyB,OAARtQ,QAAQ,IAARA,OAAQ,EAARA,EAAU2O,kBAC3BpR,gBAAiBA,KATuBiF,EAWrC,IAEL,QAGL,sBAAKuB,SAAU2O,EAAUpN,OAAS,GAAG,SACnCgD,SAAS4K,KAAKC,aAAe7K,SAAS4K,KAAKE,YAC3C,eAAC,KAAmB,CAAC/N,MAAM,OAAOgO,OAAQ,IAAI,SAC7C,gBAAC,KAAS,CAAC1c,KAAM+b,EAAWY,OAAQ,CAAEC,IAAK,GAAIC,MAAO,GAAIC,KAAM,EAAGC,OAAQ,GAAI,UAC9E,gCACC,kCAAgB1a,GAAG,UAAU2a,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAG,UACvD,uBAAMC,OAAO,KAAKC,UAAU,UAAUC,YAAa,KACnD,uBAAMF,OAAO,MAAMC,UAAU,UAAUC,YAAa,SAGtD,eAAC,KAAK,CAACC,QAAQ,OAAOC,SAAU,EAAGC,KAAM,CAAEC,KAAM,wBACjD,eAAC,KAAK,CAACC,UAAU,EAAOC,OAAQ,CAAC,EAAG,IAAKH,KAAM,CAAEC,KAAM,sBAAwBG,UAAW,IAC1F,eAAC,KAAO,CAACC,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,qBACvE,eAAC,KAAI,CAACrT,KAAK,WAAW4S,QAAQ,uCAASU,OAAO,UAAUC,YAAa,EAAGR,KAAK,uBAI/E,eAAC,KAAmB,CAAChP,MAAM,OAAOgO,OAA2B,GAAnBX,EAAUpN,OAAY,SAC/D,gBAAC,KAAS,CAAC3O,KAAM+b,EAAWY,OAAQ,CAAEC,IAAK,GAAIC,MAAO,GAAIC,KAAM,EAAGC,OAAQ,GAAKoB,OAAO,WAAU,UAChG,gCACC,kCAAgB9b,GAAG,UAAU2a,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAG,UACvD,uBAAMC,OAAO,KAAKC,UAAU,UAAUC,YAAa,KACnD,uBAAMF,OAAO,MAAMC,UAAU,UAAUC,YAAa,SAGtD,eAAC,KAAK,CAACC,QAAQ,OAAOC,SAAU,EAAGC,KAAM,CAAEC,KAAM,sBAAwB/S,KAAK,aAC9E,eAAC,KAAK,CAACgT,UAAU,EAAOC,OAAQ,CAAC,EAAG,IAAKH,KAAM,CAAEC,KAAM,sBAAwBG,UAAW,EAAGlT,KAAK,WAClG,eAAC,KAAO,CAACmT,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,qBACvE,eAAC,KAAI,CAACrT,KAAK,WAAW4S,QAAQ,uCAASU,OAAO,UAAUC,YAAa,EAAGR,KAAK,4BAMlF,uBAAKzW,UAAU,uBAAuBmG,OAAQ3D,EAAYkF,OAAS,EAAE,UACpE,4GACA,eAAC,GAAe,CAAC3B,KAAMvD,eAK3B,sBAAKxC,UAAU,mCAAmCmG,QAASrH,EAAwB,SAClF,yBACCkB,UAAU,oCACVE,QAAS,YAxJb,WACC,IAAI8Q,EAAW,GACf,IAAK,IAAIoB,KAAWhQ,EAAS4O,SAAU,CACtC,IAAIkD,EAAe9R,EAAS4O,SAASoB,GACjC+B,EAAUzJ,SAAS0J,eAAe,YAAD,OAAaF,EAAa7B,UAAWQ,QAEtEsB,KAD4B,OAAZD,QAAY,IAAZA,OAAY,EAAZA,EAAc5R,QAAS,GACZ0O,EAAS3Q,KAAK,CAAEgS,QAAS6B,EAAa7B,QAAS/P,MAAO6R,EAAU,GAAK,GACrG,CACApC,EAAkB,CAAEf,YAAY6D,GAChCjE,EAAsBiE,EAAShP,GAC/BlG,GAAgB,EACjB,CA8IK0U,EACD,EAAE,wEAMP,KC7Pe8C,I,OCkBKtX,aAAS,SAAChI,GAAW,IAAD,MAC/BuE,EAAaqC,GAAbrC,SACAiD,EAAkBX,GAAlBW,cACAiR,EAAqIgC,GAArIhC,eAAgBhB,EAAqHgD,GAArHhD,KAAMC,EAA+G+C,GAA/G/C,UAAWwC,EAAoGO,GAApGP,kBAAmBV,EAAiFiB,GAAjFjB,uBAAwBjP,EAAyDkQ,GAAzDlQ,SAAUK,EAA+C6P,GAA/C7P,cAAeD,EAAgC8P,GAAhC9P,YAAaE,EAAmB4P,GAAnB5P,eAEtH5C,EAAUC,cACd,EAAiD+J,cAA3C+K,EAAO,EAAPA,QAASzB,EAAa,EAAbA,cAAeC,EAAc,EAAdA,eAC9B,EAA4Bvb,mBAAS,IAAG,oBAAjCuK,EAAM,KAAE0H,EAAS,KACxB,EAAgCjS,oBAAU,GAAE,oBAArCqS,EAAQ,KAAEC,EAAW,KAkD5B,OAhDAnR,qBACC,WACC8Q,EAAU,IACVK,GAAa,GACbkG,EAAeuE,EAASzB,EAAeC,EACxC,GAEA,CAACwB,EAASzB,EAAeC,EAAgB/C,IAG1CrX,qBACC,WACKmD,EAAUiV,EAAuBwD,EAASzB,EAAeC,IAE5DtJ,EAAU,IACVK,GAAa,GAEf,GAEA,CAAChO,EAAUyY,EAASzB,EAAeC,IAGpCpa,qBAAU,WAAO,IAAD,EACfyR,SAASlF,OAAY,OAAJ8J,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY0F,WAAY,OAAY,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,KACxD,GAAG,CAACkG,IAEJrW,qBACC,WACa,OAARmJ,QAAQ,IAARA,KAAUC,OAAQ0H,EAAU3H,EAASC,QACpC0H,EAAU,KAEH,OAAR3H,QAAQ,IAARA,OAAQ,EAARA,EAAUE,QAAS,EAAG8H,EAAYhI,EAASE,OAC1C8H,GAAa,EACnB,GAEA,CAAChI,IAGFnJ,qBAAU,WACLsW,EAAUnL,WAAW,WAAWZ,IAAMtG,MAAM,0FAAD,OAAqBqS,GACrE,GAAG,CAACA,IACJtW,qBAAU,WACLwJ,EAAc2B,WAAW,WAAWZ,IAAMtG,MAAM,wPAAD,OAAiDuF,GACrG,GAAG,CAACA,IACJxJ,qBAAU,WACLyJ,EAAe0B,WAAW,WAAWZ,IAAMtG,MAAM,sGAAD,OAAuBwF,GAC5E,GAAG,CAACA,IAGH,uBAAK1C,UAAU,eAAc,UAC5B,eAAC,GAAK,CAACA,UAAU,2BAA2B3H,IAAS,OAAJiX,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY6F,qBAC7D,eAAC,KAAc,CAACtK,OAAsB,YAAd0E,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,SAC1E,uBAAK/G,UAAU,qBAAoB,UAClC,uBAAKA,UAAU,uBAAsB,UACpC,sBAAKA,UAAU,uBAAsB,SACpC,eAAC,GAAK,CAAC3H,IAAS,OAAJiX,QAAI,IAAJA,OAAI,EAAJA,EAAM8H,WAAale,IAAI,OAEpC,uBAAK8G,UAAU,qBAAoB,UAClC,sBAAIA,UAAU,4BAA2B,UACxC,oBACCC,KAAM+F,OAAOC,SAASC,OAAS,SAAW2O,EAC1C3U,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWwU,GACxB1U,EAAEC,gBACH,EAAE,SACG,OAAJkP,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY0F,YAEb,OAAY,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAMlG,SAEhB,qBAAIpJ,UAAU,+BAA8B,UAAM,OAAJsP,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY8F,oBAAqB,cAAmB,OAAJ9F,QAAI,IAAJA,OAAI,EAAJA,EAAM8D,eAAgB,eAAoB,OAAJ9D,QAAI,IAAJA,OAAI,EAAJA,EAAM+D,kBAC1I,uBAAKrT,UAAU,0BAAyB,UACvC,qBAAGmG,SAAa,OAAJmJ,QAAI,IAAJA,KAAM6D,UAAS,4EAAmB,OAAJ7D,QAAI,IAAJA,OAAI,EAAJA,EAAM6D,YAChD,qBAAGhN,SAAa,OAAJmJ,QAAI,IAAJA,KAAMlC,SAAQ,0IAA+B,OAAJkC,QAAI,IAAJA,OAAI,EAAJA,EAAMlC,WAC3D,qBACCnN,KAAM+F,OAAOC,SAASC,OAAS,SAAW2O,EAAU,WAAazB,EACjElT,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWwU,EAAU,WAAazB,GAC/CjT,EAAEC,gBACH,EAAE,6CACU,OAAJkP,QAAI,IAAJA,OAAI,EAAJA,EAAM8D,oBAGhB,sBAAKjN,QAAS/J,IAAoB,OAARgG,QAAQ,IAARA,KAAU2O,mBAAkB,SACrD,gBAAC,KAAc,CAAClG,OAA0B,YAAlBpI,GAA8C,aAAd8M,EAAyBzE,SAAO,EAAC/D,KAAK,sDAAa,UAC1G,eAAC,GAAM,CACN7B,SAAS,EACTH,cAAeoF,EACflF,SAAU,SAAC3C,GACLlG,GAGJgO,EAAY9H,GACZyP,EAAkB,CAAEf,SAAU,CAAC,CAAEqB,QAAa,OAAJ/C,QAAI,IAAJA,OAAI,EAAJA,EAAMlU,GAAIkH,MAAOA,KAAYuS,IAHvExV,GAKF,EACAW,UAAU,yBAEX,uBAAKA,UAAU,uBAAsB,8DAEpC,2BAAU0D,KAAK,WAAW1D,UAAU,6BAA6B0F,MAAOrD,EAAQ4C,SAAU,SAACqC,GAAK,OAAKyC,EAAUzC,EAAMC,OAAO7B,MAAM,EAAE2P,SAAO,OAE5I,yBACCrV,UAAU,mCACVmG,QAAS/J,IAAoB,OAARgG,QAAQ,IAARA,KAAU2O,mBAC/B7Q,QAAS,WACH9D,EAGJ2V,EAAkB,CAAEf,SAAU,CAAC,CAAEqB,QAAa,OAAJ/C,QAAI,IAAJA,OAAI,EAAJA,EAAMlU,GAAIiH,OAAQA,KAAawS,GAFzExV,GAIF,EAAE,yEAKL,eAAC,GAAU,CAACiD,MAAW,OAAJgN,QAAI,IAAJA,OAAI,EAAJA,EAAMhN,MAAOyE,KAAK,aAAa/G,UAAU,mCAG9D,uBAAKA,UAAU,yBAAwB,UACtC,iCACC,mFACA,sBAAKuL,wBAAyB,CAAEC,OAAY,OAAJ8D,QAAI,IAAJA,OAAI,EAAJA,EAAM7D,eAE/C,uBAAKzL,UAAU,wBAAwBmG,OAAQ3D,EAAYkF,OAAS,EAAE,UACrE,4GACA,eAAC,GAAe,CAAC3B,KAAMvD,iBAO9B,K,kBC3JO,SAAe6U,GAAY,GAAD,gCAKjC,cAFC,OAED,mCALO,WAA2BC,GAAuB,iGACtChX,GAAI/H,IAAI+B,EAAgBgd,EAAS,KAAK,KAAD,EAA9C,OAAHvc,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAMM,SAAewe,GAAY,GAAD,gCAGhC,wDAHM,WAA2BhW,GAAa,iGAC5BjB,GAAI/H,IAAIiC,EAAkB,CAAEkH,OAAQ,CAAEH,MAAOA,KAAW,KAAD,EAAhE,OAAHxG,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAEM,SAAemR,GAAc,EAAD,mCAGlC,wDAHM,WAA6BsN,EAAuBF,GAAuB,iGAC/DhX,GAAIrE,IAAI3B,EAAgBgd,EAAS,WAAYE,GAAc,KAAD,EAAnE,OAAHzc,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAEM,SAAe0e,GAAW,EAAD,yCAS/B,wDATM,WACNH,EACA9V,EACAkW,EACAnW,EACAoW,GAAiB,iGAECrX,GAAI/H,IAAI+B,EAAgBgd,EAAS,QAAS,CAAE5V,OAAQ,CAAEF,KAAMA,EAAMG,UAAW+V,EAAenW,MAAOA,EAAOoW,QAASA,KAAa,KAAD,EAAxI,OAAH5c,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAEM,SAAe6e,GAAc,EAAD,qCAGlC,wDAHM,WAA6BN,EAAgBO,EAAiBC,GAAsB,iGACxExX,GAAIyX,OAAOzd,EAAgBgd,EAAS,QAAS,CAAEve,KAAM,CAAE2K,KAAMmU,EAASzc,GAAI0c,KAAW,KAAD,EAA7F,OAAH/c,EAAG,yBACFA,GAAG,4CACV,sBAEM,SAAeid,GAAkB,EAAD,uCAUvC,cAFC,OAED,mCAVO,WACNxW,EACAkW,EACAnW,EACAoW,GAAiB,iGAECrX,GAAI/H,IAAI+B,0BAAgC,CAAEoH,OAAQ,CAAEF,KAAMA,EAAMG,UAAW+V,EAAenW,MAAOA,EAAOoW,QAASA,KAAa,KAAD,EAAtI,OAAH5c,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAKM,SAAekf,KAAe,gCAKrC,cAFC,OAED,mCALO,8GACY3X,GAAI/H,IAAIgC,GAAmB,KAAD,EAAnC,OAAHQ,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAKM,SAAemf,KAAe,gCAKrC,cAFC,OAED,mCALO,8GACY5X,GAAI/H,IAAIkC,GAAmB,KAAD,EAAnC,OAAHM,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAKM,SAAeof,GAAkB,GAAD,gCAGtC,wDAHM,WAAiCC,GAAa,iGAClC9X,GAAIvE,MAAMtB,EAAmB2d,GAAU,KAAD,EAA/C,OAAHrd,EAAG,yBACFA,EAAIhC,MAAI,4CACf,sBAQA,wDANM,WAA2B2I,GAGjC,iGACuBpB,GAAI/H,IAAI,qBAAsB,CAACmJ,OAAQA,IAAS,KAAD,EAAxD,OAAR/I,EAAQ,yBACPA,EAASI,MAAI,4CACpB,sBC5EwD,IAuBnDsf,GAAM,aAWX,aAAe,IAAD,gCAVdC,MAA8B,CAAEC,OAAQ,GAAI/W,KAAM,EAAGD,MAAO,IAAK,KACjEiX,OAAgC,CAAED,OAAQ,GAAI/W,KAAM,EAAGD,MAAO,IAAK,KACnEkX,MAA8B,CAAEF,OAAQ,GAAI/W,KAAM,EAAGD,MAAO,IAAK,KACjEmX,MAA8B,CAAEH,OAAQ,GAAI/W,KAAM,EAAGD,MAAO,IAAK,KACjEoX,MAAgB,CAAEL,MAAO,GAAIG,MAAO,GAAID,OAAQ,GAAIjX,MAAO,IAAK,KAChEqX,WAA4B,OAAO,KACnCC,YAA6B,OAAO,KACpCC,WAA4B,OAAO,KACnCC,WAA4B,OAAO,KAMnCC,YAAW,iDAAG,WAAOzX,GAAa,2EAC7B,EAAKoX,MAAMpX,QAAUA,IACxB,EAAKoX,MAAMM,aAAe1X,EAC1BsB,GAA6BtB,GAAO1E,KAAK,EAAKqc,yBAC9C3M,GAA+BhL,GAAO1E,KAAK,EAAKsc,0BAChDtJ,GAA6BtO,GAAO1E,KAAK,EAAKuc,0BAC9C,2CACD,mDAPU,GAOV,KACDF,wBAA0B,SAACzb,GAC1B,EAAKkb,MAAML,MAAQ7a,CACpB,EAAE,KACF0b,yBAA2B,SAAC1b,GAC3B,EAAKkb,MAAMH,OAAS/a,CACrB,EAAE,KACF2b,wBAA0B,SAAC3b,GAC1B,EAAKkb,MAAMF,MAAQhb,CACpB,EAAE,KAEF6D,YAAW,iDAAG,WAAOC,GAAa,2EACjC,EAAKqX,WAAa,UAClB/V,GAAyBtB,EAAO,EAAG,IAAI1E,MAAK,SAAC9B,GAAG,OAAK,EAAKse,mBAAmBte,EAAKwG,EAAM,GAAE,EAAK+X,oBAAoB,2CACnH,mDAHU,GAGV,KACDD,mBAAqB,SAAC5b,EAAoB8D,GACzC,EAAK+W,MAAQ,CAAEC,OAAQ9a,EAAQ+D,KAAM,EAAGD,QAAOgY,MAAO9b,EAAOiK,OAAS,IACtE,EAAKkR,WAAa,MACnB,EAAE,KACFU,mBAAqB,SAACpc,GACrBsG,IAAMtG,MAAM,iGAAD,OAAuBA,IAClC,EAAK0b,WAAa,UAAY1b,CAC/B,EAAE,KACFsc,UAAS,gCAAG,2FACa,YAApB,EAAKZ,aAA4B,EAAKN,MAAMiB,MAAK,iDACrD,EAAKX,WAAa,UAClB/V,GAAyB,EAAKyV,MAAM/W,MAAO,EAAK+W,MAAM9W,KAAO,EAAG,IAAI3E,KAAK,EAAK4c,iBAAkB,EAAKC,kBAAkB,2CACvH,KACDD,iBAAmB,SAAChc,GACnB,EAAK6a,MAAQ,CAAEC,OAAO,GAAD,oBAAM,EAAKD,MAAMC,QAAM,aAAK9a,IAAS+D,KAAM,EAAK8W,MAAM9W,KAAO,EAAGD,MAAO,EAAK+W,MAAM/W,MAAOgY,MAAO9b,EAAOiK,OAAS,IACrI,EAAKkR,WAAa,MACnB,EAAE,KACFc,iBAAmB,SAACxc,GACnBsG,IAAMtG,MAAM,iGAAD,OAAuBA,IAClC,EAAK0b,WAAa,UAAY1b,CAC/B,EAAE,KAEF8O,aAAY,iDAAG,WAAOzK,GAAa,2EAClC,EAAKsX,YAAc,UACnBtM,GAA2BhL,EAAO,GAAG1E,MAAK,SAAC9B,GAAG,OAAK,EAAK4e,oBAAoB5e,EAAKwG,EAAM,GAAE,EAAKqY,qBAAqB,2CACnH,mDAHW,GAGX,KACDD,oBAAsB,SAAClc,EAAa8D,GACnC,EAAKiX,OAAS,CAAED,OAAQ9a,EAAOoc,QAASrY,KAAM,EAAGD,QAAOgY,MAAO9b,EAAO+D,OAAS/D,EAAOqc,aAAsC,IAAvBrc,EAAOqc,aAC5G,EAAKjB,YAAc,MACpB,EAAE,KACFe,oBAAsB,SAAC1c,GACtBsG,IAAMtG,MAAM,yHAAD,OAA2BA,IACtC,EAAK2b,YAAc,UAAY3b,CAChC,EAAE,KACF6c,WAAU,gCAAG,2FACa,YAArB,EAAKlB,cAA6B,EAAKL,OAAOe,MAAK,iDACvD,EAAKV,YAAc,UACnBtM,GAA2B,EAAKiM,OAAOjX,MAAO,EAAKiX,OAAOhX,KAAO,GAAG3E,KAAK,EAAKmd,kBAAmB,EAAKC,mBAAmB,2CACzH,KACDD,kBAAoB,SAACvc,GACpB,EAAK+a,OAAS,CAAED,OAAO,GAAD,oBAAM,EAAKC,OAAOD,QAAM,aAAW,OAAN9a,QAAM,IAANA,OAAM,EAANA,EAAQoc,UAAUrY,KAAM,EAAKgX,OAAOhX,KAAO,EAAGD,MAAO,EAAKiX,OAAOjX,MAAOgY,MAAO9b,EAAO+D,OAAS/D,EAAOqc,aACzJ,EAAKjB,YAAc,MACpB,EAAE,KACFoB,kBAAoB,SAAC/c,GACpBsG,IAAMtG,MAAM,yHAAD,OAA2BA,IACtC,EAAK2b,YAAc,UAAY3b,CAChC,EAAE,KAEF2R,YAAW,iDAAG,WAAOtN,EAAeC,GAAa,2EAChD,EAAKsX,WAAa,UAClBjJ,GAAyBtO,EAAOC,GAAM3E,MAAK,SAAC9B,GAAG,OAAK,EAAKmf,mBAAmBnf,EAAKwG,EAAM,GAAE,EAAK4Y,oBAAoB,2CAClH,qDAHU,GAGV,KACDD,mBAAqB,SAACzc,EAAa8D,GAClC,EAAKkX,MAAQ,CAAEF,OAAQ9a,EAAOoc,QAASrY,KAAM,EAAGD,QAAOgY,MAAO9b,EAAO+D,OAAS/D,EAAOqc,aAAsC,IAAvBrc,EAAOqc,aAC3G,EAAKhB,WAAa,MACnB,EAAE,KACFqB,mBAAqB,SAACjd,GACrBsG,IAAMtG,MAAM,yHAAD,OAA2BA,IACtC,EAAK4b,WAAa,UAAY5b,CAC/B,EAAE,KACFkd,UAAS,gCAAG,2FACa,YAApB,EAAKtB,aAA4B,EAAKL,MAAMc,MAAK,iDACrD,EAAKT,WAAa,UAClBjJ,GAAyB,EAAK4I,MAAMlX,MAAO,EAAKkX,MAAMjX,KAAO,GAAG3E,KAAK,EAAKwd,iBAAkB,EAAKC,kBAAkB,2CACnH,KACDD,iBAAmB,SAAC5c,GACnB,EAAKgb,MAAQ,CAAEF,OAAO,GAAD,oBAAM,EAAKE,MAAMF,QAAM,aAAK9a,EAAOoc,UAAUrY,KAAM,EAAKiX,MAAMjX,KAAO,EAAGD,MAAO,EAAKkX,MAAMlX,MAAOgY,MAAO9b,EAAO+D,OAAS/D,EAAOqc,aACpJ,EAAKhB,WAAa,MACnB,EAAE,KACFwB,iBAAmB,SAACpd,GACnBsG,IAAMtG,MAAM,+HAAD,OAA4BA,IACvC,EAAK4b,WAAa,UAAY5b,CAC/B,EAAE,KAEFqa,YAAW,iDAAG,WAAOhW,GAAa,2EACjC,EAAKwX,WAAa,UAClBwB,GAAyBhZ,GAAO1E,KAAK,EAAK2d,mBAAoB,EAAKC,oBAAoB,2CACvF,mDAHU,GAGV,KACDD,mBAAqB,SAAC/c,GACrB,EAAKib,MAAQ,CAAEH,OAAQ9a,EAAQ+D,KAAM,EAAGD,MAAO,IAC/C,EAAKwX,WAAa,MACnB,EAAE,KACF0B,mBAAqB,SAACvd,GACrBsG,IAAMtG,MAAM,6JAAD,OAAiCA,IAC5C,EAAK6b,WAAa,UAAY7b,CAC/B,EA9GCqB,YAAmBC,KACpB,IAkHckc,GAFK,IAAIrC,G,OC1GTsC,IC9CAA,GDIf,SAAoB,GAAsB,IAAD,EAAnB5U,EAAI,EAAJA,KAAM/F,EAAS,EAATA,UACvBF,EAAUC,cAEd,OACC,uBAAKC,UAAW0E,KAAW,cAAe1E,GAAW,UACpD,qBACCC,KAAM+F,OAAOC,SAASC,OAASH,EAAK6U,KACpC1a,QAAS,SAACC,GACTL,EAAQO,KAAK0F,EAAK6U,MAClBza,EAAEC,gBACH,EACAoF,MAAOO,EAAKqD,KAAK,UAEL,QAAX,EAAArD,EAAKgF,cAAM,OAAX,EAAa8P,SAAS,QAClB,sBAAK7a,UAAU,sBAAsBwH,MAAO,CAAEmD,gBAAiB5E,EAAKgF,UACpE,eAAC,GAAK,CAAC/K,UAAU,sBAAsB3H,IAAK0N,EAAKgF,SAEtD,uBAAK/K,UAAU,oBAAmB,UACjC,sBAAKA,UAAU,oBAAmB,SACjC,8BAAK+F,EAAKqD,SAEX,oBAAGpJ,UAAU,oBAAmB,SAAE+F,EAAKkF,qBAGzC,uBAAKjL,UAAU,uBAAsB,UACpC,qBAAGA,UAAU,sBAAsBmG,QAASJ,EAAKmF,OAAO,uCAChDnF,EAAKmF,UAEb,qBAAGlL,UAAU,oBAAoBmG,QAASJ,EAAK+U,KAAK,uCAC5C/U,EAAK+U,QAEb,qBAAG9a,UAAU,yBAAyBmG,QAASJ,EAAKoF,UAAU,qEACjDpF,EAAKoF,aAElB,oBAAGnL,UAAU,wBAAwBmG,QAASJ,EAAK0F,SAAS,SAC1D1F,EAAK0F,gBAKX,E,OExBesP,ICpBAA,GDGf,SAA0B,GAAuC,IAArC3R,EAAI,EAAJA,KAAM4R,EAAO,EAAPA,QAAS7U,EAAM,EAANA,OAAQnG,EAAS,EAATA,UAClD,OACC,uBAAKmG,OAAQA,EAAQnG,UAAW0E,KAAW,eAAgB1E,GAAW,UACrE,8BAAKoJ,IACL,sBAAKpJ,UAAU,qBAAoB,SAClC,uBAAKA,UAAU,sBAAqB,UAC3B,OAAPgb,QAAO,IAAPA,OAAO,EAAPA,EAASrW,KAAI,SAACsW,GAAM,OACpB,eAAC,GAAU,CAAClV,KAAMkV,EAAwBjb,UAAU,sBAArBib,EAAO7f,GAAqC,KAEpE,OAAP4f,QAAO,IAAPA,OAAO,EAAPA,EAAStT,QAAS,EAAC,UAAM0B,EAAI,4DAAgB,UAKnD,EE4Be8R,OA5Cf,SAAmB,GAAoB,IAAlB5C,EAAK,EAALA,MAAOnS,EAAM,EAANA,OACrB6U,EAAUG,mBACf,kBACM,OAAL7C,QAAK,IAALA,OAAK,EAALA,EAAO8C,QAAO,SAACC,EAAYnZ,GAC1B,IAAI+Y,EAAS,CACZ7R,KAAMlH,EAAKkH,KACXhO,GAAI8G,EAAK9G,GACT2P,OAAO,OAAD,OAAS7I,EAAKoZ,iBAAgB,KACpCV,KAAM,SAAW1Y,EAAKJ,KACtBoJ,OAAQ,GACR4P,KAAM,GACN3P,UAAW,IAGZ,GAAIjJ,EAAKqZ,SAAU,CAClB,IAAIC,EAAMtZ,EAAKqZ,SAASE,MAAM,KAC1B1I,EAAUyI,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMA,EAAI,GAChDP,EAAOhQ,aAAe8H,CACvB,MAAOkI,EAAOhQ,aAAe,GAkB7B,OAhBI/I,EAAKgJ,SACR+P,EAAO/P,OAAShJ,EAAKgJ,OAAOkQ,QAAO,SAACM,EAAeC,GAAK,gBAAQD,EAAa,aAAKC,EAAMvS,KAAI,GAAI,IAAIwS,MAAM,IAEvG1Z,EAAK4Y,OACRG,EAAOH,KAAO5Y,EAAK4Y,KACjBM,QAAO,SAACM,EAAeG,EAAK5N,GAC5B,OAAIA,EAAQ,EAAS,GAAN,OAAUyN,EAAa,aAAKG,EAAIzS,MACxCsS,CACR,GAAG,IACFE,MAAM,IAEL1Z,EAAKiJ,YACR8P,EAAO9P,UAAYjJ,EAAKiJ,UAAUiQ,QAAO,SAACM,EAAeI,GAAQ,gBAAQJ,EAAa,aAAKI,EAASA,SAAS1S,KAAI,GAAI,IAAIwS,MAAM,IAG5HX,GAAQI,EAAWhb,KAAK4a,GACrBI,CACR,GAAG,GAAG,GACP,CAAC/C,IAGF,OAAO,eAAC,GAAgB,CAAClP,KAAK,2BAAOjD,OAAQA,EAAQ6U,QAASA,GAC/D,ECfee,OA3Bf,SAAoB,GAAqB,IAAnBvD,EAAM,EAANA,OAAQrS,EAAM,EAANA,OACvB6U,EAAUG,mBACf,kBACO,OAAN3C,QAAM,IAANA,OAAM,EAANA,EAAQ4C,QAAO,SAACC,EAAYjP,GAC3B,IAAI6O,EAAS,CACZ7R,KAAMgD,EAAM5G,MACZpK,GAAIgR,EAAMhR,GACV2P,OAAQqB,EAAMa,cACd2N,KAAM,UAAYxO,EAAMhR,GACxBqQ,SAAUW,EAAMX,UAGjB,GAAIW,EAAMnB,aAAc,CACvB,IAAIuQ,EAAMpP,EAAMnB,aAAawQ,MAAM,KAC/B1I,EAAUyI,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMA,EAAI,GAChDP,EAAOhQ,aAAe8H,CACvB,MAAOkI,EAAOhQ,aAAe,GAG7B,OADIgQ,GAAQI,EAAWhb,KAAK4a,GACrBI,CACR,GAAG,GAAG,GACP,CAAC7C,IAGF,OAAO,eAAC,GAAgB,CAACpP,KAAK,uCAASjD,OAAQA,EAAQ6U,QAASA,GACjE,ECEegB,OA3Bf,SAAmB,GAAoB,IAAlBvD,EAAK,EAALA,MAAOtS,EAAM,EAANA,OACrB6U,EAAUG,mBACf,kBACM,OAAL1C,QAAK,IAALA,OAAK,EAALA,EAAO2C,QAAO,SAACC,EAAY/L,GAC1B,IAAI2L,EAAS,CACZ7R,KAAMkG,EAAKlG,KACXhO,GAAIkU,EAAKlU,GACT2P,OAAQuE,EAAKrC,cACb2N,KAAM,SAAWtL,EAAKlU,GACtBqQ,SAAU6D,EAAK7D,UAGhB,GAAI6D,EAAKiF,eAAgB,CACxB,IAAIiH,EAAMlM,EAAKiF,eAAekH,MAAM,KAChC1I,EAAUyI,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMA,EAAI,GAChDP,EAAOhQ,aAAe8H,CACvB,MAAOkI,EAAOhQ,aAAe,GAG7B,OADIgQ,GAAQI,EAAWhb,KAAK4a,GACrBI,CACR,GAAG,GAAG,GACP,CAAC5C,IAGF,OAAO,eAAC,GAAgB,CAACrP,KAAK,6CAAUjD,OAAQA,EAAQ6U,QAASA,GAClE,E,cCNeiB,ICpBAA,GDGf,SAAkB,GAAsB,IAApB9gB,EAAI,EAAJA,KAAM6E,EAAS,EAATA,UACrBF,EAAUC,cAEd,OACC,qBACCE,KAAM+F,OAAOC,SAASC,OAAS,SAAW/K,EAAKC,GAC/C8E,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWlF,EAAKC,IAC7B+E,EAAEC,gBACH,EACAJ,UAAW0E,KAAW,YAAa1E,GAAW,UAC9C,sBAAKA,UAAU,mBAAmBwH,MAAO,CAAEmD,gBAAgB,OAAD,OAAS,wEAAuE,QAC1I,sBAAK3K,UAAU,kBAAiB,SAAE7E,EAAKR,aAG1C,EEHeuhB,ICfAA,GDIf,SAAqB,GAAuB,IAArBxD,EAAK,EAALA,MAAO1Y,EAAS,EAATA,UAC7B,OACC,uBAAKA,UAAW0E,KAAW,gBAAiB1E,GAAW,UACrD0Y,EAAM/T,KAAI,SAACxJ,GAAI,OACf,eAAC,GAAQ,CAACA,KAAMA,EAAoB6E,UAAU,yBAAnB7E,EAAKC,GAAwC,IAExEsd,EAAMhR,OAAS,EAAI,mIAA4B,KAGnD,EEHeyU,OATf,SAAmB,GAAoB,IAAlBzD,EAAK,EAALA,MAAOvS,EAAM,EAANA,OAC3B,OACC,uBAAKA,OAAQA,EAAO,UACnB,2GACA,eAAC,GAAW,CAACuS,MAAOA,MAGvB,E,OCuBe0D,IC/BAA,GDWf,SAAuB,GAAqG,IAAnGC,EAAU,EAAVA,WAAYC,EAAgB,EAAhBA,iBAAkBC,EAAc,EAAdA,eAAgBpW,EAAM,EAANA,OAAQqW,EAAQ,EAARA,SAAUxc,EAAS,EAATA,UACxF,OACC,uBAAKmG,OAAQA,EAAQnG,UAAW0E,KAAW,kBAAmB1E,GAAW,UACxE,sBAAKA,UAAU,wBAAuB,SACpCqc,EAAW1X,KAAI,SAAC8X,EAAU7X,GAAO,OACjC,yBACC5E,UAAW0E,KAAW,uBAAwB6X,IAAmBE,EAAW,8BAAgC,IAE5Gvc,QAAS,WACRoc,EAAiBG,EAClB,EAAE,SACDA,GAJI7X,EAKG,MAGX,sBAAK5E,UAAU,2BAA0B,SAAEwc,MAG9C,E,OEbA,IChBeE,GDgBI7c,aAAS,WAC3B,IAAM2J,EAAQkR,GAEV5a,EAAUC,cACRwB,EAAeuI,cAAfvI,MACN,EAAkCzJ,mBAAS,IAAG,oBAAvC6kB,EAAS,KAAEC,EAAY,KAExBC,EAAYC,mBACZC,EAAWD,mBAIjB,GE5Bc,SAAmBD,EAAWE,EAAUC,GACtD,IAAMnd,EAAWid,mBAEjB7jB,qBAAU,WACT,IAAMgkB,EAAU,CACfC,KAAML,EAAUM,QAChBC,WAAY,MACZC,UAAW,GAUZ,OARAxd,EAASsd,QAAU,IAAIG,sBAAqB,YAAc,kBAAN,GACxCC,gBACVP,GAEF,GAAGC,GAEHpd,EAASsd,QAAQK,QAAQT,EAASI,SAE3B,WAENtd,EAASsd,QAAQM,UAAUV,EAASI,QACrC,CAED,GAAG,CAACH,GACL,CFGqBU,CAAUb,EAAWE,GAAU,kBAInD,WACwB,6BAAnBR,GAA2B/S,EAAMgQ,YACd,yCAAnB+C,GAA6B/S,EAAMuQ,aAChB,+CAAnBwC,GAA8B/S,EAAM4Q,WACzC,CARyDuD,EAAY,IAEzB7lB,mBAAS,6BAAO,oBAArDykB,EAAc,KAAEqB,EAAiB,KAsBxC,OAdA3kB,qBACC,WACwB,6BAAnBsjB,GAA2B/S,EAAMlI,YAAYC,GAC1B,yCAAnBgb,GAA6B/S,EAAMwC,aAAazK,GAC7B,+CAAnBgb,GAA8B/S,EAAMqF,YAAYtN,GAC7B,6EAAnBgb,GAAmC/S,EAAM+N,YAAYhW,GACzDqb,EAAarb,GACbmJ,SAASlF,MAAQ,gCAClB,GAEA,CAACjE,EAAOgb,IAKR,sBAAKvc,UAAU,cAAa,SAC3B,uBAAKA,UAAU,oBAAmB,UACjC,wBACCA,UAAU,oBACV6d,SAAU,SAACvW,GAGV,OAFAA,EAAMlH,iBACNN,EAAQO,KAAK,WAAasc,IACnB,CACR,EAAE,UACF,iEACA,eAAC,KAAQ,CAAC3c,UAAU,2BACpB,wBACCA,UAAU,0BACV0D,KAAK,OACLoa,YAAY,iCACZpY,MAAOiX,EACP1X,SAAU,SAAC9E,GAAC,OAAKyc,EAAazc,EAAEoH,OAAO7B,MAAM,OAG/C,eAAC,GAAa,CACb2W,WAAY,CAAC,2BAAQ,uCAAU,6CAAW,4EAC1CE,eAAgBA,EAChBD,iBAAkB,SAACG,GAClBmB,EAAkBnB,EACnB,EAAE,SACF,uBAAKzc,UAAU,uBAAuB+d,IAAKlB,EAAU,UAE/B,6BAAnBN,GACA,eAAC,KAAc,CAAC1R,OAA6B,YAArBrB,EAAMoP,WAA0B9N,SAAO,EAAC/D,KAAK,uDAAc,SAClF,eAAC,GAAS,CAACuR,MAAO9O,EAAM8O,MAAMC,OAAQpS,OAA2B,6BAAnBoW,MAM7B,yCAAnBA,GACC,eAAC,KAAc,CAAC1R,OAA8B,YAAtBrB,EAAMqP,YAA2B/N,SAAO,EAAC/D,KAAK,mEAAgB,SACrF,eAAC,GAAU,CAACyR,OAAQhP,EAAMgP,OAAOD,OAAQpS,OAA2B,yCAAnBoW,MAMhC,+CAAnBA,GACC,eAAC,KAAc,CAAC1R,OAA6B,YAArBrB,EAAMsP,WAA0BhO,SAAO,EAAC/D,KAAK,yEAAiB,SACrF,eAAC,GAAS,CAAC0R,MAAOjP,EAAMiP,MAAMF,OAAQpS,OAA2B,+CAAnBoW,MAM7B,6EAAnBA,GACC,eAAC,KAAc,CAAC1R,OAA6B,YAArBrB,EAAMuP,WAA0BjO,SAAO,EAAC/D,KAAK,6GAAuB,SAC3F,eAAC,GAAS,CAAC2R,MAAOlP,EAAMkP,MAAMH,OAAQpS,OAA2B,6EAAnBoW,MAKjD,sBAAKwB,IAAKhB,EAAUvV,MAAO,CAAEiO,OAAQ,eAM3C,IGnHeuI,I,OCOKne,aAAS,SAAChI,GAC7B,IAAQ+F,EAAoCa,GAApCb,aAAcrB,EAAsBkC,GAAtBlC,kBAClBuD,EAAUC,cAEVke,EAASjY,OAAOC,SAASgY,OACzBvc,EAAS,IAAIwc,gBAAgBD,GAC7BniB,EAAQ4F,EAAOnJ,IAAI,SACnBgD,EAAQmG,EAAOnJ,IAAI,SAkBvB,OAhBAU,qBACC,WACC2E,EAAa9B,EAAOP,EACrB,GAEA,IAGDtC,qBACC,WACKsD,EAAkB6H,WAAW,UAAUtE,EAAQO,KAAK,WACzD,GAEA,CAAC9D,IAID,sBAAKyD,UAAU,eAAc,SAC5B,qBAAImG,OAA8B,SAAtB5J,EAA8ByD,UAAU,wBAAuB,gJAK9E,KCvCeme,I,OCMate,aAAS,SAAChI,GACrC,IAAQqE,EAA0CuC,GAA1CvC,gBAAiBO,EAAyBgC,GAAzBhC,qBAEzB,EAAgC3E,mBAAS,IAAG,oBAArC8C,EAAQ,KAAEwjB,EAAW,KAC5B,EAA8CtmB,mBAAS,IAAG,oBAAnDumB,EAAe,KAAEC,EAAkB,KAEtCL,EAASjY,OAAOC,SAASgY,OAEzB1iB,EADS,IAAI2iB,gBAAgBD,GACd1lB,IAAI,SAEvB,OACC,sBAAKyH,UAAU,wBAAuB,SACrC,sBAAKA,UAAU,8BAA6B,SAC3C,wBACC6d,SAAU,SAACvW,GACVA,EAAMlH,iBACNlE,EAAgBX,EAAOX,EAAS8K,MACjC,EAAE,UACF,qBAAI1F,UAAU,gCAA+B,mGAC7C,oBAAGA,UAAU,+CAA+CmG,QAAS1J,EAAqB2H,WAAW,UAAU,SAC7G3H,IAEF,oBAAGuD,UAAU,mDAAmDmG,OAAiC,SAAzB1J,EAAgC,oGAIxG,wBAAO8hB,QAAQ,gBAAe,iFAG9B,wBACC7a,KAAK,WACLtI,GAAG,gBACH4E,UAAU,+BACV0F,MAAO9K,EACPqK,SAAUmZ,IAEX,wBAAOG,QAAQ,uBAAsB,iIAGrC,wBACC7a,KAAK,WACLtI,GAAG,uBACH4E,UAAU,+BACV0F,MAAO2Y,EACPpZ,SAAUqZ,IAGX,yBACC5a,KAAK,SACL1D,UAAU,gCACV6L,SAAWjR,EAAS8K,QAAU2Y,EAAgB3Y,MAAU9K,EAAS8K,MAAMgC,OAAS,EAAG,oEAQzF,KCvDM8W,GAAI,WAST,aAAe,IAAD,gCARdrjB,KAAc,CAAC,EAAE,KACjBsjB,SAAgB,CAAC,EAAE,KACnBC,gBAAuB,CAAEzd,IAAK,IAAK,KACnC0d,UAA2B,OAAO,KAClCC,cAA+B,OAAO,KACtCC,qBAAsC,OAAO,KAC7CC,mBAAoC,OAAO,KAU3CC,YAAW,iDAAG,WAAOpkB,GAAgB,2EACpC,EAAKgkB,UAAY,UACjBpE,GAAyB5f,GAAUkC,KAAK,EAAKmiB,mBAAoB,EAAKC,oBAAoB,2CAC1F,mDAHU,GAGV,KACDD,mBAAqB,SAACvhB,GACrB,EAAKtC,KAAOsC,EACZ,EAAKkhB,UAAY,MAClB,EAAE,KACFM,mBAAqB,SAAC/hB,GACrB,EAAKyhB,UAAY,UAAYzhB,CAC9B,EAAE,KAEFgiB,gBAAe,iDAAG,WAAO5H,EAAgB9V,EAAckW,EAAuBnW,EAAeoW,GAAY,2EACxG,EAAKiH,cAAgB,UACrBrE,GAAwBjD,EAAQ9V,EAAMkW,EAAenW,EAAOoW,GAAS9a,KAAK,EAAKsiB,mBAAoB,EAAKC,oBAAoB,2CAC5H,2DAHc,GAGd,KACDD,mBAAqB,SAAC1hB,GACrB,EAAKghB,SAAWhhB,EAChB,EAAKmhB,cAAgB,MACtB,EAAE,KACFQ,mBAAqB,SAACliB,GACS,MAA1BA,EAAMvE,SAASiD,OAAgB,EAAKgjB,cAAgB,YACnD,EAAKA,cAAgB,UAAY1hB,CACvC,EAAE,KACF0a,cAAa,iDAAG,WAAOC,EAAcC,GAAU,2EAC9C,EAAK8G,cAAgB,UACrBrE,GAA2B,EAAKpf,KAAKC,GAAIyc,EAASC,GAAOjb,MAAK,kBAAM,EAAKwiB,qBAAqBxH,EAASC,EAAM,GAAE,EAAKwH,sBAAsB,2CAC1I,qDAHY,GAGZ,KACDD,qBAAuB,SAACxH,EAAcC,GACrC,IAAIyH,EAAU,EAAKd,SAASxd,IAAIue,QAAO,SAACve,GACvC,QAASA,EAAI7F,KAAO0c,GAAS7W,EAAIyC,OAASmU,EAC3C,IACA,EAAK4G,SAAQ,6BAAQ,EAAKA,UAAQ,IAAExd,IAAKse,IACzC,EAAKX,cAAgB,MACtB,EAAE,KACFU,qBAAuB,SAACpiB,GACO,MAA1BA,EAAMvE,SAASiD,OAAgB,EAAKgjB,cAAgB,YACnD,EAAKA,cAAgB,UAAY1hB,CACvC,EAAE,KAEFuiB,uBAAsB,iDAAG,WAAOnI,EAAgB9V,EAAckW,EAAuBnW,EAAeoW,GAAY,2EAC/G,EAAKkH,qBAAuB,UAC5BtE,GAA+B/Y,EAAMkW,EAAenW,EAAOoW,GAAS9a,KAAK,EAAK6iB,0BAA2B,EAAKC,2BAA2B,2CACzI,2DAHqB,GAGrB,KACDD,0BAA4B,SAACjiB,GAC5B,EAAKihB,gBAAkBjhB,EACvB,EAAKohB,qBAAuB,MAC7B,EAAE,KACFc,0BAA4B,SAACziB,GAC5B,EAAK2hB,qBAAuB,UAAY3hB,CACzC,EAAE,KAEFgN,cAAa,iDAAG,WAAOsN,EAAuBF,GAAuB,2EACpE,EAAKwH,mBAAqB,UAC1BvE,GAA2B/C,EAAcF,GAAQza,KAAK,EAAK+iB,qBAAsB,EAAKC,sBAAsB,2CAC5G,qDAHY,GAGZ,KACDD,qBAAuB,SAACniB,GACvB,EAAKtC,KAAK2kB,YAAcriB,EAAO+Z,aAC/B,EAAKsH,mBAAqB,MAC3B,EAAE,KACFe,qBAAuB,SAAC3iB,GACvB,EAAK4hB,mBAAqB,UAAY5hB,CACvC,EArECqB,YAAmBC,KACpB,CAIC,OAJA,wCAED,WACC,OAAOC,GAAUrC,WAAaoC,KAAKrD,KAAKC,OAASqD,GAAUtD,KAAKC,IAAM,EACvE,KAAC,EAfQ,GAoFK2kB,GAFG,IAAIvB,G,qCCpFPwB,ICPAA,GDEf,SAAqB,GAA6C,IAA3ClC,EAAW,EAAXA,YAAab,EAAO,EAAPA,QAAShY,EAAQ,EAARA,SAAUkB,EAAM,EAANA,OACtD,OAAIA,EAAe,GACP,eAAC,KAAM,CAACnG,UAAU,yBAAyBigB,gBAAiB,cAAeC,SAAS,EAAMpC,YAAaA,EAAa7Y,SAAUA,EAAUgY,QAASA,EAAS9W,OAAQA,GAC/K,E,OEoCega,OAtCf,SAAiB,GAAmB,IAAjBpnB,EAAI,EAAJA,KAAMqnB,EAAM,EAANA,OACxB,OACC,uBAAKpgB,UAAU,WAAU,UACxB,uBAAKA,UAAU,mBAAmBwH,MAAO,CAAE6Y,QAAStnB,EAAKsJ,OAAS,QAAU,QAAS,2CAEpF,sBAAKrC,UAAU,wBAAuB,SAAEjH,EAAKsJ,YAE9C,uBAAKrC,UAAU,iBAAgB,UAC9B,uBAAKA,UAAU,sBAAqB,UACnC,eAAC,GAAK,CAACA,UAAU,mBAAmB3H,IAAKU,EAAKgS,SAC9C,sBAAK/K,UAAU,iBAAgB,SAC9B,qBAAGC,KAAMlH,EAAK6hB,KAAK,cAAG7hB,EAAKqQ,KAAI,YAIjC,uBAAKpJ,UAAU,uBAAsB,UACpC,uBAAKA,UAAU,yBAAwB,iDAEtC,sBAAKA,UAAU,mBAAkB,SAAEjH,EAAK6C,YAEzC,uBAAKoE,UAAU,kBAAiB,UAC/B,iCAAMjH,EAAKuJ,MAAK,SAChB,eAAC,KAAM,CAACtC,UAAU,iCAEqCsgB,IAAvDF,EAAOG,MAAK,SAACC,GAAK,MAAmB,eAAdA,EAAMC,GAAoB,IACjD,GAEA,uBAAKzgB,UAAU,iBAAgB,UAC9B,+BAAMjH,EAAKwJ,aACX,eAAC,KAAO,CAACvC,UAAU,mCAO1B,ECvCA,SAAS0gB,KACR,MAAmD1a,OACnD,MAAO,CACNyB,MAFwB,EAAjBkZ,WAGPlL,OAH6C,EAAnBmL,YAK5B,CAEe,SAASC,KACvB,MAAgD/oB,mBAAS4oB,MAAsB,oBAAxEI,EAAgB,KAAEC,EAAmB,KAW5C,OATA9nB,qBAAU,WACT,SAAS+nB,IACRD,EAAoBL,KACrB,CAGA,OADA1a,OAAOib,iBAAiB,SAAUD,GAC3B,kBAAMhb,OAAOkb,oBAAoB,SAAUF,EAAc,CACjE,GAAG,IAEIF,CACR,C,OCsGeK,IC3HAA,GDUf,SAAmB,GAAoC,IAAlCC,EAAK,EAALA,MAAO7c,EAAQ,EAARA,SAAU6b,EAAM,EAANA,OAAQhX,EAAI,EAAJA,KAC7C,EAA0BtR,mBAAS,IAAG,oBAA/ByJ,EAAK,KAAE8f,EAAQ,KACtB,EAAgCvpB,mBAAS,IAAG,oBAArCwpB,EAAQ,KAAEC,EAAW,KAC5B,EAAwBzpB,mBAAS,GAAE,oBAA5B0J,EAAI,KAAEggB,EAAO,KACpB,EAA0C1pB,mBAAS,IAAG,oBAA/C2pB,EAAa,KAAEC,EAAgB,KACtC,EAAwB5pB,mBAAS,CAAC,GAAE,oBAA7B6pB,EAAI,KAAEC,EAAO,KACpB,EAA0C9pB,mBAAS,IAAG,oBAA/C+pB,EAAa,KAAEC,EAAgB,KACtC,EAAgChqB,oBAAS,GAAK,oBAAvCiqB,EAAQ,KAAEC,EAAW,KACpBva,EAAUoZ,KAAVpZ,MA+BR,OAzBAxO,qBACC,WACCyoB,EACM,OAALN,QAAK,IAALA,OAAK,EAALA,EACG5B,QAAO,SAACyC,GAAI,OAAKA,EAAK7Y,KAAK8Y,cAAcrH,SAAStZ,EAAM2gB,iBAAmBL,EAAchH,SAASoH,EAAKrmB,SAAWimB,EAAcna,OAAS,EAAE,IAC5Iia,MAAK,SAACQ,EAAGC,GACT,IAAIC,EAAQC,EASZ,MARkB,WAAdX,EAAKje,MACR2e,EAAShb,WAAW8a,EAAER,EAAKnB,QAC3B8B,EAASjb,WAAW+a,EAAET,EAAKnB,UAE3B6B,EAASF,EAAER,EAAKnB,OAChB8B,EAASF,EAAET,EAAKnB,QAGb6B,EAASC,EAAeX,EAAKY,MAAQ,GAAK,EAC1CF,EAASC,EAAeX,EAAKY,OAAS,EAAI,EACvC,CACR,IAEH,GAEA,CAACnB,EAAO7f,EAAOsgB,EAAeF,IAI9B,uBAAK3hB,UAAU,aAAY,UAC1B,uBAAKA,UAAU,qBAAoB,UAClC,uBAAKA,UAAU,0BAAyB,UACvC,uBAAKA,UAAU,+BAA8B,UAC5C,wBACC0D,KAAK,OACLoa,YAAY,iCACZ,aAAW,iCACX9d,UAAU,2BACV0F,MAAOnE,EACP0D,SAAU,SAACqC,GACV+Z,EAAS/Z,EAAMC,OAAO7B,MACvB,IAED,yBAAQ1F,UAAU,4BAA4BE,QA5C5B,WACtB8hB,GAAaD,EACd,EA0C2E,SACpEA,EAAW,eAAC,KAAW,IAAM,eAAC,KAAS,SAG1C,uBAAK/hB,UAAU,2BAA2BmG,OAAQ4b,GAAYta,GAAS,IAAI,UAC1E,0BACCzH,UAAU,0BACVmG,YAA0Dma,IAAlDF,EAAOG,MAAK,SAACC,GAAK,MAAmB,UAAdA,EAAMC,GAAe,IACpDvgB,QAAS,WACR0hB,EAAQ,CAAEpB,MAAO,QAAS9c,KAAM,SAAU6e,OAAQZ,EAAKY,OACxD,EAAE,UACF,eAAC,KAAM,IAAG,IAAC,eAAC,KAAY,OAEzB,0BACCviB,UAAU,0BACVmG,YAA+Dma,IAAvDF,EAAOG,MAAK,SAACC,GAAK,MAAmB,eAAdA,EAAMC,GAAoB,IACzDvgB,QAAS,WACR0hB,EAAQ,CAAEpB,MAAO,aAAc9c,KAAM,SAAU6e,OAAQZ,EAAKY,OAC7D,EAAE,UACF,eAAC,KAAO,IAAG,IAAC,eAAC,KAAY,UAG3B,eAAC,GAAW,CACXpc,OAAQ4b,GAAYta,GAAS,IAC7BqW,YAAa,kCACb7Y,SAAU,SAAC9E,GACV2hB,EAAiB3hB,EAAEwE,KAAI,SAAC6d,GAAG,OAAKA,EAAI9c,KAAK,IAC1C,EACAuX,QAAS1Y,OAIX,uBAAKvE,UAAU,2BAA2BmG,OAAQ4b,GAAYta,GAAS,IAAI,UAC1E,wBAAOzH,UAAU,oBAAmB,sHACpC,eAAC,GAAW,CAAC0F,MAAO4b,EAAUpa,IAAK,IAAKC,IAAK,EAAGlC,SAAU,SAACS,GAAK,OAAK6b,EAAY7b,EAAM,EAAE0B,SAAU,CAAC,EAAG,GAAI,GAAI,GAAI,aAGrH,sBAAKpH,UAAU,mBAAkB,SAClB,OAAbyhB,QAAa,IAAbA,OAAa,EAAbA,EAAe7F,OAAOpa,EAAO,GAAK8f,EAAU9f,EAAO8f,GAAU3c,KAAI,SAACsd,EAAMrd,GAAO,OAC/E,eAAC,GAAO,CAAC7L,KAAMkpB,EAAM7B,OAAQA,GAAaxb,EAAW,MAGvD,uBAAK5E,UAAU,qBAAoB,UAClC,eAAC,KAAU,CACVyiB,MAAoB,OAAbhB,QAAa,IAAbA,OAAa,EAAbA,EAAe/Z,OACtB4Z,SAAUA,EACVrc,SAAU,SAAC9E,GACVqhB,EAAQrhB,EACT,EACAgd,QAAS3b,IAEV,eAAC,WAAO,CAACzI,KAAMqoB,GAAgB,GAAI3oB,QAAS2nB,EAAQsC,UAAW,IAAKC,SAAQ,oBAAevZ,EAAI,QAAO,iEAM1G,EEtFewZ,OAlCf,SAAmB,GAAY,IAAVtK,EAAK,EAALA,MACpB,OACC,eAAC,GAAS,CACT8I,MAAY,OAAL9I,QAAK,IAALA,OAAK,EAALA,EAAO3T,KAAI,SAACzC,GAClB,MAAO,CACN0Y,KAAM5U,OAAOC,SAASC,OAAS,SAAWhE,EAAKA,KAAK2gB,UACpDzZ,KAAMlH,EAAKA,KAAK4gB,UAChBlnB,OAAQsG,EAAKtG,OACb0G,MAAOJ,EAAKI,MACZD,OAAQH,EAAKG,OACbE,WAAY8E,WAAWnF,EAAKK,YAC5BwI,OAAQ7I,EAAKA,KAAK6gB,mBAEpB,IACAxe,SAAU,CACT,CAAEmB,MAAO,gEAAesd,MAAO,iEAC/B,CAAEtd,MAAO,iCAASsd,MAAO,kCACzB,CAAEtd,MAAO,6CAAWsd,MAAO,8CAC3B,CAAEtd,MAAO,uCAAUsd,MAAO,yCAE3B5C,OAAQ,CACP,CAAE4C,MAAO,uCAAUvC,IAAK,QACxB,CAAEuC,MAAO,mDAAYvC,IAAK,QAC1B,CAAEuC,MAAO,uCAAUvC,IAAK,UACxB,CAAEuC,MAAO,uCAAUvC,IAAK,SACxB,CAAEuC,MAAO,iCAASvC,IAAK,UACvB,CAAEuC,MAAO,oGAAqBvC,IAAK,cACnC,CAAEuC,MAAO,mDAAYvC,IAAK,WAE3BrX,KAAM,4BAGT,ECDe6Z,OA/Bf,SAAoB,GAAa,IAAXzK,EAAM,EAANA,OACrB,OACC,eAAC,GAAS,CACT4I,MAAa,OAAN5I,QAAM,IAANA,OAAM,EAANA,EAAQ7T,KAAI,SAACyH,GACnB,MAAO,CACNwO,KAAM5U,OAAOC,SAASC,OAAS,UAAYkG,EAAMA,MAAMiG,QACvDjJ,KAAMgD,EAAMA,MAAM4I,UAClBpZ,OAAQwQ,EAAMxQ,OACd0G,MAAO8J,EAAM9J,MACbD,OAAQ+J,EAAM/J,OACd0I,OAAQqB,EAAMA,MAAM+I,mBAEtB,IACA5Q,SAAU,CACT,CAAEmB,MAAO,4EAAiBsd,MAAO,6EACjC,CAAEtd,MAAO,6CAAWsd,MAAO,8CAC3B,CAAEtd,MAAO,yDAAasd,MAAO,2DAE9B5C,OAAQ,CACP,CAAE4C,MAAO,uCAAUvC,IAAK,QACxB,CAAEuC,MAAO,mDAAYvC,IAAK,QAC1B,CAAEuC,MAAO,uCAAUvC,IAAK,UACxB,CAAEuC,MAAO,uCAAUvC,IAAK,SACxB,CAAEuC,MAAO,iCAASvC,IAAK,UACvB,CAAEuC,MAAO,mDAAYvC,IAAK,WAE3BrX,KAAM,wCAGT,E,OC0Me8Z,OAlOf,SAAgB,GAAgD,IA+J3CvoB,EAAU2c,EAkCXxE,EAjMF7R,EAAG,EAAHA,IAAKkiB,EAAY,EAAZA,aAAcC,EAAW,EAAXA,YAAapjB,EAAS,EAATA,UAC7CF,EAAUC,cAsMd,OACC,uBAAKC,UAAW0E,KAAW,UAAW1E,GAAW,WAP/B8S,EAQN7R,EAAIoiB,QAPF,IAAIrQ,KAAKF,GAERwQ,mBAAmB,QADpB,CAAEC,KAAM,UAAWC,OAAQ,aAMjB,SACtBL,GA3CiBxoB,EA2CSsG,EAAI9F,KA3CHmc,EA2CSrW,EAAI5F,QAzCzC,oBACC4E,KAAM+F,OAAOC,SAASC,OAAS,SAAWoR,EAC1CtX,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWiX,GACxBnX,EAAEC,gBACH,EAAE,SACDzF,KAkCkD,GAAE,SAvMxD,SAA6B8oB,EAAQC,EAAc7L,GAClD,OAAQ4L,GACP,IAAK,QACJ,OAAQC,GACP,IAAK,IACJ,MAAgB,YAAZ7L,EACI,+CAED,iEACR,IAAK,KACJ,MAAO,wEACR,QACC,MAAO,+CAEV,IAAK,SACJ,MAAO,0FACR,IAAK,SACJ,MAAO,iGACR,IAAK,aACJ,MAAO,uJACR,IAAK,WACJ,OAAI6L,EAAe,EAAU,kEAAkBA,EAAe,kCAClD,oEAAmC,EAAhBA,EAAoB,kCACpD,IAAK,eACJ,MAAqB,SAAjBA,EAAgC,wEACxB,kEACb,QACC,OAAOD,EAEV,CA2KGE,CAAoB1iB,EAAI2iB,YAAa3iB,EAAI4iB,cAAe5iB,EAAIyC,MAAK,SAzKpE,SAAuBA,EAAMogB,GAC5B,OAAQpgB,GACP,IAAK,OACJ,MAAmB,UAAfogB,GAAyC,WAAfA,EAAgC,2BAClD,2BACb,IAAK,QACJ,MAAmB,UAAfA,GAAyC,WAAfA,EAAgC,iCAClD,uCACb,IAAK,OACJ,MAAmB,UAAfA,GAAyC,WAAfA,EAAgC,uCAClD,6CACb,IAAK,SAEL,IAAK,UACJ,MAAO,GACR,IAAK,OACJ,MAAO,2EACR,QACC,OAAOpgB,EAEV,CAsJGqgB,CAAc9iB,EAAIyC,KAAMzC,EAAI2iB,aAAY,SApJ3C,SAAoBxa,EAAM1F,EAAMtI,GAC/B,OAAQsI,GACP,IAAK,OACJ,OACC,oBACCzD,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAC1C4E,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,GACxB+E,EAAEC,gBACH,EAAE,SACDgJ,IAGJ,IAAK,QACJ,OACC,oBACCnJ,KAAM+F,OAAOC,SAASC,OAAS,UAAY9K,EAC3C4E,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,UAAYjF,GACzB+E,EAAEC,gBACH,EAAE,SACDgJ,IAGJ,IAAK,OACJ,OACC,oBACCnJ,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAC1C4E,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,GACxB+E,EAAEC,gBACH,EAAE,SACDgJ,IAGJ,IAAK,SACJ,OACC,uBAAK5B,MAAO,CAAE6Y,QAAS,gBAAiB,UACvC,oBACCpgB,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAAGyZ,QAAU,WAAazZ,EAAGgY,cACvEpT,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,EAAGyZ,QAAU,WAAazZ,EAAGgY,eACrDjT,EAAEC,gBACH,EAAE,SACDgJ,EAAKA,OACH,yDAEJ,oBACCnJ,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAAGyZ,QAC7C7U,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,EAAGyZ,SAC3B1U,EAAEC,gBACH,EAAE,SACDgJ,EAAK4a,iBAIV,IAAK,UACJ,OACC,uBAAKxc,MAAO,CAAE6Y,QAAS,gBAAiB,UACvC,qBACCpgB,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAAGyZ,QAAU,WAAazZ,EAAGgY,cAAgB,YAAchY,EAAGiY,eACxGrT,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,EAAGyZ,QAAU,WAAazZ,EAAGgY,cAAgB,YAAchY,EAAGiY,gBACtFlT,EAAEC,gBACH,EAAE,eACChF,EAAGgY,cAAa,IAAGhY,EAAGiY,eAAc,sCACpC,yDAEJ,oBACCpT,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAAGyZ,QAC7C7U,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,EAAGyZ,SAC3B1U,EAAEC,gBACH,EAAE,SACDgJ,EAAK4a,iBAIV,IAAK,OACJ,OACC,oBACC/jB,KAAM+F,OAAOC,SAASC,OAAS,SAAW9K,EAC1C4E,UAAU,gBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWjF,GACxB+E,EAAEC,gBACH,EAAE,SACDgJ,IAGJ,QACC,OAAOA,EAEV,CAgDG6a,CAAWhjB,EAAIsG,OAAQtG,EAAIyC,KAAMzC,EAAIijB,WACvB,SAAbjjB,EAAIyC,KAAwC,aAApBzC,EAAI2iB,YAAqD,MAAtB3iB,EAAI4iB,cAAgD,OAAtB5iB,EAAI4iB,cAA0B,GAAK,IAAG,SAjCnI,SAA2BC,EAAYJ,EAAcnc,GACpD,OAAQuc,GACP,IAAK,QACJ,MAAgB,YAAXvc,EAAyBmc,EAAe,EAAW,eAAC,GAAM,CAAC3e,cAAe2e,EAAc1e,UAAU,IAC3F,GACb,IAAK,SAEL,IAAK,SACJ,MAAO,IAAM0e,EAAe,IAC7B,IAAK,aACJ,OAAOA,EAAe,KAqCrB,KADe7d,EApCuB6d,IAqCtB7d,GAAU,GAAW,iCAChCA,EAAS,KAAO,EAAU,qBAC1B,GAAKA,EAAS,IAAMA,EAAS,IAAM,EAAU,2BAC1C,kCAvCV,IAAK,WAEL,IAAK,eACJ,MAAO,GACR,QACC,OAAO6d,EA8BX,IAAoB7d,CA5BnB,CAgBGse,CAAkBljB,EAAI2iB,YAAa3iB,EAAI4iB,cAAe5iB,EAAIyC,MAC3D,yBACC1D,UAAW0E,KAAW,yBAA0Bye,EAAe,gCAAkC,IACjGjjB,QAAS,SAACoH,GACT8b,EAAYniB,EAAIyC,KAAMzC,EAAI7F,GAC3B,EAAE,iBAKN,E,OCpJegpB,OAzEf,SAAkB,GAAmD,IAAjDC,EAAI,EAAJA,KAAMlB,EAAY,EAAZA,aAAcmB,EAAW,EAAXA,YAAalB,EAAW,EAAXA,YACpD,EAAkCtrB,mBAAS,IAAG,oBAAvCysB,EAAS,KAAEC,EAAY,KAwC9B,OAtCAvrB,qBACC,WACCurB,EAMF,SAAwBH,GACvB,IAAI9E,EAAU,GAEd,IAAK,IAAMkF,KAAKJ,EAAM,CACrB,IAAIvR,EAAO,IAAIE,KAAKqR,EAAKI,GAAGpB,SAEL,IAAnB9D,EAAQ7X,OACX6X,EAAQlf,KAAK,CACZyS,KAAMA,EACNuR,KAAM,CAACA,EAAKI,MAIZ3R,EAAK4R,YAAcnF,EAAQA,EAAQ7X,OAAS,GAAGoL,KAAK4R,WACjD5R,EAAK6R,aAAepF,EAAQA,EAAQ7X,OAAS,GAAGoL,KAAK6R,YACrD7R,EAAK8R,gBAAkBrF,EAAQA,EAAQ7X,OAAS,GAAGoL,KAAK8R,cAE3DrF,EAAQA,EAAQ7X,OAAS,GAAG2c,KAAKhkB,KAAKgkB,EAAKI,IAE3ClF,EAAQlf,KAAK,CACZyS,KAAMA,EACNuR,KAAM,CAACA,EAAKI,KAKhB,CACA,OAAOlF,CACR,CAlCesF,CAAeR,EAAKpjB,KAClC,GAEA,CAACojB,IAkCD,sBAAKrkB,UAAU,cAAa,SAC1BukB,EAAU5f,KAAI,SAACmgB,EAAQlgB,GAAO,OAC9B,uBAAmB5E,UAAU,mBAAkB,UAC9C,sBAAKA,UAAU,oBAAmB,SAEhC8kB,EAAOhS,KAAKG,mBAAmB,QAAS,CACvC8R,KAAMD,EAAOhS,KAAK8R,iBAAkB,IAAI5R,MAAO4R,mBAC5CtE,EACA,UACH0E,MAAO,UACPC,IAAK,cAGR,sBAAKjlB,UAAU,oBAAmB,SAChC8kB,EAAOT,KAAK1f,KAAI,SAAC1D,GAAG,OACpB,eAAC,GAAM,CACNA,IAAKA,EACLkiB,aAAcA,EAEdmB,YAAaA,EACblB,YAAaA,EACbpjB,UAAU,oBAHLiB,EAAI7F,GAAK6F,EAAIoiB,QAIjB,QApBKze,EAuBJ,KAIV,E,OCgCewf,ICzGAA,GDSf,SAAkB,GAAsF,IAApF9M,EAAM,EAANA,OAAQ+M,EAAI,EAAJA,KAAMlB,EAAY,EAAZA,aAAcjE,EAAe,EAAfA,gBAAiBoF,EAAW,EAAXA,YAAalB,EAAW,EAAXA,YAAa8B,EAAQ,EAARA,SAC1F,EAAsCptB,mBAAS,GAAE,oBAA1CqtB,EAAW,KAAEC,EAAc,KAClC,EAAgCttB,mBAAS,IAAG,oBAArCwpB,EAAQ,KAAEC,EAAW,KAC5B,EAA0BzpB,mBAAS,IAAG,oBAA/ByJ,EAAK,KAAE8f,EAAQ,KACtB,EAA8BvpB,mBAAS,IAAG,oBAAnC6f,EAAO,KAAE0N,EAAU,KAC1B,EAAgCvtB,oBAAS,GAAK,oBAAvCiqB,EAAQ,KAAEC,EAAW,KACpBva,EAAUoZ,KAAVpZ,MAcR,OARAxO,qBACC,YACkB,SAAbisB,GAAqC,gBAAbA,GAA8BZ,IAAcpF,EAAgB5H,EAAQ6N,EAAa7D,EAAU/f,EAAOoW,EAC/H,GAEA,CAACL,EAAQ6N,EAAab,EAAaY,EAAU5D,EAAU3J,IAIvD,uBAAK3X,UAAU,YAAW,UACzB,uBAAKA,UAAU,oBAAmB,UACjC,uBAAKA,UAAU,yBAAwB,UACtC,uBAAKA,UAAU,8BAA6B,UAC3C,uBACC6d,SAAU,SAACvW,GACVA,EAAMlH,iBACN8e,EAAgB5H,EAAQ6N,EAAa7D,EAAU/f,EAAOoW,EACvD,EAAE,SACF,wBACCjU,KAAK,OACLoa,YAAY,iCACZ,aAAW,iCACX9d,UAAU,0BACV0F,MAAOnE,EACP0D,SAAU,SAACqC,GACV+Z,EAAS/Z,EAAMC,OAAO7B,MACvB,MAGF,yBACC1F,UAAU,2BACVE,QAnCiB,WACtB8hB,GAAaD,EACd,EAiC8B,SAEvBA,EACE,eAAC,KAAW,IACZ,eAAC,KAAS,SAIf,eAAC,GAAW,CACXjE,YAAa,oDACb7Y,SAAU,SAAC9E,GACVklB,EAAWllB,EAAEwE,KAAI,SAAC6d,GAAG,OAAKA,EAAI9c,KAAK,IACpC,EACAuX,QAAS,CACR,CAAEvX,MAAO,OAAQsd,MAAO,4BACxB,CAAEtd,MAAO,QAASsd,MAAO,wCACzB,CAAEtd,MAAO,OAAQsd,MAAO,wCACxB,CAAEtd,MAAO,OAAQsd,MAAO,6EAEzB7c,OAAQ4b,GAAYta,EAAQ,SAG9B,uBAAKzH,UAAU,uBAAuBmG,OAAQ4b,GAAYta,EAAQ,IAAI,UACrE,wBAAOzH,UAAU,6BAA4B,sHAG7C,eAAC,GAAW,CACX0F,MAAO4b,EACPpa,IAAK,IACLC,IAAK,EACLlC,SAAU,SAACS,GAAK,OAAK6b,EAAY7b,EAAM,EACvC0B,SAAU,CAAC,EAAG,GAAI,GAAI,GAAI,aAI7B,eAACke,GAAS,CACTjB,KAAMA,EACNlB,aAAcA,EACdmB,YAAaA,EACblB,YAAaA,IAEd,eAAC,KAAU,CACVX,MAAO4B,EAAKkB,MACZjE,SAAUA,EACVrc,SAAU,SAAC9E,GACVilB,EAAejlB,EAChB,EACAgd,QAASgI,MAIb,EEpEeK,OAlCf,SAAmB,GAAY,IAAV/M,EAAK,EAALA,MACpB,OACC,eAAC,GAAS,CACT2I,MAAY,OAAL3I,QAAK,IAALA,OAAK,EAALA,EAAO9T,KAAI,SAAC2K,GAClB,MAAO,CACNsL,KAAM5U,OAAOC,SAASC,OAAS,SAAWoJ,EAAKA,KAAK+C,QACpDjJ,KAAMkG,EAAKA,KAAK0F,UAChBpZ,OAAQ0T,EAAK1T,OACb0G,MAAOgN,EAAKhN,MACZD,OAAQiN,EAAKjN,OACb0I,OAAQuE,EAAKA,KAAK6F,mBAClB5S,WAAY+M,EAAK/M,WAEnB,IACAgC,SAAU,CACT,CAAEmB,MAAO,4EAAiBsd,MAAO,6EACjC,CAAEtd,MAAO,uCAAUsd,MAAO,wCAC1B,CAAEtd,MAAO,6CAAWsd,MAAO,8CAC3B,CAAEtd,MAAO,yDAAasd,MAAO,2DAE9B5C,OAAQ,CACP,CAAE4C,MAAO,uCAAUvC,IAAK,QACxB,CAAEuC,MAAO,mDAAYvC,IAAK,QAC1B,CAAEuC,MAAO,uCAAUvC,IAAK,UACxB,CAAEuC,MAAO,uCAAUvC,IAAK,SACxB,CAAEuC,MAAO,iCAASvC,IAAK,UACvB,CAAEuC,MAAO,wFAAmBvC,IAAK,cACjC,CAAEuC,MAAO,mDAAYvC,IAAK,WAE3BrX,KAAM,8CAGT,ECnCaqc,GAAS,CACrB,iBACA,mBACA,iBACA,gBACA,eACA,mBACA,eACA,mBACA,mBACA,mBACA,iBACA,iBACA,iBACA,gBACA,iBACA,mBACA,gBACA,gBACA,kBACA,iBACA,mBACA,kBACA,eACA,mBACA,iBACA,gBC2BcC,OAjDf,SAAoB7tB,GACnB,MAAkCC,mBAAS,IAAG,oBAAvCgd,EAAS,KAAEC,EAAY,KAW9B,OATA9b,qBAAU,WAAO,IAAD,EAEf,GADA8b,EAAa,IACTld,EAAMid,YAA4B,QAAf,EAAAjd,EAAMid,iBAAS,aAAf,EAAiBpN,QAAS,EAAG,CAAC,IAAD,EAC/CgE,EAAyB,QAAlB,EAAG7T,EAAMid,iBAAS,aAAf,EAAiBnQ,KAAI,SAACe,GAAK,MAAM,CAAE0D,KAAM1D,EAAM0D,KAAMuc,6CAASjgB,EAAMkgB,mBAAoB,IAAGjE,MAAK,SAACQ,EAAGC,GAAC,OAAKA,EAAEuD,2CAAUxD,EAAEwD,0CAAO,IAC7Ija,EAAUA,EAAQkQ,MAAM,EAAG,IAC3B7G,EAAarJ,EACd,CACD,GAAG,CAAC7T,EAAMid,UAAWC,IAGpB,sBAAK5O,OAAQtO,EAAMsO,OAAO,SACxB,4DAA4D0f,KAAKC,UAAUC,WAC3E,gBAAC,KAAQ,CAACte,MAAOiD,SAAS4K,KAAKE,YAAc,GAAIC,OAA4B,IAAX,OAATX,QAAS,IAATA,OAAS,EAATA,EAAWpN,QAAa3O,KAAM+b,EAAWY,OAAQ,CAAEC,IAAK,EAAGC,MAAO,EAAGC,KAAM,GAAIC,OAAQ,IAAMoB,OAAO,WAAU,UACtK,eAAC,KAAK,CAACZ,QAAQ,OAAOI,UAAU,EAAOF,KAAM,CAAEC,KAAM,sBAAwBF,SAAU,EAAGyP,WAAY,EAAGtiB,KAAK,aAC9G,eAAC,KAAK,CAACiT,OAAQ,CAAC,EAAG,WAAYH,KAAM,CAAEC,KAAM,sBAAwB/S,KAAK,WAC1E,eAAC,KAAO,CACPuiB,UAAW,CAAEnP,MAAO,qBAAsBC,gBAAiB,mBAC3DF,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,kBAAmBmP,aAAc,QAC/FC,QAAQ,IAET,eAAC,KAAG,CAAC7P,QAAQ,6CAAS,SACpBxB,EAAUnQ,KAAI,SAACyhB,EAAOnY,GAAK,OAC3B,eAAC,KAAI,CAACwI,KAAMgP,GAAOxX,IAAaA,EAAS,SAK5C,gBAAC,KAAQ,CAACxG,MAAO4e,KAAKlf,IAAwB,KAAX,OAAT2N,QAAS,IAATA,OAAS,EAATA,EAAWpN,QAAcgD,SAAS4K,KAAKE,YAAc,IAAKC,OAAQ,IAAK1c,KAAM+b,EAAWY,OAAQ,CAAEC,IAAK,EAAGC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,IAAK,UACrK,eAAC,KAAK,CAACQ,QAAQ,OAAOI,UAAU,EAAOF,KAAM,CAAEC,KAAM,sBAAwBF,SAAU,EAAG+P,OAAQ,GAAIN,WAAY,KAClH,eAAC,KAAK,CAACrP,OAAQ,CAAC,EAAG,WAAYH,KAAM,CAAEC,KAAM,wBAC7C,eAAC,KAAO,CACPwP,UAAW,CAAEnP,MAAO,qBAAsBC,gBAAiB,mBAC3DF,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,kBAAmBmP,aAAc,QAC/FC,QAAQ,IAET,eAAC,KAAG,CAAC7P,QAAQ,6CAAS,SACX,OAATxB,QAAS,IAATA,OAAS,EAATA,EAAWnQ,KAAI,SAACyhB,EAAOnY,GAAK,OAC5B,eAAC,KAAI,CAACwI,KAAMgP,GAAOxX,IAAaA,EAAS,UAOhD,ECLesY,OA3Cf,SAAoB1uB,GACnB,MAAkCC,mBAAS,IAAG,oBAAvCgd,EAAS,KAAEC,EAAY,KAC9B,EAAgCjd,mBAAS,GAAE,oBAApC0uB,EAAQ,KAAEC,EAAW,KAmB5B,OAjBAxtB,qBAAU,WAAO,IAAD,EAEf,GADA8b,EAAa,IACTld,EAAMid,YAA4B,QAAf,EAAAjd,EAAMid,iBAAS,aAAf,EAAiBpN,QAAS,EAAG,CAAC,IAAD,EAC/Cgf,EAAc,EACdhb,EAAyB,QAAlB,EAAG7T,EAAMid,iBAAS,aAAf,EACXnQ,KAAI,SAACe,EAAOuI,EAAO0Y,GAIpB,OAHIjhB,EAAM6f,MAAQiB,IACjBE,EAAchhB,EAAM6f,OAEd,CAAEnc,KAAM1D,EAAMqf,KAAM6B,+DAAYlhB,EAAM6f,MAC9C,IACC5D,MAAK,SAACQ,EAAGC,GAAC,OAAKD,EAAE/Y,KAAOgZ,EAAEhZ,IAAI,IAChCqd,EAAYC,GACZ3R,EAAarJ,EACd,CACD,GAAG,CAAC7T,EAAMid,UAAWC,IAGpB,sBAAK5O,OAAQtO,EAAMsO,OAAO,SACxB,4DAA4D0f,KAAKC,UAAUC,WAAa,KACxF,eAAC,KAAmB,CAACte,MAAO,OAAQgO,OAAQ,IAAI,SAC/C,gBAAC,KAAS,CAAC1c,KAAM+b,EAAWY,OAAQ,CAAEC,IAAK,GAAIC,MAAO,GAAIC,KAAM,EAAGC,OAAQ,GAAI,UAC9E,gCACC,kCAAgB1a,GAAG,UAAU2a,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAG,UACvD,uBAAMC,OAAO,KAAKC,UAAU,UAAUC,YAAa,KACnD,uBAAMF,OAAO,MAAMC,UAAU,UAAUC,YAAa,SAGtD,eAAC,KAAK,CAACC,QAAQ,OAAOE,KAAM,CAAEC,KAAM,sBAAwBoQ,mBAAmB,IAC/E,eAAC,KAAK,CAACnQ,UAAU,EAAOC,OAAQ,CAAC,EAAG6P,EAAW,GAAIhQ,KAAM,CAAEC,KAAM,sBAAwBG,UAAW,IACpG,eAAC,KAAO,CAACC,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,qBACvE,eAAC,KAAI,CAACrT,KAAK,WAAW4S,QAAQ,+DAAaU,OAAO,UAAUC,YAAa,EAAGR,KAAK,wBAMvF,ECPeiP,OAjCf,SAAoB,GAAY,IAAVoB,EAAK,EAALA,MACrB,EAAkChvB,mBAAS,IAAG,oBAAvCgd,EAAS,KAAEC,EAAY,KAa9B,OAXA9b,qBAAU,WAET,GADA8b,EAAa,IACJ,OAAL+R,QAAK,IAALA,KAAOxO,MAAO,CAAC,IAAD,YACb5M,EAAU,IACL,OAALob,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAcyO,kBAAmB,GAAGrb,EAAQrL,KAAK,CAAE+I,KAAM,uEAAiB1D,MAAY,OAALohB,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAcyO,oBAC1F,OAALD,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAeuO,kBAAmB,GAAGrb,EAAQrL,KAAK,CAAE+I,KAAM,mFAAmB1D,MAAY,OAALohB,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAeuO,oBAC9F,OAALD,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiB+V,kBAAmB,GAAGrb,EAAQrL,KAAK,CAAE+I,KAAM,yFAAoB1D,MAAY,OAALohB,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiB+V,mBAC5GhS,EAAarJ,EACd,CACD,GAAG,CAACob,IAGH,sBAAK3gB,OAAQ2O,EAAUpN,OAAS,EAAE,SACjC,gBAAC,KAAQ,CAACD,MAAO,IAAKgO,OAAQ,IAAKtP,OAAQ2O,EAAUpN,OAAS,EAAE,UAC/D,eAAC,KAAG,CAAC4O,QAAQ,QAAQvd,KAAM+b,EAAWkS,GAAG,MAAMC,GAAG,MAAMC,YAAa,GAAIzQ,KAAK,UAAU0Q,WAAW,EAAMnE,OAAK,EAACoE,SAAU,EAAE,SACzHtS,EAAUnQ,KAAI,SAACyhB,EAAOnY,GAAK,OAC3B,eAAC,KAAI,CAACwI,KAAMgP,GAAOxX,IAAaA,EAAS,MAG3C,eAAC,KAAO,CACPgY,UAAW,CAAEnP,MAAO,qBAAsBC,gBAAiB,mBAC3DF,aAAc,CAAEC,MAAO,qBAAsBC,gBAAiB,kBAAmBmP,aAAc,QAC/FC,QAAQ,IAET,eAAC,KAAM,CAACkB,cAAc,SAASC,gBAAgB,eAInD,ECOeC,ICxCAA,GDGf,SAAyB,GAAY,IAAD,gDAATT,EAAK,EAALA,MAC1B,OACC,iCACC,eAAC,GAAU,CAACA,MAAOA,IACnB,uBAAK3gB,SAAc,OAAL2gB,QAAK,IAALA,KAAOxO,OAAM,UAC1B,2DACA,qBAAG9Q,MAAO,CAAEggB,aAAc,QAAS,4EACf,OAALV,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAciN,MAAK,sFAAyB,OAALuB,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAcyO,oBAEpE,8HACA,eAACU,GAAW,CAAC3S,UAAgB,OAALgS,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAcpN,OAAQ/E,QAAa,OAAL2gB,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,OAAQ,QAAR,EAAZ,EAAcpN,cAAM,WAAf,EAAL,EAAsBxD,QAAS,IACrF,yMACA,eAAC,GAAU,CAACoN,UAAgB,OAALgS,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,WAAP,EAAL,EAAcoP,MAAOvhB,QAAa,OAAL2gB,QAAK,IAALA,GAAY,QAAP,EAALA,EAAOxO,aAAK,OAAO,QAAP,EAAZ,EAAcoP,aAAK,WAAd,EAAL,EAAqBhgB,QAAS,OAEnF,uBAAKvB,SAAc,OAAL2gB,QAAK,IAALA,KAAOtO,QAAO,UAC3B,uEACA,qBAAGhR,MAAO,CAAEggB,aAAc,QAAS,sHACR,OAALV,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAe+M,MAAK,4FAA0B,OAALuB,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAeuO,oBAE9E,8HACA,eAACU,GAAW,CAAC3S,UAAgB,OAALgS,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAetN,OAAQ/E,QAAa,OAAL2gB,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,OAAQ,QAAR,EAAb,EAAetN,cAAM,WAAhB,EAAL,EAAuBxD,QAAS,IACvF,uOACA,eAAC,GAAU,CAACoN,UAAgB,OAALgS,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,WAAR,EAAL,EAAekP,MAAOvhB,QAAa,OAAL2gB,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOtO,cAAM,OAAO,QAAP,EAAb,EAAekP,aAAK,WAAf,EAAL,EAAsBhgB,QAAS,OAErF,uBAAKvB,SAAc,OAAL2gB,QAAK,IAALA,KAAO9V,UAAS,UAC7B,6EACA,qBAAGxJ,MAAO,CAAEggB,aAAc,QAAS,2JACD,OAALV,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiBuU,MAAK,4FAA0B,OAALuB,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiB+V,oBAEzF,eAACU,GAAW,CAAC3S,UAAgB,OAALgS,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiB9F,OAAQ/E,QAAa,OAAL2gB,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,OAAQ,QAAR,EAAf,EAAiB9F,cAAM,WAAlB,EAAL,EAAyBxD,QAAS,IAC3F,6OACA,eAAC,GAAU,CAACoN,UAAgB,OAALgS,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,WAAV,EAAL,EAAiB0W,MAAOvhB,QAAa,OAAL2gB,QAAK,IAALA,GAAe,QAAV,EAALA,EAAO9V,gBAAQ,OAAO,QAAP,EAAf,EAAiB0W,aAAK,WAAjB,EAAL,EAAwBhgB,QAAS,SAI5F,EEtCeigB,I,OCoBE9nB,aAAS,SAAChI,GAC1B,IAAQysB,EAAgB7lB,GAAhB6lB,YACAnpB,EACP4kB,GADO5kB,KAAMwjB,EACboB,GADapB,UAAWI,EACxBgB,GADwBhB,YAAa7U,EACrC6V,GADqC7V,cAAegV,EACpDa,GADoDb,gBAAiBT,EACrEsB,GADqEtB,SAAUG,EAC/EmB,GAD+EnB,cAAea,EAC9FM,GAD8FN,uBAAwBf,EACtHqB,GADsHrB,gBAAiBG,EACvIkB,GADuIlB,qBAAsBjH,EAC7JmI,GAD6JnI,cAAegQ,EAC5K7H,GAD4K6H,cAGvKtQ,EAAWxN,cAAXwN,OACN,EAA4CuQ,wBAAc,gBAAYC,sBAAYC,cAAa,mCAAS,oBAAjGxL,EAAc,KAAEqB,EAAiB,KACxC,EAAwC9lB,mBAAS,IAAG,oBAA7CkwB,EAAY,KAAEC,EAAe,KAmBpC,OAjBAhvB,qBACC,WACC8lB,EAAYzH,EACb,GAEA,CAACA,EAAQyH,IAGV9lB,qBAAU,WAET,GADAyR,SAASlF,MAAQrK,EAAKR,SAAW,8CAAaQ,EAAKR,SAAW,YAC1DQ,EAAK+sB,cAAe,CACvB,IAAIpV,EAAO,IAAIE,KAAK7X,EAAK+sB,eACrBjL,EAAU,CAAE8H,KAAMjS,EAAK8R,iBAAkB,IAAI5R,MAAO4R,mBAAgBtE,EAAY,UAAW0E,MAAO,OAAQC,IAAK,UAAW1B,KAAM,UAAWC,OAAQ,WACvJyE,EAAgBnV,EAAKqV,eAAe,QAASlL,GAC9C,MAAOgL,EAAgB,GACxB,GAAG,CAAC9sB,IAGH,sBAAK6E,UAAU,YAAW,SACzB,eAAC,KAAc,CAAC6K,OAAsB,YAAd8T,EAAyB7T,SAAO,EAAC/D,KAAK,sDAAa,SAC1E,uBAAK/G,UAAU,kBAAiB,UAC/B,uBAAKA,UAAU,oBAAmB,UACjC,uBAAKA,UAAU,uBAAsB,UACpC,sBAAKA,UAAU,yBAAyBwH,MAAO,CAAEmD,gBAAgB,OAAD,OAAS,wEAAuE,QAChJ,iCACC,qBAAI3K,UAAU,sBAAqB,SAAE7E,EAAKR,WAC1C,uBAAKwL,QAAShL,EAAKitB,aAAcpoB,UAAU,2BAA0B,iIAC9CgoB,WAKzB,yBACC7hB,OAAQyhB,IAAkBzsB,EAAKitB,aAC/BpoB,UAAU,8BACVE,QAAS,WACRgK,EAAc,CAAEsN,cAAcrc,EAAK2kB,aAA8B3kB,EAAKC,GACvE,EAAE,SACDD,EAAK2kB,YAAc,+DAAe,0EAIrC,gBAAC,GAAa,CAACzD,WAAY,CAAC,iCAAS,2BAAQ,uCAAU,6CAAW,+DAAc,wCAAWE,eAAgBA,EAAgBD,iBAAkBsB,EAAkB,UAC9J,uBAAKzX,OAA2B,mCAAnBoW,EAA2B,UACvC,sBAAKpW,QAAShL,EAAKitB,aAAa,SAC/B,eAAC,KAAc,CAACvd,OAA0B,YAAlB+T,GAA6C,YAAdD,EAAyB7T,SAAO,EAAC/D,KAAK,mHAAwB,SACpH,eAAC,GAAQ,CACRuQ,OAAQA,EACR+M,KAAM5F,EACNS,gBAAiBA,EACjBoF,YAAasD,EACbxE,YAAaxL,EACbsN,SAAU,aAIb,sBAAI/e,OAAQhL,EAAKitB,cAA8B,YAAdzJ,EAAwB,UACxD,eAAC,KAAM,CAACnX,MAAO,CAAE6gB,YAAa,UAAY,wNAI5C,sBAAKliB,OAA2B,6BAAnBoW,EAA0B,SACtC,eAAC,GAAS,CAACjE,MAAOnd,EAAKmd,UAExB,sBAAKnS,OAA2B,yCAAnBoW,EAA4B,SACxC,eAAC,GAAU,CAAC/D,OAAQrd,EAAKqd,WAE1B,sBAAKrS,OAA2B,+CAAnBoW,EAA6B,SACzC,eAAC,GAAS,CAAC9D,MAAOtd,EAAKsd,UAExB,sBAAKtS,OAA2B,iEAAnBoW,EAAgC,SAC5C,eAAC,GAAe,CAACuK,MAAO3rB,EAAK2rB,UAE9B,uBAAK3gB,OAA2B,yCAAnBoW,EAA4B,UACxC,eAAC,GAAW,CAAC7D,MAAOvd,EAAKmtB,eAAiBntB,EAAKmtB,eAAiB,KAChE,uBAAKniB,OAAQme,EAAY3pB,WAAaQ,EAAKR,SAAS,UACnD,qBAAIqF,UAAU,4BAA2B,iHACzC,eAAC,KAAc,CAAC6K,OAAiC,YAAzBgU,GAAoD,YAAdF,EAAyB7T,SAAO,EAAC/D,KAAK,mHAAwB,SAC3H,eAAC,GAAQ,CAACuQ,OAAQA,EAAQ+M,KAAM3F,EAAiBQ,gBAAiBO,EAAwB6E,YAAasD,EAAezE,cAAc,EAAM+B,SAAU,iCAS7J,K,UC7FMqD,GAAW,aAShB,aAAe,IAAD,gCARdC,SAAW,CAAC,EAAE,KACdpQ,SAAW,CAAC,EAAE,KACdqQ,UAAY,GAAG,KACfC,cAAgB,OAAO,KACvBC,cAAgB,OAAO,KACvBC,eAAiB,OAAO,KACxBC,kBAAoB,OAAO,KAM3BC,gBAAe,gCAAG,wFACjB,EAAKJ,cAAgB,UACrBnO,KAA+B1d,KAAK,EAAKksB,uBAAwB,EAAKC,wBAAwB,2CAC9F,KACDD,uBAAyB,SAACtrB,GACzB,EAAK+qB,SAAW/qB,EAChB,EAAKirB,cAAgB,MACtB,EAAE,KACFM,uBAAyB,SAAC9rB,GACzB,EAAKwrB,cAAgB,UAAYxrB,CAClC,EAAE,KAEF+rB,gBAAe,gCAAG,wFACjB,EAAKN,cAAgB,UACrBpO,KAA+B1d,KAAK,EAAKqsB,uBAAwB,EAAKC,wBAAwB,2CAC9F,KACDD,uBAAyB,SAACzrB,GACzB,EAAK2a,SAAW3a,EAChB,EAAKkrB,cAAgB,MACtB,EAAE,KACFQ,uBAAyB,SAACjsB,GACzB,EAAKyrB,cAAgB,UAAYzrB,CAClC,EAAE,KAEFksB,iBAAgB,gCAAG,wFAClB,EAAKR,eAAiB,UACtB/Y,KAAoChT,KAAK,EAAKwsB,wBAAyB,EAAKC,yBAAyB,2CACrG,KACDD,wBAA0B,SAAC5rB,GAC1B,EAAKgrB,UAAYhrB,EACjB,EAAKmrB,eAAiB,MACvB,EAAE,KACFU,wBAA0B,SAACpsB,GAC1B,EAAK0rB,eAAiB,UAAY1rB,CACnC,EAAE,KAEFqsB,cAAa,iDAAG,WAAOnR,GAAmB,2EACzC,EAAKyQ,kBAAoB,UACzBtO,GAA+BnC,GAAUvb,KAAK,EAAK2sB,qBAAsB,EAAKC,sBAAsB,2CACpG,mDAHY,GAGZ,KACDC,mBAAqB,WACpB,EAAKb,kBAAoB,MAC1B,EAAE,KACFW,qBAAuB,SAAC/rB,GACvB,EAAKorB,kBAAoB,QACzB,EAAKzQ,SAAW3a,EAChBksB,WAAW,EAAKD,mBAAoB,IACrC,EAAE,KACFD,qBAAuB,SAACvsB,GACvB,EAAK2rB,kBAAoB,UAAY3rB,CACtC,EArDCqB,YAAmBC,KACpB,IAyDcorB,GAFU,IAAIrB,G,OCfdsB,IC1EAA,GDEf,SAAiB,GAAgB,IAAD,YAAb5E,EAAG,EAAHA,IAAKnS,EAAI,EAAJA,KACnBhT,EAAUC,cAEd,OACC,uBAAKC,UAAU,WAAU,UACxB,qBAAIA,UAAU,iBAAgB,SAC5B8S,EAAOA,EAAKG,mBAAmB,QAAS,CAAE8R,KAAMjS,EAAK8R,iBAAkB,IAAI5R,MAAO4R,mBAAgBtE,EAAY,UAAW0E,MAAO,OAAQC,IAAK,UAAW6E,QAAS,SAAY,KAE/K,uBAAK9pB,UAAU,qBAAqBmG,UAAa,OAAH8e,QAAG,IAAHA,GAAU,QAAP,EAAHA,EAAK3M,aAAK,WAAP,EAAH,EAAY5Q,QAAS,GAAG,UACrE,qBAAI1H,UAAU,4BAA2B,sCAC/B,QADyC,EAClDilB,EAAI3M,aAAK,aAAT,EAAW3T,KAAI,SAACzC,GAAI,OACpB,+BACC,oBACClC,UAAU,iBACVC,KAAM+F,OAAOC,SAASC,OAAS,SAAWhE,EAAK2gB,UAC/C3iB,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW6B,EAAK2gB,WAC7B1iB,EAAEC,gBACH,EAAE,SACD8B,EAAK4gB,aARE5gB,EAAK6nB,QAUT,OAGR,uBAAK/pB,UAAU,qBAAqBmG,UAAa,OAAH8e,QAAG,IAAHA,GAAW,QAAR,EAAHA,EAAKzM,cAAM,WAAR,EAAH,EAAa9Q,QAAS,GAAG,UACtE,qBAAI1H,UAAU,4BAA2B,kDAC9B,QAD0C,EACpDilB,EAAIzM,cAAM,aAAV,EAAY7T,KAAI,SAACyH,GAAK,OACtB,+BACC,oBACCpM,UAAU,iBACVC,KAAM+F,OAAOC,SAASC,OAAS,UAAYkG,EAAMiG,QACjDnS,QAAS,SAACC,GACTL,EAAQO,KAAK,UAAY+L,EAAMiG,SAC/BlS,EAAEC,gBACH,EAAE,SACDgM,EAAM4I,aARC5I,EAAMiG,QAUV,OAGR,uBAAKrS,UAAU,qBAAqBmG,UAAa,OAAH8e,QAAG,IAAHA,GAAa,QAAV,EAAHA,EAAKjU,gBAAQ,WAAV,EAAH,EAAetJ,QAAS,GAAG,UACxE,qBAAI1H,UAAU,4BAA2B,wDAC5B,QADyC,EACrDilB,EAAIjU,gBAAQ,aAAZ,EAAcrM,KAAI,SAACyN,GAAO,OAC1B,+BACC,uBAAK5K,MAAO,CAAE6Y,QAAS,gBAAiB,UACvC,qBACCrgB,UAAU,iBACVC,KAAM+F,OAAOC,SAASC,OAAS,SAAWkM,EAAQ4X,UAAU3X,QAAU,WAAaD,EAAQ6X,mBAAqB,YAAc7X,EAAQ8X,oBACtIhqB,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW+R,EAAQ4X,UAAU3X,QAAU,WAAaD,EAAQ6X,mBAAqB,YAAc7X,EAAQ8X,qBACpH/pB,EAAEC,gBACH,EAAE,eACCgS,EAAQ6X,mBAAkB,IAAG7X,EAAQ8X,oBAAmB,sCACxD,yDAEJ,oBACClqB,UAAU,iBACVC,KAAM+F,OAAOC,SAASC,OAAS,SAAWkM,EAAQ4X,UAAU3X,QAC5DnS,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW+R,EAAQ4X,UAAU3X,SAC1ClS,EAAEC,gBACH,EAAE,SACDgS,EAAQ4X,UAAUhV,gBAnBZ5C,EAAQC,QAsBZ,SAKX,E,UEwDe8X,IChIAA,GDGf,SAAsB,GAAe,IAAb3B,EAAQ,EAARA,SACnB1oB,EAAUC,cAERqqB,EAAU,CACfrT,gBAAiB,UACjBD,MAAO,UACPuT,OAAQ,QAGT,SAASC,EAAiBrF,GAAM,IAAD,MAC9B,OACC,iCACW,QADX,EACEA,EAAI3M,aAAK,aAAT,EAAW3T,KAAI,SAACzC,GAAI,OACpB,4DACM,IACL,oBACCjC,KAAM+F,OAAOC,SAASC,OAAS,SAAWhE,EAAK2gB,UAC/C3iB,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW6B,EAAK2gB,WAC7B1iB,EAAEC,gBACH,EAAE,SACD8B,EAAK4gB,cARE5gB,EAAK6nB,QAUT,IAEI,QADT,EACD9E,EAAIzM,cAAM,aAAV,EAAY7T,KAAI,SAACyH,GAAK,OACtB,kEACO,IACN,oBACCnM,KAAM+F,OAAOC,SAASC,OAAS,UAAYkG,EAAMiG,QACjDnS,QAAS,SAACC,GACTL,EAAQO,KAAK,UAAY+L,EAAMiG,SAC/BlS,EAAEC,gBACH,EAAE,SACDgM,EAAM4I,cARC5I,EAAMiG,QAUV,IAEM,QADX,EACD4S,EAAIjU,gBAAQ,aAAZ,EAAcrM,KAAI,SAACyN,GAAO,OAC1B,+BACC,uBAAK5K,MAAO,CAAE6Y,QAAS,gBAAiB,UACvC,qBACCpgB,KAAM+F,OAAOC,SAASC,OAAS,SAAWkM,EAAQ4X,UAAU3X,QAAU,WAAaD,EAAQ6X,mBAAqB,YAAc7X,EAAQ8X,oBACtIhqB,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW+R,EAAQ4X,UAAU3X,QAAU,WAAaD,EAAQ6X,mBAAqB,YAAc7X,EAAQ8X,qBACpH/pB,EAAEC,gBACH,EAAE,eACCgS,EAAQ6X,mBAAkB,IAAG7X,EAAQ8X,oBAAmB,sCACxD,yDAEJ,oBACCjqB,KAAM+F,OAAOC,SAASC,OAAS,SAAWkM,EAAQ4X,UAAU3X,QAC5DnS,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAW+R,EAAQ4X,UAAU3X,SAC1ClS,EAAEC,gBACH,EAAE,SACDgS,EAAQ4X,UAAUhV,gBAjBZ5C,EAAQC,QAoBZ,MAIV,CAEA,SAASkY,EAActF,GAAM,IAAD,kBAC3B,OAAc,QAAT,EAAAA,EAAI3M,aAAK,aAAT,EAAW5Q,QAAS,KAAiB,QAAV,EAAAud,EAAIzM,cAAM,aAAV,EAAY9Q,QAAS,MAAmB,QAAZ,EAAAud,EAAIjU,gBAAQ,aAAZ,EAActJ,QAAS,GAAW,eAAC,KAAgB,KAC3F,QAAV,EAAAud,EAAIzM,cAAM,aAAV,EAAY9Q,QAAS,KAAgB,QAAT,EAAAud,EAAI3M,aAAK,aAAT,EAAW5Q,QAAS,MAAmB,QAAZ,EAAAud,EAAIjU,gBAAQ,aAAZ,EAActJ,QAAS,GAAW,eAAC,KAAa,KAC3F,QAAZ,EAAAud,EAAIjU,gBAAQ,aAAZ,EAActJ,QAAS,KAAiB,QAAV,EAAAud,EAAIzM,cAAM,aAAV,EAAY9Q,QAAS,MAAgB,QAAT,EAAAud,EAAI3M,aAAK,aAAT,EAAW5Q,QAAS,GAAW,eAAC,KAAQ,IAChG,eAAC,KAAM,GACpB,CAoBA,SAAS8iB,EAAa1X,GACrB,IARkBjN,EAQd4kB,EAnBL,SAAkB3X,GACjB,IAAI4X,EAAM,IAAI1X,KAGV2X,GAFO7X,EAAK8X,UACFF,EAAIE,WACQ,MAC1B,OAAID,EAAO,EACND,EAAIG,cAAgB/X,EAAK+X,YAAoB,EACrC,EACNC,SAASH,GAAQ,CACzB,CAUYI,CAASjY,GACpB,OAAI2X,EAAO,EAAS,GAAN,OAAUA,EAAI,YARxB,KADc5kB,EASwB4kB,IARtB5kB,GAAU,GAAW,2BAChCA,EAAS,KAAO,EAAU,2BAC1B,GAAKA,EAAS,IAAMA,EAAS,IAAM,EAAU,qBAC1C,4BAMA,4CACb,CAEA,OACC,eAAC,YAAQ,CAAC2B,MAAO4iB,EAASY,UAAU,UAAS,SACnC,OAARxC,QAAQ,IAARA,OAAQ,EAARA,EAAU7jB,KAAI,SAACsgB,GACf,IAAInS,EAAO,IAAIE,KAAKiS,EAAI,IACxB,OACC,eAAC,iBAAa,CACbzf,MAAK,UAAKglB,EAAa1X,GAAK,aAAKA,EAAKG,mBAAmB,QAAS,CACjE8R,KAAMjS,EAAK8R,iBAAkB,IAAI5R,MAAO4R,mBAAgBtE,EAAY,UACpE0E,MAAO,OACPC,IAAK,UACL6E,QAAS,UAGV9pB,UAAU,gBACVirB,KAAMV,EAActF,EAAI,IACxBiG,gBAAiBd,EACjBe,UAAS,6BAAOf,GAAO,IAAEgB,SAAU,WACnCC,YAAajB,EACbvT,aAAY,6BAAOuT,GAAO,IAAEgB,SAAU,SAAUE,UAAW,SAAU9D,aAAc,WACnF+D,WAAU,6BAAOnB,GAAO,IAAEgB,SAAU,WACpCI,cAAepB,EAAQ,SACtBE,EAAiBrF,EAAI,KATjBA,EAAI,GAYZ,KAGH,E,oCEvDA,SAASwG,GAAI5lB,GACZ,OAAIA,EAAS,GACL,IAAMA,EAEPA,CACR,CACA,SAAS6lB,GAAW5Y,GACnB,OAAOA,EAAK8R,cAAgB,IAAM6G,GAAI3Y,EAAK6R,WAAa,GAAK,IAAM8G,GAAI3Y,EAAK4R,UAC7E,CChFeiH,ODeM9rB,aAAS,WAC7B,IAAQzD,EAAaqC,GAAbrC,SACAosB,EAA6CoB,GAA7CpB,SAAUE,EAAmCkB,GAAnClB,cAAeI,EAAoBc,GAApBd,gBAEjC,EAA0BhxB,mBAAS,IAAIkb,MAAO,oBAAvCtN,EAAK,KAAET,EAAQ,KACtB,EAAoCnN,mBAAS,CAAC,GAAE,oBAAzC8zB,EAAU,KAAEC,EAAa,KAmChC,OAjCA5yB,qBAAU,WACLmD,GACH0sB,GAEF,GAAG,CAAC1sB,EAAU0sB,IAEd7vB,qBAAU,WACLyvB,EAActkB,WAAW,WAAWZ,IAAMtG,MAAM,0FAAD,OAAqBwrB,GACzE,GAAG,CAACA,IAEJzvB,qBAAU,WACLuvB,IACCkD,GAAWhmB,KAAU8iB,EAAUqD,EAAcrD,EAASkD,GAAWhmB,KAChEmmB,EAAc,CAAC,GAEtB,GAAG,CAACnmB,EAAO8iB,IAmBV,sBAAKxoB,UAAW8rB,KAAOC,aAAa,SACnC,iCACC,qBAAI/rB,UAAW8rB,KAAOE,WAAW,+GACjC,gBAAC,KAAc,CAACnhB,OAA0B,YAAlB6d,EAA6B5d,SAAO,EAAC/D,KAAK,sDAAa,UAC7E,4DAA4D8e,KAAKC,UAAUC,WAAa,eAAC,GAAO,CAACd,IAAK2G,EAAY9Y,KAAMpN,IAAY,GACrI,eAAC,KAAQ,CAACT,SAAUA,EAAUS,MAAOA,EAAOumB,YAAY,QAAQC,UAAU,SAASC,OAAO,QAAQC,QAAS,IAAIpZ,KAAQqZ,YAtB3H,SAAoB,GAAiB,IAAfvZ,EAAI,EAAJA,KACrB,GAAa,UADkB,EAAJwZ,MACHZ,GAAW5Y,KAAS0V,EAAU,CAAC,IAAD,YACjDvD,EAAMuD,EAASkD,GAAW5Y,IAC9B,OACC,sBAAK9S,UAAW8rB,KAAOS,YAAY,SAClC,uBAAKvsB,UAAW8rB,KAAOU,gBAAgB,UACtC,sBAAKxsB,UAAW0E,KAAWonB,KAAOW,mBAAsB,OAAHxH,QAAG,IAAHA,GAAU,QAAP,EAAHA,EAAK3M,aAAK,OAAV,EAAY5Q,QAAS,EAAIokB,KAAOY,kBAAoB,IAAI,SAAK,OAAHzH,QAAG,IAAHA,GAAU,QAAP,EAAHA,EAAK3M,aAAK,WAAP,EAAH,EAAY5Q,SAC3H,sBAAK1H,UAAW0E,KAAWonB,KAAOa,oBAAuB,OAAH1H,QAAG,IAAHA,GAAW,QAAR,EAAHA,EAAKzM,cAAM,OAAX,EAAa9Q,QAAS,EAAIokB,KAAOY,kBAAoB,IAAI,SAAK,OAAHzH,QAAG,IAAHA,GAAW,QAAR,EAAHA,EAAKzM,cAAM,WAAR,EAAH,EAAa9Q,SAC9H,sBAAK1H,UAAW0E,KAAWonB,KAAOc,sBAAyB,OAAH3H,QAAG,IAAHA,GAAa,QAAV,EAAHA,EAAKjU,gBAAQ,OAAb,EAAetJ,QAAS,EAAIokB,KAAOY,kBAAoB,IAAI,SAAK,OAAHzH,QAAG,IAAHA,GAAa,QAAV,EAAHA,EAAKjU,gBAAQ,WAAV,EAAH,EAAetJ,aAIxI,CACA,OAAO,IACR,IASK,4DAA4Dme,KAAKC,UAAUC,WAAa,GAAK,eAAC,GAAO,CAACd,IAAK2G,EAAY9Y,KAAMpN,IAC9H,eAAC,GAAY,CAAC8iB,SAAUqE,OAAOC,QAAQtE,YAK5C,IEnEeuE,I,OCQMltB,aAAS,SAAChI,GAC9B,IAAQuE,EAAmBqC,GAAnBrC,SAAUjB,EAASsD,GAATtD,KACVid,EAA+EwR,GAA/ExR,SAAU6Q,EAAqEW,GAArEX,gBAAiBM,EAAoDK,GAApDL,cAAeZ,EAAqCiB,GAArCjB,cAAeE,EAAsBe,GAAtBf,kBAEjE,EAA4C/wB,oBAAS,GAAM,oBAApDk1B,EAAc,KAAEC,EAAiB,KACxC,EAA8Cn1B,oBAAS,GAAM,oBAAtDo1B,EAAe,KAAEC,EAAkB,KAC1C,EAA4Cr1B,oBAAS,GAAM,oBAApDs1B,EAAc,KAAEC,EAAiB,KACxC,EAA0Cv1B,mBAAS,sBAAM,oBAAlDw1B,EAAa,KAAEC,EAAgB,KA6BtC,OA3BAt0B,qBACC,WACKmD,GAAU6sB,GACf,GAEA,CAAC7sB,IAGFnD,qBAAU,WACiB,UAAtB4vB,GAA+BrlB,IAAMgqB,QAAQ,kHAC7C3E,EAAkBzkB,WAAW,WAAWZ,IAAMtG,MAAM,sGAAD,OAAuB2rB,GAC/E,GAAG,CAACA,IACJ5vB,qBAAU,WACL0vB,EAAcvkB,WAAW,WAAWZ,IAAMtG,MAAM,0FAAD,OAAqByrB,GACzE,GAAG,CAACA,IAEJ1vB,qBACC,WACKmf,EAASqV,wBAAwBR,EAAkB7U,EAASqV,wBAC5DrV,EAASsV,yBAAyBP,EAAmB/U,EAASsV,yBAC9DtV,EAASuV,2BAA2BN,EAAkBjV,EAASuV,2BAC/DvV,EAASwV,SAASL,EAAiBnV,EAASwV,QACjD,GAEA,CAACxV,IAID,sBAAKpY,UAAU,gBAAe,SAC7B,uBAAKA,UAAU,sBAAqB,UACnC,qBAAIA,UAAU,wBAAuB,oEAErC,gBAAC,KAAc,CACd6K,OAA0B,YAAlB8d,GACkB,YAAtBE,EAEJ/d,SAAO,EACP/D,KAAK,sDAAa,UAElB,iCACC,qBAAI/G,UAAU,2BAA0B,gMAGxC,uBACCA,UAAU,8BACVE,QAAS,kBAAM+sB,GAAmBD,EAAe,EAAC,UAElD,wBACCtpB,KAAK,WACL1D,UAAU,mCACV6S,QAASma,EACT/nB,SAAU,SAACqC,GAAK,OAAK2lB,EAAkB3lB,EAAMC,OAAOsL,QAAQ,IAE5D,uFAEF,uBACC7S,UAAU,8BACVE,QAAS,kBAAMitB,GAAoBD,EAAgB,EAAC,UAEpD,wBACCxpB,KAAK,WACL1D,UAAU,mCACV6S,QAASqa,EACTjoB,SAAU,SAACqC,GAAK,OAAK6lB,EAAmB7lB,EAAMC,OAAOsL,QAAQ,IAE7D,+GAEF,uBACC7S,UAAU,8BACVE,QAAS,kBAAMmtB,GAAmBD,EAAe,EAAC,UAElD,wBACC1pB,KAAK,WACL1D,UAAU,mCACV6S,QAASua,EACTnoB,SAAU,SAACqC,GAAK,OAAK+lB,EAAkB/lB,EAAMC,OAAOsL,QAAQ,IAE5D,uJAGH,wBACA,iCACC,uBAAK7S,UAAU,8BAA6B,UAC3C,wBAAOue,QAAQ,gBAAe,mKAC9B,0BACCnjB,GAAG,gBACHgO,KAAK,gBACLpJ,UAAU,iCACViF,SAAU,SAACqC,GACVimB,EAAiBjmB,EAAMC,OAAO7B,MAC/B,EACAA,MAAO4nB,EAAc,UACrB,yBAAQ5nB,MAAM,qBAAK,gCACnB,yBAAQA,MAAM,iCAAO,4CACrB,yBAAQA,MAAM,uCAAQ,uFAGxB,sBAAK1F,UAAU,8BAA8BmG,SAAUiS,EAASwV,UAAYN,GAAmC,mCAAlBA,GAA2B,8aAKzH,yBACCttB,UAAU,6BACV6L,UAAWzP,EACX8D,QAAS,WACRqpB,EAAc,CAAEkE,uBAAwBT,EAAgBU,wBAAyBR,EAAiBS,0BAA2BP,EAAgBQ,QAASN,GACvJ,EAAE,uEAIJ,0FAAenyB,EAAKG,aAIxB,K,OCpFeuyB,IChDAC,GDGf,SAA4B,GAAwE,IAGhFhb,EAHUV,EAAO,EAAPA,QAAS/D,EAAM,EAANA,OAAQC,EAAY,EAAZA,aAAcyf,EAAwB,EAAxBA,yBAA0B3xB,EAAQ,EAARA,SAClF0D,EAAUC,cAOd,OACC,uBAAKC,UAAU,cAAa,UAC3B,oBAAGA,UAAU,oBAAmB,UAPf8S,EAO2BV,EAAQ4b,kBANvC,IAAIhb,KAAKF,GACRG,mBAAmB,YAMjC,sBAAK9M,QAAS/J,EAAU4D,UAAU,oBAAmB,SACpD,eAAC,GAAM,CACNkF,SAAS,EACTF,UAAW5I,EACX2I,eAAgB,EAChBE,SAAU,SAAC3C,GACVyrB,EACC,CACC/c,SAAU,CACT,CACCqB,QAASD,EAAQC,QACjB/P,MAAOA,KAIV+L,EAEF,MAGF,qBACCrO,UAAU,oBACVC,KAAM+F,OAAOC,SAASC,OAAS,SAAWmI,EAAS,WAAaC,EAAe,YAAc8D,EAAQ8X,oBACrGhqB,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWgO,EAAS,WAAaC,EAAe,YAAc8D,EAAQ8X,qBACnF/pB,EAAEC,gBACH,EACAoF,MAAO4M,EAAQ4C,UAAU,4CAClB5C,EAAQ8X,oBAAmB,MAAK9X,EAAQ4C,eAInD,E,OEaewQ,IC3DAA,GDMf,SAAmB,GAA0D,IAAxDppB,EAAQ,EAARA,SAAUkT,EAAI,EAAJA,KAAMye,EAAwB,EAAxBA,yBAA0B/tB,EAAS,EAATA,UAC1DF,EAAUC,cAQd,SAASkuB,EAAkB5f,EAAQC,GAClC,IAAI4f,EAAYlxB,aAAaoB,QAAQ,GAAD,OAAIiQ,EAAM,YAAIC,IAClD,OAAO4f,GAA0B,SAAdA,CACpB,CAMA,OAfAj1B,qBACC,WAAO,GAEP,CAACqW,IAaD,uBAAKtP,UAAW0E,KAAW,aAAc1E,GAAW,UACnD,oBACCC,KAAM+F,OAAOC,SAASC,OAAS,SAAWoJ,EAAK+C,QAC/CnS,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWiP,EAAK+C,SAC7BlS,EAAEC,gBACH,EAAE,SACF,qBAAIJ,UAAU,mBAAkB,SAAM,OAAJsP,QAAI,IAAJA,OAAI,EAAJA,EAAM0F,cAGpC,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAMyE,QAAQpP,KAAI,SAACsN,EAAQrN,GAC3B,OACC,2BACCgP,KAAMqa,EAAkB3e,EAAK+C,QAASJ,EAAOgY,oBAC7CjqB,UAAU,qBAEVmuB,SAAU,SAAChuB,GAAC,OArBUkO,EAqBaiB,EAAK+C,QArBV/D,EAqBmB2D,EAAOgY,mBArBZmE,EAqBgCjuB,EAAEoH,OAAOqM,UApBzF5W,aAAaC,QAAQ,GAAD,OAAIoR,EAAM,YAAIC,GAAgB8f,GADnD,IAA2B/f,EAAQC,EAAc8f,CAqB8C,EAAC,UAC3F,mCAAUnc,EAAO+C,YACjB,qBAAIqZ,MAAM,wBAAuB,SAC/Bpc,EAAOjB,SAASrM,KAAI,SAACyN,EAASxN,GAC9B,OACC,qBAAI5E,UAAU,sBAAqB,SAClC,eAAC,GAAU,CAACoS,QAASA,EAAS/D,OAAQiB,EAAK+C,QAAS/D,aAAc2D,EAAOgY,mBAAoB8D,yBAA0BA,EAA0B3xB,SAAUA,KADnHwI,EAI3C,QAVIA,EAcR,MAGH,EEzDe0pB,I,OCUOzuB,aAAS,SAAChI,GAC/B,IAAQuE,EAAaqC,GAAbrC,SACAqsB,EAAgDmB,GAAhDnB,UAAWW,EAAqCQ,GAArCR,iBAAkBR,EAAmBgB,GAAnBhB,eAC7B7W,EAAsBO,GAAtBP,kBAcR,OAZA9Y,qBAAU,WACL2vB,EAAexkB,WAAW,WAAWZ,IAAMtG,MAAM,0FAAD,OAAqB0rB,GAC1E,GAAG,CAACA,IAEJ3vB,qBACC,WACKmD,GAAUgtB,GACf,GAEA,CAAChtB,IAID,sBAAK4D,UAAU,iBAAgB,SAC9B,uBAAKA,UAAU,uBAAsB,UACpC,qBAAIA,UAAU,yBAAwB,uIACtC,eAAC,KAAc,CAAC6K,OAA2B,YAAnB+d,EAA8B9d,SAAO,EAAC/D,KAAK,sDAAa,SAC9E0hB,EAAU9jB,KAAI,SAAC2K,GAAI,OACnB,eAAC,GAAS,CAACA,KAAMA,EAAMye,yBAA0Bhc,EAAmB3V,SAAUA,EAAwB4D,UAAU,8BAAnBsP,EAAKlU,GAA6C,UAMrJ,KCzCe,OAA0B,sC,OC6B1BmzB,IC3BAA,GDIf,WACC,MAA0Bz2B,mBAAS,GAAE,oBAA9BwuB,EAAK,KAAEkI,EAAQ,KAUtB,OARAv1B,qBACC,WACC+M,OAAOyoB,uBAAsB,kBAAMD,EAASlI,EAAQ,EAAE,GACvD,GAEA,CAACA,IAID,sBAAKtmB,UAAU,iBAAgB,SAC9B,uBAAKA,UAAU,uBAAsB,UACpC,4IACA,sBAAKwH,MAAO,CAAEknB,UAAU,UAAD,OAAYpI,EAAK,SAAS,SAChD,sBAAKjuB,IAAKs2B,GAAOz1B,IAAI,mDAAW8G,UAAU,gCAK/C,E,6CEFe4uB,ICvBAA,GDUf,SAAgB/2B,GACZ,IAAMoR,EAAMC,iBAAM,UAElB,OACI,mDACIlJ,UAAWsJ,mBAAQ,CAACL,IAAOpR,EAAMmI,YAAYuJ,KAAK,MAC9C1R,GAAK,aAERA,EAAMmrB,QAGnB,E,OE2Be6L,IChDAA,GDSf,SAAoBh3B,GAChB,IAAMoR,EAAMC,iBAAM,cACZpJ,EAAUC,cACT+uB,EAAUj3B,EAAVi3B,OAEDC,EAAU,SAAC9M,GACb,OAAQA,EAAKve,MACT,IAAK,OACD,MAAM,SAAN,OAAgBue,EAAKY,WACzB,IAAK,QACD,MAAM,UAAN,OAAiBZ,EAAK5P,SAC1B,IAAK,OACD,MAAM,SAAN,OAAgB4P,EAAK5P,SAEjC,EAEA,OACI,uBAAKrS,UAAWsJ,mBAAQ,CAACL,IAAOpR,EAAMmI,YAAYuJ,KAAK,KAAK,UACxD,sBACIlR,KAAW,OAANy2B,QAAM,IAANA,OAAM,EAANA,EAAQE,oBAA0B,OAANF,QAAM,IAANA,OAAM,EAANA,EAAQG,kBACzCjvB,UAAWiJ,EAAI,UACf/P,IAAI,WAER,+BACI,oBACI+G,KAAM+F,OAAOC,SAASC,OAAS6oB,EAAQD,GACvC5uB,QAAS,SAACC,GACNL,EAAQO,KAAK0uB,EAAQD,IACrB3uB,EAAEC,gBACN,EACAJ,UAAWiJ,EAAI,QAAQ,SAEtB6lB,EAAO9Z,WAAa8Z,EAAOhM,gBAKhD,EElCMoM,GAAiB,CACnB,CAAC9zB,GAAI,QAAS4nB,MAAO,4BACrB,CAAC5nB,GAAI,QAAS4nB,MAAO,8CACrB,CAAC5nB,GAAI,SAAU4nB,MAAO,yCAGpBmM,GAAatvB,aAAS,WACxB,IAAQzD,EAAmBqC,GAAnBrC,SACF6M,GADqBxK,GAATtD,KACN+N,iBAAM,eAClB,EAA4BpR,mBAAqB,MAAK,oBAA/Cg3B,EAAM,KAAEM,EAAS,KACxB,EAAgCt3B,oBAAS,GAAM,oBAA7BI,GAAF,KAAY,MAC5B,EAIIm3B,eAHA/xB,EAAQ,EAARA,SACAgyB,EAAY,EAAZA,aAIEzR,GAHiB,EAAnB0R,UAAa7xB,OAGAtF,uBAAY,SAACmgB,GACtBnc,IACAgzB,EAAU,MACVl3B,GAAW,GnE0ChB,SAA2B,GAAD,gCmEzCrBs3B,CAAYjX,GACP1b,MAAK,SAAA4yB,GACFL,EAAUK,EAAS,GACvB,IACCC,OAAM,SAAAvvB,GAAC,aAAIqD,IAAMtG,MAAM,mFAAD,OAAkC,QAAlC,EAAmBiD,EAAExH,SAASI,YAAI,aAAf,EAAiBmE,OAAQ,IAE/E,GAAG,CAACd,KAEJ,OACI,uBAAK4D,UAAWiJ,IAAM,UAClB,wBACI4U,SAAUyR,EAAazR,GACvB7d,UAAWiJ,EAAI,QAAQ,UAEvB,qBAAIjJ,UAAWiJ,EAAI,UAAU,gFAG7B,iCACI,sBAAKjJ,UAAWiJ,EAAI,SAAS,oEAIzBimB,GAAevqB,KAAI,SAAC8X,GAAa,OAC7B,iCACI,qCACI/Y,KAAK,WACLgC,MAAO+W,EAASrhB,GAChBA,GAAIqhB,EAASrhB,IACTkC,EAAS,gBAEjB,wBAAOihB,QAAS9B,EAASrhB,GAAG,SACvBqhB,EAASuG,UARRvG,EAASrhB,GAUb,OAIlB,iCACI,qCACIA,GAAG,YACHsI,KAAK,YACDpG,EAAS,eAEjB,wBAAOihB,QAAQ,YAAW,mKAI9B,eAAC,GAAM,CACH7a,KAAK,SACLsf,MAAM,8DAGP,OAAN8L,QAAM,IAANA,KAAQE,iBAED,eAAC,GAAK,CAAC32B,IAAW,OAANy2B,QAAM,IAANA,OAAM,EAANA,EAAQE,iBACbW,OAAQ,kBAAMz3B,GAAW,EAAM,EAC/BsP,MAAO,CAACC,MAAO,EAAGgO,OAAQ,KAEjC,sBACIpd,IAAW,OAANy2B,QAAM,IAANA,OAAM,EAANA,EAAQG,iBACbU,OAAQ,kBAAMz3B,GAAW,EAAM,EAC/BsP,MAAO,CAACC,MAAO,EAAGgO,OAAQ,KAIlCqZ,GACI,eAAC,KAAI,CAAClZ,OAAK,EAACga,SAAU,IAAKC,SAAS,OAAM,SACtC,eAAC,GAAU,CAACf,OAAQA,QAW5C,IAEeK,MC/FTW,GAAM,kHAqBV,OArBU,mCACX,WACC,OACC,gBAAC,IAAM,WACN,eAAC,IAAK,CAACC,OAAK,EAACC,KAAK,IAAIC,UAAWrwB,KACjC,eAAC,IAAK,CAACmwB,OAAK,EAACC,KAAK,YAAYC,UAAWrmB,KACzC,eAAC,IAAK,CAACmmB,OAAK,EAACC,KAAK,aAAaC,UAAWjjB,KAC1C,eAAC,IAAK,CAAC+iB,OAAK,EAACC,KAAK,YAAYC,UAAW3b,KACzC,eAAC,IAAK,CAACyb,OAAK,EAACC,KAAK,gCAAgCC,UAAWrb,KAC7D,eAAC,IAAK,CAACmb,OAAK,EAACC,KAAK,+DAA+DC,UAAW9Y,KAC5F,eAAC,IAAK,CAAC4Y,OAAK,EAACC,KAAK,iBAAiBC,UAAWvT,KAC9C,eAAC,IAAK,CAACqT,OAAK,EAACC,KAAK,YAAYC,UAAWjS,KACzC,eAAC,IAAK,CAAC+R,OAAK,EAACC,KAAK,qBAAqBC,UAAW9R,KAClD,eAAC,IAAK,CAAC4R,OAAK,EAACC,KAAK,gBAAgBC,UAAWtI,KAC7C,eAAC,IAAK,CAACoI,OAAK,EAACC,KAAK,YAAYC,UAAWtE,KACzC,eAAC,IAAK,CAACoE,OAAK,EAACC,KAAK,YAAYC,UAAWlD,KACzC,eAAC,IAAK,CAACgD,OAAK,EAACC,KAAK,aAAaC,UAAW3B,KAC1C,eAAC,IAAK,CAACyB,OAAK,EAACC,KAAK,UAAUC,UAAWd,KACvC,eAAC,IAAK,CAACc,UAAW1B,OAGrB,KAAC,EArBU,CAAS2B,IAAMC,WAwBZL,MC1CAM,I,OCSKvwB,aAAS,YAA8B,IAA3Bge,EAAQ,EAARA,SAAU7d,EAAS,EAATA,UACzC,EAA0BlI,mBAAS,IAAG,oBAA/ByJ,EAAK,KAAE8f,EAAQ,KAClBvhB,EAAUC,cACNiZ,EAAuB0B,GAAvB1B,YAAaL,EAAU+B,GAAV/B,MAErB,OACC,wBACCkF,SAAU,SAACvW,GACVuW,EAASvW,GACT+Z,EAAS,GACV,EACArhB,UAAW0E,KAAW,eAAgB1E,GAAW,UACjD,wBACC0D,KAAK,OACLoa,YAAY,iCACZ,aAAW,iCACX9d,UAAU,sBACV5E,GAAG,cACHsK,MAAOnE,EACP0D,SAAU,SAACqC,GACV+Z,EAAS/Z,EAAMC,OAAO7B,OACtBsT,EAAY1R,EAAMC,OAAO7B,MAC1B,IAED,uBAAK1F,UAAW0E,KAAW,sBAAiC,KAAVnD,IAAkBoX,EAAML,MAAM5Q,OAAS,GAAKiR,EAAMH,OAAO9Q,OAAS,GAAKiR,EAAMF,MAAM/Q,OAAS,GAAoC,GAA/B,8BAAmC,UACrL,uBAAKvB,QAASwS,EAAML,MAAM5Q,OAAS,EAAE,UACpC,eAAC,KAAgB,IAChBiR,EAAML,MAAM3T,KAAI,SAAC0rB,EAAM5P,GAAG,aAC1B,qBAECxgB,KAAM+F,OAAOC,SAASC,OAAS,SAAWmqB,EAAKxN,UAC/C7iB,UAAU,qBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWgwB,EAAKxN,WAC7B1iB,EAAEC,iBACFihB,EAAS,GACV,EAAE,UACD,sBAAKhpB,IAAKg4B,EAAKtN,mBAAoB7pB,IAAK,KACxCm3B,EAAKvN,UACN,+BAAU,OAAJuN,QAAI,IAAJA,GAAuB,QAAnB,EAAJA,EAAMC,yBAAiB,WAAnB,EAAJ,EAAyBC,OAAO,EAAG,OAVpC9P,EAWF,OAGN,uBAAKta,QAASwS,EAAMH,OAAO9Q,OAAS,EAAE,UACrC,eAAC,KAAa,IACbiR,EAAMH,OAAO7T,KAAI,SAAC0rB,EAAM5P,GAAG,aAC3B,qBAECxgB,KAAM+F,OAAOC,SAASC,OAAS,UAAYmqB,EAAKhe,QAChDrS,UAAU,qBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,UAAYgwB,EAAKhe,SAC9BlS,EAAEC,iBACFihB,EAAS,GACV,EAAE,UACD,eAAC,GAAK,CAAChpB,IAAKg4B,EAAKlb,mBAAoBjc,IAAK,KAC1Cm3B,EAAKrb,UACN,+BAAU,OAAJqb,QAAI,IAAJA,GAAuB,QAAnB,EAAJA,EAAMrC,yBAAiB,WAAnB,EAAJ,EAAyBuC,OAAO,EAAG,OAVpC9P,EAWF,OAGN,uBAAKta,QAASwS,EAAMF,MAAM/Q,OAAS,EAAE,UACpC,eAAC,KAAQ,IACRiR,EAAMF,MAAM9T,KAAI,SAAC0rB,EAAM5P,GAAG,aAC1B,qBAECxgB,KAAM+F,OAAOC,SAASC,OAAS,SAAWmqB,EAAKhe,QAC/CrS,UAAU,qBACVE,QAAS,SAACC,GACTL,EAAQO,KAAK,SAAWgwB,EAAKhe,SAC7BlS,EAAEC,iBACFihB,EAAS,GACV,EAAE,UACD,eAAC,GAAK,CAAChpB,IAAKg4B,EAAKlb,mBAAoBjc,IAAK,KAC1Cm3B,EAAKrb,UACN,+BAAU,OAAJqb,QAAI,IAAJA,GAAuB,QAAnB,EAAJA,EAAMrC,yBAAiB,WAAnB,EAAJ,EAAyBuC,OAAO,EAAG,OAVpC9P,EAWF,YAMV,KC3Fe+P,I,OCWA3wB,aAAS,SAAChI,GACxB,IAAQoH,EAAiCP,GAAjCO,cAAeI,EAAkBX,GAAlBW,cACfoI,EAAUoZ,KAAVpZ,MACArL,EAAmBqC,GAAnBrC,SAAUjB,EAASsD,GAATtD,KAEd2E,EAAUC,cAEd,EAAgCjI,oBAAS,GAAK,oBAAvCiqB,EAAQ,KAAEC,EAAW,KAM5B,SAASyO,IACJhpB,GAAS,KAAKua,GAAY,EAC/B,CAEA,OACC,uBAAKhiB,UAAU,SAAQ,UACtB,uBAAKA,UAAU,eAAc,UAC5B,eAAC,KAAM,CAACE,QAASjB,EAAee,UAAU,2BAC1C,sBAAKE,QAAS,kBAAMJ,EAAQO,KAAK,IAAI,EAAEL,UAAU,eAAc,uBAG/D,sBAAKE,QAfe,WACtB8hB,GAAaD,EACd,EAaiC/hB,UAAU,0BAAyB,SAC/D+hB,EAAW,eAAC,KAAW,IAAM,eAAC,KAAS,SAG1C,sBAAK/hB,UAAW0E,KAAW,iBAAkBqd,GAAYta,GAAS,IAAM,2BAA6B,IAAI,SACxG,eAAC,GAAW,CACXoW,SAAU,SAACvW,GACVA,EAAMlH,iBACNN,EAAQO,KAAK,WAAaqK,SAAS0J,eAAe,eAAe1O,OACjE+qB,GACD,EACAzwB,UAAU,2BAGZ,uBAAKA,UAAW0E,KAAW,gBAAiBqd,GAAYta,GAAS,IAAM,0BAA4B,IAAI,UACtG,uBACCvH,QAAS,WACRJ,EAAQO,KAAK,SAAD,OAAc,OAAJlF,QAAI,IAAJA,OAAI,EAAJA,EAAMC,KAC5Bq1B,GACD,EACAzwB,UAAU,sBACVmG,QAAS/J,EAAS,UAClB,eAAC,KAAY,IAAG,IAAM,OAAJjB,QAAI,IAAJA,OAAI,EAAJA,EAAMR,YAEzB,uBAAKuF,QAASb,EAAeW,UAAU,sBAAsBmG,OAAQ/J,EAAS,UAC7E,eAAC,KAAW,IAAG,0CAKpB,KCnEe,I,OAAA,IAA0B,uCC2C1Bs0B,ICzCAA,GDIf,SAAgB,GAAgB,IAAd1wB,EAAS,EAATA,UACjB,OACC,sBAAKA,UAAW0E,KAAW,SAAU1E,GAAW,SAC/C,uBAAKA,UAAU,eAAc,UAC5B,iCACC,qBAAIA,UAAU,eAAc,uBAC5B,oBAAGA,UAAU,gBAAe,oCAC5B,oBAAGA,UAAU,eAAc,yBAChB,IAAIgT,MAAQ4R,oBAGxB,uBAAK5kB,UAAU,uBAAsB,UACpC,2bACA,oBAAGC,KAAK,+BAA+BD,UAAU,sBAAqB,SACrE,eAAC,KAAI,MAEN,oBAAGC,KAAK,gCAAgCD,UAAU,sBAAqB,SACtE,eAAC,KAAS,SAGZ,uBAAKA,UAAU,uBAAsB,UACpC,oNACA,oBAAGC,KAAK,mBAAmBD,UAAU,oBAAmB,kBAGxD,oBAAGC,KAAK,8BAA6B,SACpC,sBACCD,UAAU,oBACV3H,IAAKs4B,cAOZ,E,SEvCeC,I,OC+BC/wB,aAAS,SAAChI,GACzB,IAAMiI,EAAUC,cACR0H,EAAUoZ,KAAVpZ,MAEArL,EAAuCqC,GAAvCrC,SAAUjB,EAA6BsD,GAA7BtD,KAAMgC,EAAuBsB,GAAvBtB,mBAChB6B,EAA4GN,GAA5GM,mBAAoBD,EAAwFL,GAAxFK,iBAAkBK,EAAsEV,GAAtEU,gBAAiBH,EAAqDP,GAArDO,cAAeI,EAAsCX,GAAtCW,cAAeE,EAAuBb,GAAvBa,mBAE7F,SAASsxB,IACJppB,EAAQ,MAAQA,EAAQ,OAASzI,GAAoBI,IACrDqI,GAAS,MAAMxI,GACpB,CAEA,OACC,gBAAC,KAAU,CAACe,UAAU,UAAU8wB,UAAW9xB,EAAoBmH,QAASpH,EAAiB,UACxF,gBAAC,KAAI,CAACgyB,UAAU,QAAQ5qB,QAAS/J,EAAS,UACzC,eAAC,KAAQ,CAAC6uB,KAAM,eAAC,KAAY,IAAI,SAChC,oBACChrB,KAAI,gBAAe,OAAJ9E,QAAI,IAAJA,OAAI,EAAJA,EAAMC,IACrB8E,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,SAAD,OAAc,OAAJlF,QAAI,IAAJA,OAAI,EAAJA,EAAMC,KAC5By1B,GACD,EAAE,0DAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAa,IAAI,SACjC,oBACChrB,KAAI,gBAAW9E,EAAKC,GAAE,uDACtB8E,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,SAAD,OAAc,OAAJlF,QAAI,IAAJA,OAAI,EAAJA,EAAMC,GAAE,wDAC9By1B,GACD,EAAE,oDAKJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAQ,IAAI,SAC5B,oBACChrB,KAAI,aACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,cACbwwB,GACD,EAAE,0GAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAU,IAAI,SAC9B,oBACChrB,KAAI,YACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,aACbwwB,GACD,EAAE,sEAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAQ,IAAI,SAC5B,oBACChrB,KAAI,UACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,WACbwwB,GACD,EAAE,kFAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAU,IAAI,SAC9B,oBACChrB,KAAI,YACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNN,EAAQO,KAAK,aACbwwB,GACD,EAAE,sEAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAY,IAAI,SAChC,oBACChrB,KAAI,IACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNjD,GACD,EAAE,iDAKL,gBAAC,KAAI,CAAC4zB,UAAU,QAAQ5qB,OAAQ/J,EAAS,UACxC,eAAC,KAAQ,CAAC6uB,KAAM,eAAC,KAAW,IAAI,SAC/B,oBACChrB,KAAI,IACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNf,IACAwxB,GACD,EAAE,8CAIJ,eAAC,KAAQ,CAAC5F,KAAM,eAAC,KAAU,IAAI,SAC9B,oBACChrB,KAAI,IACJC,QAAS,SAACoH,GACTA,EAAMlH,iBACNb,IACAsxB,GACD,EAAE,+HAKL,eAAC,KAAa,UACb,eAAC,KAAI,CAACE,UAAU,QAAO,SACtB,eAAC,KAAQ,CAAC9F,KAAMjsB,EAAqB,eAAC,KAAY,IAAM,eAAC,KAAW,IAAKkB,QAASd,EAAgB,oEAOvG,K,OC1Ie4xB,ICnBAA,GDUf,SAAe,GAAuD,IAArDhxB,EAAS,EAATA,UAAWwc,EAAQ,EAARA,SAAU4R,EAAM,EAANA,OAAQ6C,EAAM,EAANA,OAC7C,OACC,uBAAKjxB,UAAW0E,KAAW,SAAU0pB,EAAS,cAAgB,IAAI,UACjE,sBAAKpuB,UAAW0E,KAAW,oBAAqBxE,QAAS+wB,IACzD,sBAAKjxB,UAAW0E,KAAW,kBAAmB1E,GAAW,SAAEwc,MAG9D,EENM0U,I,OAAYrxB,aAAS,WAC1B,IAAQnD,EAAuB+B,GAAvB/B,QAASL,EAAcoC,GAAdpC,UACTsC,EAA+ED,GAA/EC,gBAAiBW,EAA8DZ,GAA9DY,eAAgBG,EAA8Cf,GAA9Ce,sBAAuBF,EAAuBb,GAAvBa,mBAEhE,EAAgCzH,mBAAS,IAAG,oBAArC8C,EAAQ,KAAEwjB,EAAW,KAC5B,EAA0BtmB,mBAAS,IAAG,oBAA/B6E,EAAK,KAAEw0B,EAAQ,KAEtBl4B,qBAAU,WACS,SAAdoD,GACHiD,GAEF,GAAG,CAACjD,EAAWiD,IAEf,IAAMue,EAAQ,iDAAG,WAAOvW,GAAU,2EACV,OAAvBA,EAAMlH,iBAAiB,SACjB1D,EAAQC,EAAO/B,GAAU,KAAD,sCAC9B,gBAHa,sCAKRw2B,EAAkB,iDAAG,wGACpB9xB,IAAiB,KAAD,kBAChBG,IAAwB,KAAD,sCAC7B,kBAHuB,mCAKlB4xB,EAAc,iDAAG,wGAChB/xB,IAAiB,KAAD,kBAChBC,IAAqB,KAAD,sCAC1B,kBAHmB,mCAKpB,OACC,eAAC,GAAK,CAAC6uB,OAAQzvB,EAAiBsyB,OAAQ3xB,EAAgBU,UAAU,aAAY,SAC7E,wBAAM6d,SAAUA,EAAS,UACxB,qBAAI7d,UAAU,qBAAoB,4CAGlC,oBACCA,UAAU,mBACVmG,QAAS9J,EAAU+H,WAAW,UAAU,SAEvC/H,IAGF,wBACCkiB,QAAQ,aACRve,UAAU,YAAW,4CAItB,wBACC0D,KAAK,OACLtI,GAAG,aACH4E,UAAU,oBACV0F,MAAO/I,EACPsI,SAAU,SAAC9E,GAAC,OAAKgxB,EAAShxB,EAAEoH,OAAO7B,MAAM,IAG1C,wBACC6Y,QAAQ,gBACRve,UAAU,YAAW,kDAItB,wBACC0D,KAAK,WACLtI,GAAG,gBACH4E,UAAU,oBACV0F,MAAO9K,EACPqK,SAAU,SAAC9E,GAAC,OAAKie,EAAYje,EAAEoH,OAAO7B,MAAM,IAG7C,uBAAK1F,UAAU,mBAAkB,UAChC,yBACC0D,KAAK,SACL1D,UAAU,0BAAyB,SAEpB,YAAd3D,EAA0B,iCAAU,wDAEtC,wBACC2D,UAAU,yBACVE,QAASkxB,EAAmB,2HAG7B,wBACCpxB,UAAU,yBACVE,QAASmxB,EAAe,iIAO9B,KCrGeH,GDuGAA,GEvGAI,I,OCYMzxB,aAAS,WAC7B,IAAQvC,EAAoCmB,GAApCnB,SAAUhB,EAA0BmC,GAA1BnC,gBAAiBnB,EAASsD,GAATtD,KAC3ByD,EAA8CF,GAA9CE,qBAAsBY,EAAwBd,GAAxBc,oBAE9B,EAA8C1H,mBAAS,IAAG,oBAAnDumB,EAAe,KAAEC,EAAkB,KAC1C,EAAgCxmB,mBAAS,IAAG,oBAArC8C,EAAQ,KAAEwjB,EAAW,KAC5B,EAA0BtmB,mBAAS,IAAG,oBAA/BwD,EAAK,KAAEi2B,EAAQ,KACtB,EAA0Bz5B,mBAAS,IAAG,oBAA/B6E,EAAK,KAAEw0B,EAAQ,KAItB,OACC,eAAC,GAAK,CACL/C,OAAQxvB,EACRqyB,OAAQzxB,EACRQ,UAAU,gBAAe,SAEzB,kCACC,oBACCA,UAAU,sBACVmG,QAAS7J,EAAgB8H,WAAW,UAAU,SAE7C9H,IAEF,qBACC0D,UAAU,yBACVmG,OAAwB,MAAZ,OAAJhL,QAAI,IAAJA,OAAI,EAAJA,EAAMG,OAAa,UAE1BH,EAAKwB,MAAK,qTAEZ,qBAAIqD,UAAU,wBAAuB,gFAIrC,wBAAOue,QAAQ,aAAY,wDAG3B,wBACC7a,KAAK,OACL1D,UAAU,uBACV0F,MAAO/I,EACPsI,SAAU,SAAC9E,GAAC,OAAKgxB,EAAShxB,EAAEoH,OAAO7B,MAAM,IAG1C,wBAAO6Y,QAAQ,aAAY,+GAG3B,wBACC7a,KAAK,QACL1D,UAAU,uBACV0F,MAAOpK,EACP2J,SAAU,SAAC9E,GAAC,OAAKoxB,EAASpxB,EAAEoH,OAAO7B,MAAM,IAG1C,wBAAO6Y,QAAQ,gBAAe,kDAG9B,wBACC7a,KAAK,WACL1D,UAAU,uBACV0F,MAAO9K,EACPqK,SAAU,SAAC9E,GAAC,OAAKie,EAAYje,EAAEoH,OAAO7B,MAAM,IAG7C,wBAAO6Y,QAAQ,uBAAsB,iIAGrC,wBACC7a,KAAK,WACL1D,UAAW0E,KACV,uBACA2Z,EACGA,IAAoBzjB,EACnB,6BACA,6BACD,MAEJ8K,MAAO2Y,EACPpZ,SAAU,SAAC9E,GAAC,OAAKme,EAAmBne,EAAEoH,OAAO7B,MAAM,IAGpD,sBAAK1F,UAAU,mBAAkB,SAChC,yBACC0D,KAAK,SACL1D,UAAU,6BACV6L,SACCjR,IAAayjB,GACT1hB,EAAM+K,OAAS,GACfpM,EAAMoM,OAAS,GACf9M,EAAS8M,OAAS,EAEvBxH,QAlFkB,WAAH,OAAS5C,EAASX,EAAOrB,EAAOV,EAAU,EAkFjC,SAEH,YAApB0B,EAAgC,+GAAuB,8DAM9D,KCpGMk1B,I,OAAoB3xB,aAAS,WAClC,IAAQ7D,EAAsCyC,GAAtCzC,cAAeQ,EAAuBiC,GAAvBjC,mBACfqC,EAAoDH,GAApDG,wBAAyBa,EAA2BhB,GAA3BgB,uBAEjC,EAA0B5H,mBAAS,IAAG,oBAA/BwD,EAAK,KAAEi2B,EAAQ,KAEhB1T,EAAQ,iDAAG,WAAOvW,GAAU,2EACV,OAAvBA,EAAMlH,iBAAiB,SACjBpE,EAAcV,GAAO,KAAD,sCAC1B,gBAHa,sCAKd,OACC,eAAC,GAAK,CAAC8yB,OAAQvvB,EAAyBoyB,OAAQvxB,EAAwBM,UAAU,sBAAqB,SACtG,wBAAM6d,SAAUA,EAAS,UACxB,qBAAI7d,UAAU,8BAA6B,mGAG3C,oBACCA,UAAU,4BACVmG,QAAS3J,EAAmB4H,WAAW,UAAU,SAEhD5H,IAEF,oBACCwD,UAAU,+BACVmG,OAA+B,SAAvB3J,EAA8B,oLAKvC,wBAAO+hB,QAAQ,aAAY,4CAG3B,wBACC7a,KAAK,OACL1D,UAAU,6BACV0F,MAAOpK,EACP2J,SAAU,SAAC9E,GAAC,OAAKoxB,EAASpxB,EAAEoH,OAAO7B,MAAM,IAG1C,yBAAQhC,KAAK,SAAS1D,UAAU,8BAA6B,SACpC,YAAvBxD,EAAmC,mDAAa,4DAKtD,KCzDeg1B,GD2DAA,G,mBEjBAC,GA3BH5xB,aAAS,WACpB,IAAQ1B,EAAcM,GAAdN,UAMR,OAJAlF,qBAAU,WACTkF,GACD,GAAG,CAACA,IAGH,uBAAK6B,UAAU,MAAK,UACnB,sBAAKA,UAAU,YAAW,SACzB,eAAC,IAAa,UACb,gBAAC,qBAAkB,CAAC0xB,QAASC,KAAoB,UAChD,eAAC,GAAM,IACP,eAAC,GAAO,IACR,eAAC,GAAM,IACP,eAAC,GAAM,CAAC3xB,UAAU,uBAIrB,eAAC,IAAc,CAAC6D,SAAS,aAAa+tB,iBAAe,EAACC,aAAW,EAACC,cAAY,EAACruB,UAAW,MAC1F,eAAC,GAAS,IACV,eAAC,GAAY,IACb,eAAC,GAAiB,MAGrB,IC9BMsuB,GAAcC,QACU,cAA7BhsB,OAAOC,SAASgsB,UAEc,UAA7BjsB,OAAOC,SAASgsB,UAEhBjsB,OAAOC,SAASgsB,SAASC,MAAM,2DAkCjC,SAASC,GAAgBC,EAAOxxB,GAC/BklB,UAAUuM,cACR/0B,SAAS80B,GACTv1B,MAAK,SAAClB,GACNA,EAAa22B,cAAgB,WAC5B,IAAMC,EAAmB52B,EAAa62B,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACD,cAA3BF,EAAiBG,QAChB5M,UAAUuM,cAAcM,YAI3B3xB,QAAQC,IAAI,iHAGRL,GAAUA,EAAOgyB,UACpBhyB,EAAOgyB,SAASj3B,KAMjBqF,QAAQC,IAAI,sCAGRL,GAAUA,EAAOiyB,WACpBjyB,EAAOiyB,UAAUl3B,IAIrB,EACD,CACD,IACC+zB,OAAM,SAACxyB,GACP8D,QAAQ9D,MAAM,4CAA6CA,EAC5D,GACF,CCrFA41B,IAAS7uB,OAAO,eAAC,GAAG,IAAKyG,SAAS0J,eAAe,SDe1C,SAAkBxT,GACxB,GAA6C,kBAAmBklB,UAAW,CAG1E,GADkB,IAAIiN,IAAIC,GAAwBhtB,OAAOC,SAAShG,MACpDiG,SAAWF,OAAOC,SAASC,OAIxC,OAGDF,OAAOib,iBAAiB,QAAQ,WAC/B,IAAMmR,EAAK,UAAMY,GAAsB,sBAEnCjB,KA0DP,SAAiCK,EAAOxxB,GAEvCqyB,MAAMb,EAAO,CACZ35B,QAAS,CAAE,iBAAkB,YAE5BoE,MAAK,SAAClE,GAEN,IAAMu6B,EAAcv6B,EAASF,QAAQF,IAAI,gBACjB,MAApBI,EAASiD,QAAkC,MAAfs3B,IAA8D,IAAvCA,EAAYzoB,QAAQ,cAE1Eqb,UAAUuM,cAAcc,MAAMt2B,MAAK,SAAClB,GACnCA,EAAay3B,aAAav2B,MAAK,WAC9BmJ,OAAOC,SAASotB,QACjB,GACD,IAGAlB,GAAgBC,EAAOxxB,EAEzB,IACC8uB,OAAM,WACN1uB,QAAQC,IAAI,gEACb,GACF,CA/EIqyB,CAAwBlB,EAAOxxB,GAI/BklB,UAAUuM,cAAcc,MAAMt2B,MAAK,WAClCmE,QAAQC,IAAI,4GACb,KAGAkxB,GAAgBC,EAAOxxB,EAEzB,GACD,CACD,CC1CAyxB,E","file":"static/js/main.d90a6f75.chunk.js","sourcesContent":["import * as React from 'react';\n\nimport './Image.scss';\nimport {useCallback, useEffect, useState} from 'react';\nimport axios from 'axios';\n\nfunction Image(props: React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>) {\n    const [dataUrl, setDataUrl] = useState(null);\n    const [isLoading, setLoading] = useState(false);\n\n    const loadImage = useCallback(async () => {\n        if (!props.src || isLoading) {\n            return;\n        }\n        setLoading(true);\n        try {\n            const response = await axios\n                .get(props.src, {\n                    responseType: 'arraybuffer',\n                    headers:{\n                        Origin: 'https://developer.themoviedb.org/',\n                    },\n                });\n\n            const base64 = Buffer.from(response.data, 'binary').toString('base64');\n\n            setDataUrl(`data:image/png;base64,${base64}`);\n        } finally {\n            setLoading(false);\n        }\n    }, [props.src, isLoading]);\n\n    useEffect(() => {\n        loadImage();\n    }, [props.src]);\n\n    return (\n        <img {...props} src={dataUrl} alt={props.alt} />\n    );\n}\n\nexport default Image;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calendarPage\":\"calendar-page_calendarPage__29wv0\",\"pageHeader\":\"calendar-page_pageHeader__1PvOu\",\"calendarDay\":\"calendar-page_calendarDay__1uzIW\",\"calendarDayBody\":\"calendar-page_calendarDayBody__3zbLn\",\"calendarDayGames\":\"calendar-page_calendarDayGames__2Iu3C\",\"calendarDayMovies\":\"calendar-page_calendarDayMovies__4JRvd\",\"calendarDayEpisodes\":\"calendar-page_calendarDayEpisodes__1vctD\",\"calendarDayHidden\":\"calendar-page_calendarDayHidden__2Hjhl\"};","/**Адрес сервера*/\n// export const BACKEND_URL = \"http://localhost:8000/\";\nexport const BACKEND_URL = \"https://your-interests.ru/api/\";\n/**Адрес получения токена */\nexport const GET_TOKEN_URL = BACKEND_URL + \"users/auth/login/\";\n/**Адрес обновления токена */\nexport const REFRESH_TOKEN_URL = BACKEND_URL + \"users/auth/refresh-token/\";\n/**Адрес регистрации */\nexport const REGISTRATE_URL = BACKEND_URL + \"users/auth/signup/\";\n/**Адрес подтверждения почты */\nexport const CONFIRM_URL = BACKEND_URL + \"users/auth/confirm_email/\";\n/**Адрес сброса пароля */\nexport const RESET_PASSWORD_URL = BACKEND_URL + \"users/auth/password_reset/\";\n/**Адрес подтверждения сброса пароля */\nexport const CONFIRM_PASSWORD_URL = BACKEND_URL + \"users/auth/confirm_password_reset/\";\n/**Адрес запроса игры */\nexport const GET_GAME_URL = \"games/game/\";\n/**Адрес поиска игр */\nexport const SEARCH_GAMES_URL = \"games/search/rawg/\";\n/**Адрес быстрого поиска игр */\nexport const SEARCH_GAMES_FAST_URL = \"games/search/\";\n/**Адрес запроса фильма */\nexport const GET_MOVIE_URL = \"movies/movie/\";\n/**Адрес поиска фильмов */\nexport const SEARCH_MOVIES_URL = \"movies/search/tmdb/\";\n/**Адрес быстрого поиска игр */\nexport const SEARCH_MOVIES_FAST_URL = \"movies/search/\";\n/**Адрес запроса сериала */\nexport const GET_SHOW_URL = \"shows/show/\";\n/**Адрес поиска сериалов */\nexport const SEARCH_SHOWS_URL = \"shows/search/tmdb/\";\n/**Адрес быстрого поиска сериалов */\nexport const SEARCH_SHOWS_FAST_URL = \"shows/search/\";\n/**Адрес запроса непросмотренных серий */\nexport const GET_UNWATCHED_EPISODES_URL = \"shows/show/unwatched_episodes/\";\n/**Адрес получения информации о пользователе */\nexport const USER_INFO_URL = \"users/user/\";\n/**Адрес получения календаря релизов пользователя */\nexport const USER_CALENDAR_URL = \"users/user/release_calendar/\";\n/**Адрес поиска пользователей */\nexport const SEARCH_USERS_URL = \"users/search/\";\n/**Адрес сохранения настроек */\nexport const USER_SETTINGS_URL = \"users/user/user_settings/\";\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport * as urls from \"../settings\";\n\n/**\n * ПОлучение токена авторизации. Токен сохраняется в localStorage\n * @param {string} username Имя пользователя\n * @param {string} password Пароль\n */\nexport async function getToken(username, password) {\n\tconst res = await axios.post(urls.GET_TOKEN_URL, {\n\t\tusername: username,\n\t\tpassword: password,\n\t});\n\n\tlet userData = jwt_decode(res.data.access);\n\tlet user = { username: userData.username, id: userData.user_id, email: userData.email };\n\n\treturn { token: res.data.access, refreshToken: res.data.refresh, user: user };\n}\n\n/**\n * Функция обновления токена\n */\nexport async function updateToken(refreshToken) {\n\tconst res = await axios.post(urls.REFRESH_TOKEN_URL, { refresh: refreshToken });\n\tlet userData = jwt_decode(res.data.access);\n\tlet user = { username: userData.username, id: userData.user_id, email: userData.email };\n\n\treturn { token: res.data.access, user: user };\n}\n\nexport async function registration(username, email, password) {\n\tconst res = await axios.post(urls.REGISTRATE_URL, {\n\t\tusername: username,\n\t\temail: email,\n\t\tpassword: password,\n\t});\n\tlet data = res.data;\n\tdata.status = res.status;\n\treturn data;\n}\n\nexport async function confirmation(uid64, token) {\n\tconst res = await axios.patch(urls.CONFIRM_URL + \"?uid64=\" + uid64 + \"&token=\" + token);\n\treturn res;\n}\n\nexport async function resetPassword(email) {\n\tconst res = await axios.put(urls.RESET_PASSWORD_URL, { email: email });\n\treturn res;\n}\n\nexport async function confirmPassword(token, password) {\n\tconst res = await axios.patch(urls.CONFIRM_PASSWORD_URL + \"?reset_token=\" + token, { password: password });\n\treturn res;\n}\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as auth from '../services/jwtAuth';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface ICurrentUser {\n\tlogin?: string,\n\tusername?: string,\n\temail?: string,\n\tid?: number | null,\n}\n\ninterface IAuthState {\n\tloggedIn: boolean,\n\tuser: ICurrentUser,\n\tauthState: IPendingState,\n\tregistrateState: IPendingState,\n\tconfirmEmailState: IPendingState,\n\tresetPasswordState: IPendingState,\n\tconfirmPasswordState: IPendingState,\n}\n\nclass Auth implements IAuthState {\n\tloggedIn = false;\n\tuser: ICurrentUser = {\n\t\tusername: '',\n\t\temail: '',\n\t\tid: null,\n\t};\n\tauthState = '';\n\tregistrateState = '';\n\tconfirmEmailState = '';\n\tresetPasswordState = '';\n\tconfirmPasswordState = '';\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\ttryAuth = async (login: string, password: string) => {\n\t\tthis.authState = 'pending';\n\t\tauth.getToken(login, password).then(this.authSuccess, this.authFailure);\n\t};\n\tauthSuccess = (res: {refreshToken: string, token: string, user: ICurrentUser}) => {\n\t\tlocalStorage.setItem('refreshToken', res.refreshToken);\n\t\tlocalStorage.setItem('token', res.token);\n\t\tthis.loggedIn = true;\n\t\tthis.user = res.user;\n\t\tthis.authState = 'done';\n\t};\n\tauthFailure = async (error: any) => {\n\t\tawait this.resetAuthorization();\n\t\tthis.authState = 'error: ' + error.response.data.detail;\n\t};\n\n\tresetAuthorization = async () => {\n\t\tthis.loggedIn = false;\n\t\tthis.user = { username: '', id: null, email: '' };\n\t\tlocalStorage.removeItem('refreshToken');\n\t\tlocalStorage.removeItem('token');\n\t};\n\n\tregister = async (username: string, email: string, password: string) => {\n\t\tthis.registrateState = 'pending';\n\t\tauth.registration(username, email, password).then(this.registerSuccess, this.registerFailure);\n\t};\n\tregisterSuccess = (result: {username: string, email: string}) => {\n\t\tthis.user = { login: result.username, email: result.email };\n\t\tthis.registrateState = 'done';\n\t};\n\tregisterFailure = (error: any) => {\n\t\tlet errors = '';\n\t\tfor (const error2 in error.response.data) {\n\t\t\terrors += error.response.data[error2] + '\\n';\n\t\t}\n\t\tthis.registrateState = 'error: ' + errors;\n\t};\n\n\tconfirmEmail = async (uid64: string, token: string) => {\n\t\tthis.confirmEmailState = 'pending';\n\t\tauth.confirmation(uid64, token).then(this.confirmEmailSuccess, this.confirmEmailFailure);\n\t};\n\tconfirmEmailSuccess = () => {\n\t\tthis.confirmEmailState = 'done';\n\t};\n\tconfirmEmailFailure = (error: any) => {\n\t\tlet errors = '';\n\t\tfor (const error2 in error.response.data) {\n\t\t\terrors += error.response.data[error2] + '\\n';\n\t\t}\n\t\tthis.confirmEmailState = 'error: ' + errors;\n\t};\n\n\tresetPassword = async (email: string) => {\n\t\tthis.resetPasswordState = 'pending';\n\t\tauth.resetPassword(email).then(this.resetPasswordSuccess, this.resetPasswordFailure);\n\t};\n\tresetPasswordSuccess = () => {\n\t\tthis.resetPasswordState = 'done';\n\t};\n\tresetPasswordFailure = (error: string) => {\n\t\tthis.resetPasswordState = 'error: ' + error;\n\t};\n\n\tconfirmPassword = async (token: string, password: string) => {\n\t\tthis.confirmPasswordState = '';\n\t\tauth.confirmPassword(token, password).then(this.confirmPasswordSuccess, this.confirmPasswordFailure);\n\t};\n\tconfirmPasswordSuccess = () => {\n\t\tthis.confirmPasswordState = 'done';\n\t};\n\tconfirmPasswordFailure = (error: any) => {\n\t\tlet errors = '';\n\t\tfor (const error2 in error.response.data) {\n\t\t\terrors += error.response.data[error2] + '\\n';\n\t\t}\n\t\tthis.confirmPasswordState = 'error: ' + errors;\n\t};\n\n\t/**\n\t * Проверка авторизации\n\t */\n\tcheckAuth = async () => {\n\t\tthis.authState = 'pending';\n\t\tauth.updateToken(localStorage.getItem('refreshToken')).then(this.checkAuthSuccess, this.checkAuthFailure);\n\t};\n\tcheckAuthSuccess = (res: {token: string, user: ICurrentUser}) => {\n\t\tlocalStorage.setItem('token', res?.token);\n\t\tthis.loggedIn = true;\n\t\tthis.user = res.user;\n\t\tthis.authState = 'done';\n\t};\n\tcheckAuthFailure = () => {\n\t\tthis.loggedIn = false;\n\t\tthis.user = { username: '', id: null, email: '' };\n\t\tlocalStorage.removeItem('token');\n\t\tthis.authState = 'done';\n\t};\n\n\tget currentUser() {\n\t\treturn this.user;\n\t}\n}\n\nconst AuthStore = new Auth();\n//export default remotedev(AuthStore, { name: 'Auth' });\nexport default AuthStore;\n","import { makeAutoObservable } from \"mobx\";\n//import remotedev from \"mobx-remotedev\";\n\nexport interface IPagesState {\n\tLoginFormIsOpen: boolean;\n\tRegistrateFormIsOpen: boolean;\n\tResetPasswordFormIsOpen: boolean;\n\tsaveEpisodesBlockIsOpen: boolean;\n\tsidebarIsToggled: boolean;\n\tsidebarIsCollapsed: boolean;\n}\n\nclass Pages implements IPagesState{\n\tLoginFormIsOpen = false;\n\tRegistrateFormIsOpen = false;\n\tResetPasswordFormIsOpen = false;\n\tsaveEpisodesBlockIsOpen = false;\n\tsidebarIsToggled = localStorage.getItem(\"sidebarToggled\") === \"true\";\n\tsidebarIsCollapsed = localStorage.getItem(\"sidebarCollapsed\") === \"true\";\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\ttoggleSidebar = async () => {\n\t\tthis.sidebarIsToggled = !this.sidebarIsToggled;\n\t\tif (!this.sidebarIsToggled) this.sidebarIsCollapsed = false;\n\t\tlocalStorage.setItem(\"sidebarToggled\", JSON.stringify(this.sidebarIsToggled));\n\t};\n\n\tcollapseSidebar = async () => {\n\t\tthis.sidebarIsCollapsed = !this.sidebarIsCollapsed;\n\t\tlocalStorage.setItem(\"sidebarCollapsed\", JSON.stringify(this.sidebarIsCollapsed));\n\t};\n\n\topenLoginForm = async () => {\n\t\tthis.LoginFormIsOpen = true;\n\t};\n\n\tcloseLoginForm = async () => {\n\t\tthis.LoginFormIsOpen = false;\n\t};\n\n\topenRegistrateForm = async () => {\n\t\tthis.RegistrateFormIsOpen = true;\n\t};\n\n\tcloseRegistrateForm = async () => {\n\t\tthis.RegistrateFormIsOpen = false;\n\t};\n\n\topenResetPasswordForm = async () => {\n\t\tthis.ResetPasswordFormIsOpen = true;\n\t};\n\n\tcloseResetPasswordForm = async () => {\n\t\tthis.ResetPasswordFormIsOpen = false;\n\t};\n\n\tsetSaveEpisodes = (status: boolean) => (this.saveEpisodesBlockIsOpen = status);\n}\n\nconst PagesStore = new Pages();\n//export default remotedev(PagesStore, { name: \"Pages\" });\nexport default PagesStore;\n","import HomePage from \"./HomePage\";\n\nexport default HomePage;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport AuthStore from '../../store/AuthStore';\nimport PagesStore from '../../store/PagesStore';\nimport \"./home-page.sass\";\n\n/**\n * Основная страница приложения\n */\nconst HomePage = observer((props) => {\n\tlet history = useHistory();\n\tconst { user, loggedIn } = AuthStore;\n\tconst { openLoginForm } = PagesStore;\n\n\treturn (\n\t\t<div className='home-page'>\n\t\t\t<div className='home-page__body'>\n\t\t\t\t<h1 className='home-page__header'>Добро пожаловать на Interests!</h1>\n\t\t\t\t<h3 className='home-page__header-secondary'>Что это?</h3>\n\t\t\t\t<p className='home-page__text'>Interests - сайт для отслеживания фильмов, сериалов и видеоигр. </p>\n\t\t\t\t<h3 className='home-page__header-secondary'>Какой функционал у сайта?</h3>\n\t\t\t\t<p className='home-page__text'>Здесь можно вести персональный список интересного вам контента, выставлять ему оценки и писать отзывы, а также отслеживать активность ваших друзей.</p>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tВ{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName='home-page__link'\n\t\t\t\t\t\thref={\"/user/\" + user?.id}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thistory.push(\"/user/\" + user?.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tпрофиле\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tсобраны все добавленные игры, фильмы и сериалы, а также ваша персональная статистика.\n\t\t\t\t</p>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tC помощью{\" \"}\n\t\t\t\t\t<a className='home-page__link' href='/search/example'>\n\t\t\t\t\t\tпоиска\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tможно найти интересущий вас тайтл или человека.\n\t\t\t\t</p>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tВ{\" \"}\n\t\t\t\t\t<a className='home-page__link' href={\"/calendar/\"}>\n\t\t\t\t\t\tкалендаре\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tотображены все грядущие релизы из вашего списка. Вы можете подписаться на email уведомления о новых релизах в{\" \"}\n\t\t\t\t\t<a className='home-page__link' href={\"/settings/\"}>\n\t\t\t\t\t\tнастройках\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tРаздел{\" \"}\n\t\t\t\t\t<a className='home-page__link' href={\"/unwatched/\"}>\n\t\t\t\t\t\tнепросмотренное\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tпредназначен для отслеживания непрсмотренных серий ваших сериалов.\n\t\t\t\t</p>\n\t\t\t\t<h3 className='home-page__header-secondary'>Что такое статус контента</h3>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tНа странице фильма, сериала или игры есть блок кнопок, состоящий из различных статусов. При выборе любого статуса, кроме \"Не смотрел\" или \"Не играл\", тайтл добавляется к вам в профиль.\n\t\t\t\t</p>\n\t\t\t\t<p className='home-page__text'>\n\t\t\t\t\tВ зависимости от статуса, тайтл будет по разному восприниматься системой. Например, тайтлы со статусом \"Буду смотреть\" не учитываются при подсчете статистики. Или сериалы со статусом\n\t\t\t\t\t\"Дропнул\" не будут выводиться в разделах Непросмотренное и Календарь.\n\t\t\t\t</p>\n\t\t\t\t<h3 className='home-page__header-secondary'>Зачем нужна подписка на пользователя</h3>\n\t\t\t\t<p className='home-page__text'>После подписки на пользователя вы будете видеть активность всех своих друзей в разделе Профиль, во вкладке Друзья.</p>\n\t\t\t\t<p className='home-page__text'>На странице любого тайтла будут отображены отзывы ваших друзей, если они оценили его ранее.</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default HomePage;\n","import axios from \"axios\";\nimport {BACKEND_URL, REFRESH_TOKEN_URL} from \"../settings\";\n\nconst api = axios.create({\n\tbaseURL: BACKEND_URL,\n});\n\napi.interceptors.request.use((config) => {\n\tconst token = localStorage.getItem('token')\n\tif (token) {\n\t\tconfig.headers.Authorization = `Bearer ${token}`;\n\t}\n\tif (!config.headers['Content-Type']) {\n\t\tconfig.headers['Content-Type'] = 'application/json';\n\t}\n\treturn config;\n});\n\napi.interceptors.response.use(\n\t(config) => {\n\t\treturn config;\n\t},\n\tasync (error) => {\n\t\tconst originalRequest = error.config;\n\t\tif (error.response.status === 401 && error.config && !error.config._isRetry) {\n\t\t\toriginalRequest._isRetry = true;\n\t\t\ttry {\n\t\t\t\tconst response = await axios.post(REFRESH_TOKEN_URL, {\n\t\t\t\t\trefresh: localStorage.getItem(\"refreshToken\"),\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem(\"token\", response.data.access);\n\t\t\t\treturn api.request(originalRequest);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(\"НЕ АВТОРИЗОВАН\");\n\t\t\t}\n\t\t}\n\t\tthrow error;\n\t}\n);\n\nexport default api;\n","import api from \"../http\";\nimport { GET_GAME_URL, SEARCH_GAMES_URL, SEARCH_GAMES_FAST_URL } from \"../settings\";\n\napi.defaults.headers.common = {\n\t\"Content-Type\": \"application/json;charset=UTF-8\",\n};\n\n/**\n * Запрос к бд, получающий информацию об игре\n * @param {string} id ID игры\n */\nexport async function getGame(id: string) {\n\tconst res = await api.get(GET_GAME_URL + id + \"/\");\n\treturn res.data;\n}\n\n/**\n * Запрос на изменение статуса игры\n * @param {object} user_info Статус игры\n * @param {string} gameSlug Слаг игры\n */\nexport async function setGameStatus(gameSlug: string, user_info: any) {\n\tconst res = await api.put(GET_GAME_URL + gameSlug + \"/\", user_info);\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск игр\n * @param {string} query Поисковый запрос\n * @param {int} page Страница поиска\n */\nexport async function searchGames(query: string, page: number, gamesCount: number) {\n\tconst res = await api.get(SEARCH_GAMES_URL, { params: { query: query, page: page, page_size: gamesCount } });\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск локльных игр\n * @param {string} query Поисковый запрос\n */\nexport async function searchGamesFast(query: string) {\n\tconst res = await api.get(SEARCH_GAMES_FAST_URL, { params: { query: query } });\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию об оценках друзей для игры\n * @param {string} slug slug игры\n * @param {int} page страница\n */\nexport async function getGameUserInfo(slug: string) {\n\tconst res = await api.get(GET_GAME_URL + slug + \"/user_info/\");\n\treturn res.data;\n}\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as gameRequests from '../services/gameRequests';\nimport { toast } from 'react-toastify';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface IGameUserInfo {\n\tstatus: string,\n\treview: string,\n\tscore: number,\n\tspent_time: number,\n}\n\nexport interface IGame {\n\tslug: string,\n\t[key: string]: any,\n}\n\nexport interface IGameState {\n\tgame: IGame,\n\tgameState: IPendingState,\n\tuserInfo: IGameUserInfo,\n\tfriendsInfo: any,\n\tuserInfoState: IPendingState,\n\tsetStatusState: IPendingState,\n\tsetStatusToast: any,\n}\n\nclass Game implements IGameState{\n\tgame: IGame = {slug: ''};\n\tgameState = 'done';\n\n\tuserInfo = { status: '', review: '', score: 0, spent_time: 0 };\n\tfriendsInfo = [];\n\tuserInfoState = 'done';\n\n\tsetStatusState = 'done';\n\tsetStatusToast: any;\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\trequestGame = async (id: string) => {\n\t\tthis.gameState = 'pending';\n\t\tgameRequests.getGame(id).then(this.requestGameSuccess, this.requestGameFailure);\n\t};\n\trequestGameSuccess = (result: IGame) => {\n\t\tthis.game = result;\n\t\tthis.gameState = 'done';\n\t};\n\trequestGameFailure = (error: any) => {\n\t\tthis.gameState = 'error: ' + error.response.statusText;\n\t};\n\n\trequestUserInfo = async (slug: string) => {\n\t\tthis.userInfoState = 'pending';\n\t\tgameRequests.getGameUserInfo(slug).then(this.requestUserInfoSuccess, this.requestUserInfoFailure);\n\t};\n\trequestUserInfoSuccess = (result: any) => {\n\t\tthis.userInfo = result.user_info;\n\t\tthis.friendsInfo = result.friends_info;\n\t\tthis.userInfoState = 'done';\n\t};\n\trequestUserInfoFailure = (error: string) => {\n\t\tthis.userInfoState = 'error: ' + error;\n\t};\n\n\tsetGameStatus = async (userInfo: IGameUserInfo) => {\n\t\tthis.setStatusState = 'pending';\n\t\tgameRequests.setGameStatus(this.game.slug, userInfo).then(this.setGameStatusSuccess, this.setGameStatusFailure);\n\t};\n\tsetGameStatusSuccess = () => {\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetGameStatusFailure = (error: string) => {\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tsetGameReview = async (userInfo: IGameUserInfo) => {\n\t\tthis.setStatusState = 'pendingReview';\n\t\tthis.setStatusToast = toast('Сохраняем отзыв...', { autoClose: false, type: toast.TYPE.INFO, position: 'bottom-center' });\n\t\tgameRequests.setGameStatus(this.game.slug, userInfo).then(this.setGameReviewSuccess, this.setGameReviewFailure);\n\t};\n\tsetGameReviewSuccess = () => {\n\t\ttoast.update(this.setStatusToast, { render: 'Отзыв сохранен!', type: toast.TYPE.SUCCESS, autoClose: 1000 });\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetGameReviewFailure = (error: string) => {\n\t\ttoast.update(this.setStatusToast, { render: 'Ошибка сохранения отзыва!', type: toast.TYPE.ERROR, autoClose: 1000 });\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tget anyError() {\n\t\tif (this.gameState.startsWith('error:')) return this.gameState;\n\t\tif (this.userInfoState.startsWith('error:')) return this.userInfoState;\n\t\treturn null;\n\t}\n}\n\nconst GameStore = new Game();\n//export default remotedev(GameStore, { name: 'Game' });\nexport default GameStore;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./status-button-group.sass\";\n\nfunction StatusButtonGroup({ statuses, onChangeStatus, userStatus, className }) {\n\treturn (\n\t\t<div className={classnames(\"content-statuses\", className)}>\n\t\t\t{statuses.map((status, counter) => (\n\t\t\t\t<button\n\t\t\t\t\tclassName={classnames(\"content-statuses__content-status\", userStatus === status ? \"content-statuses__content-status_active\" : \"\")}\n\t\t\t\t\tkey={status}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonChangeStatus(status);\n\t\t\t\t\t}}>\n\t\t\t\t\t{status}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default StatusButtonGroup;\n","import StatusButtonGroup from \"./StatusButtonGroup\";\n\nexport default StatusButtonGroup;\n","import React from \"react\";\nimport { FaStar, FaRegStar, FaEyeSlash, FaEye } from \"react-icons/fa\";\nimport Rating from \"react-rating\";\n\nfunction RatingBlock({ initialRating, readonly, onChange, className, withEye }) {\n\treturn (\n\t\t<Rating\n\t\t\tstart={withEye ? -1 : 0}\n\t\t\tstop={10}\n\t\t\temptySymbol={(withEye ? [<FaEyeSlash />] : []).concat([1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((n) => <FaRegStar title={n} />))}\n\t\t\tfullSymbol={(withEye ? [<FaEye />] : []).concat([1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((n) => <FaStar title={n} />))}\n\t\t\tinitialRating={initialRating}\n\t\t\treadonly={readonly}\n\t\t\tonClick={(value) => {\n\t\t\t\tif (value !== initialRating) {\n\t\t\t\t\tonChange(value);\n\t\t\t\t} else {\n\t\t\t\t\tonChange(0);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tclassName={className}\n\t\t\tquiet\n\t\t/>\n\t);\n}\n\nexport default RatingBlock;\n","import Rating from \"./Rating\";\n\nexport default Rating;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport Rating from '../../../Rating';\nimport \"./friend-activity.sass\";\n\nfunction FriendActivity({ info, className }) {\n\tlet history = useHistory();\n\n\treturn (\n\t\t<div className={classnames(\"friend-activity\", className)}>\n\t\t\t<h5 className='friend-activity__user'>\n\t\t\t\t<a\n\t\t\t\t\thref={window.location.origin + \"/user/\" + info.user.id}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\thistory.push(\"/user/\" + info.user.id);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t{info.user.username}\n\t\t\t\t</a>\n\t\t\t</h5>\n\t\t\t<div className='friend-activity__info'>\n\t\t\t\t<Rating initialRating={info.score} className='friend-activity__info-text' readonly={true} />\n\t\t\t\t<p className='friend-activity__info-text'>Статус: {info.status} </p>\n\t\t\t\t<p className='friend-activity__info-text' hidden={!info.spent_time}>\n\t\t\t\t\tВремя проходения: {info.spent_time} {intToHours(info.spent_time)}\n\t\t\t\t</p>\n\t\t\t\t<p className='friend-activity__info-text' hidden={info.review === \"\"}>\n\t\t\t\t\tОтзыв: {info.review}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction intToHours(number) {\n\tif (11 <= number && number <= 14) return \"часов\";\n\telse if (number % 10 === 1) return \"час\";\n\telse if (2 <= number % 10 && number % 10 <= 4) return \"часа\";\n\telse return \"часов\";\n}\n\nexport default FriendActivity;\n","import FriendActivity from \"./FriendActivity\";\n\nexport default FriendActivity;\n","import React from \"react\";\nimport FriendActivity from \"./views/FriendActivity\";\n\nfunction FriendsActivity({ info }) {\n\treturn (\n\t\t<div className='friends-activity'>\n\t\t\t{info?.map((friendInfo) => (\n\t\t\t\t<FriendActivity info={friendInfo} key={friendInfo.user.id} className='friends-activity__element' />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default FriendsActivity;\n","import FriendsActivity from \"./FriendsActivity\";\n\nexport default FriendsActivity;\n","import React from \"react\";\nimport { MdAccessTime } from \"react-icons/md\";\nimport \"./time-to-beat.sass\";\n\nfunction TimeToBeat({ hltbInfo }) {\n\tconsole.log({...hltbInfo});\n\tif (\n\t\t!hltbInfo\n\t\t|| (\n\t\t\t!hltbInfo?.gameplay_main\n\t\t\t&& !hltbInfo?.gameplay_main_extra\n\t\t\t&& !hltbInfo?.gameplay_completionist\n\t\t)\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className='time-to-beat' hidden={!hltbInfo || hltbInfo === \"0 часов\" || (hltbInfo?.gameplay_main < 0 && hltbInfo?.gameplay_main_extra < 0 && hltbInfo?.gameplay_completionist < 0)}>\n\t\t\t<p className='time-to-beat__element'>Время прохождения: </p>\n\t\t\t<div hidden={hltbInfo?.gameplay_main === -1} className='time-to-beat__element'>\n\t\t\t\t<MdAccessTime className='time-to-beat__icon time-to-beat__icon_green' title={\"Главный сюжет\"} />\n\t\t\t\t{hltbInfo?.gameplay_main} {hltbInfo?.gameplay_main_unit}\n\t\t\t</div>\n\t\t\t<div hidden={hltbInfo?.gameplay_main_extra === -1} className='time-to-beat__element'>\n\t\t\t\t<MdAccessTime className='time-to-beat__icon time-to-beat__icon_yellow' title={\"Главный сюжет + побочные задания\"} />\n\t\t\t\t{hltbInfo?.gameplay_main_extra} {hltbInfo?.gameplay_main_extra_unit}\n\t\t\t</div>\n\t\t\t<div hidden={!hltbInfo || hltbInfo?.gameplay_completionist === -1} className='time-to-beat__element'>\n\t\t\t\t<MdAccessTime className='time-to-beat__icon time-to-beat__icon_red' title={\"Полное прохождение\"} />\n\t\t\t\t{hltbInfo?.gameplay_completionist} {hltbInfo?.gameplay_completionist_unit}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default TimeToBeat;\n","import TimeToBeat from \"./TimeToBeat\";\n\nexport default TimeToBeat;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./score-block.sass\";\n\nfunction ScoreBlock({ score, text, className }) {\n\tfunction getColor(score) {\n\t\tswitch (true) {\n\t\t\tcase score >= 80:\n\t\t\t\treturn \"green\";\n\t\t\tcase score >= 60 && score < 80:\n\t\t\t\treturn \"yellow\";\n\t\t\tcase score < 60:\n\t\t\t\treturn \"red\";\n\t\t\tdefault:\n\t\t\t\treturn \"green\";\n\t\t}\n\t}\n\n\tif (!score) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div hidden={!score} className={classnames(\"score-block\", className)}>\n\t\t\t<div className={classnames(\"score-block__body\", \"score-block__body_\" + getColor(score))}>\n\t\t\t\t<p>{score}</p>\n\t\t\t</div>\n\t\t\t<p className='score-block__text'>{text}</p>\n\t\t</div>\n\t);\n}\n\nexport default ScoreBlock;\n","import ScoreBlock from \"./ScoreBlock\";\n\nexport default ScoreBlock;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./input-number.sass\";\n\nfunction InputNumber({ value, max, min, onChange, className, dataList }) {\n\treturn (\n\t\t<div className={classnames(\"input-number\", className)}>\n\t\t\t<button\n\t\t\t\tclassName='input-number__minus'\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (!min || parseFloat(value) > min + 1) onChange(parseFloat(value) - 1);\n\t\t\t\t}}>\n\t\t\t\t-\n\t\t\t</button>\n\t\t\t<input\n\t\t\t\ttype='number'\n\t\t\t\tvalue={value}\n\t\t\t\tmax={max ? max : \"\"}\n\t\t\t\tmin={min ? min : \"\"}\n\t\t\t\tonChange={(event) => {\n\t\t\t\t\tif ((!min || event.target.value > min) && (!max || event.target.value < max)) onChange(parseFloat(event.target.value));\n\t\t\t\t}}\n\t\t\t\tclassName='input-number__input'\n\t\t\t\tstyle={{width: `${value.toString().length * 15}px`}}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tclassName='input-number__plus'\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (!max || value < max - 1) onChange(parseFloat(value) + 1);\n\t\t\t\t}}>\n\t\t\t\t+\n\t\t\t</button>\n\t\t\t{\n\t\t\t\tdataList.length > 0 && (\n\t\t\t\t\t<div className='input-number__hints'>\n\t\t\t\t\t\t{dataList?.map((data, counter) => (\n\t\t\t\t\t\t\t<div key={counter} onClick={() => onChange(parseFloat(data))} className='input-number__hint'>\n\t\t\t\t\t\t\t\t{data}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default InputNumber;\n","import InputNumber from \"./InputNumber\";\n\nexport default InputNumber;\n","import { FaSteam, FaPlaystation, FaXbox, FaAppStoreIos, FaGooglePlay, FaItchIo } from \"react-icons/fa\";\nimport { SiEpicgames, SiNintendoswitch, SiGogdotcom } from \"react-icons/si\";\nimport { RiXboxLine } from \"react-icons/ri\";\n\nexport class GameStoresEnum {\n    static STEAM = 'steam';\n\n    static PS_STORE = 'playstation-store';\n\n    static EGS = 'epic-games';\n\n    static ESHOP = 'nintendo';\n\n    static XBOX = 'xbox-store';\n\n    static XBOX360 = 'xbox360';\n\n    static GOG = 'gog';\n\n    static APPSTORE = 'apple-appstore';\n\n    static GOOGLE_PLAY = 'google-play';\n\n    static ITCH_IO = 'itch';\n\n    static getIcon(id: string) {\n        switch (id) {\n            case this.STEAM:\n                return FaSteam;\n            case this.PS_STORE:\n                return FaPlaystation;\n            case this.EGS:\n                return SiEpicgames;\n            case this.ESHOP:\n                return SiNintendoswitch;\n            case this.XBOX:\n                return FaXbox;\n            case this.GOG:\n                return SiGogdotcom;\n            case this.XBOX360:\n                return RiXboxLine;\n            case this.APPSTORE:\n                return FaAppStoreIos;\n            case this.GOOGLE_PLAY:\n                return FaGooglePlay;\n            case this.ITCH_IO:\n                return FaItchIo;\n            default:\n                return null;\n        }\n    }\n}\n","import * as React from 'react';\nimport {block} from 'bem-cn';\nimport {compact} from 'lodash';\nimport './GameStores.scss';\nimport {IGameStoreItem} from '../../interfaces/IGameStore';\nimport {GameStoresEnum} from '../../enums/GameStoresEnum';\n\ninterface IGameStoresProps {\n    className?: string,\n    stores: IGameStoreItem[],\n}\n\nfunction GameStores(props: IGameStoresProps) {\n    const bem = block('GameStores');\n\n    const renderStoreName = (props: {name: string}) => (\n        <span>\n            {props.name}\n        </span>\n    )\n\n    const renderStore = (store: IGameStoreItem) => {\n        const StoreIcon = GameStoresEnum.getIcon(store.store.slug) || renderStoreName;\n        return (\n            <a\n                href={store.url}\n                className={bem('store-link')}\n                title={store.store.name}\n                target=\"_blank\"\n            >\n                <StoreIcon\n                    className={bem('store-icon')}\n                    name={store.store.name}\n                />\n            </a>\n        )\n    }\n\n    if (!props.stores || !(props.stores.length > 0)) {\n        return null;\n    }\n\n    return (\n        <div className={compact([bem(), props.className]).join(' ')}>\n            <p className={bem('label')}>\n                Магазины:\n            </p>\n            {\n                props.stores?.map(renderStore)\n            }\n        </div>\n    );\n}\n\nexport default GameStores;\n","import GameStores from './GameStores';\n\nexport default GameStores;\n","import GamePage from \"./GamePage\";\n\nexport default GamePage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { toast } from \"react-toastify\";\nimport _uniq from 'lodash/uniq';\n\nimport GameStore from '../../store/GameStore';\nimport AuthStore from '../../store/AuthStore';\nimport PagesStore from '../../store/PagesStore';\nimport StatusButtonGroup from '../../shared/StatusButtonGroup';\nimport FriendsActivity from '../../shared/FriendsActivity';\nimport TimeToBeat from './views/TimeToBeat';\nimport ScoreBlock from '../../shared/ScoreBlock';\nimport Rating from '../../shared/Rating';\nimport InputNumber from '../../shared/InputNumber';\n\nimport \"./game-page.sass\";\nimport GameStores from \"../../shared/GameStores\";\n\n/**\n * Основная страница приложения\n */\nconst GamePage = observer((props) => {\n\tconst { game, gameState, requestGame, setGameStatus, setGameReview, userInfo, friendsInfo, userInfoState, requestUserInfo, anyError } = GameStore;\n\tconst { loggedIn } = AuthStore;\n\tconst { openLoginForm } = PagesStore;\n\n\tlet { id } = useParams();\n\tconst [review, setReview] = useState(\"\");\n\tconst [spentTime, setSpentTime] = useState(\"\");\n\tconst [userStatus, setUserStatus] = useState(\"Не играл\");\n\tconst [userRate, setUserRate] = useState(0);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetClearUI();\n\t\t\trequestGame(id);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[id, requestGame]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestUserInfo(id);\n\t\t\telse {\n\t\t\t\tsetClearUI();\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[id, loggedIn]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = game?.name || 'Interests';\n\t}, [game]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (userInfo?.status) {\n\t\t\t\tsetReview(userInfo.review);\n\t\t\t\tsetSpentTime(userInfo.spent_time);\n\t\t\t\tsetUserStatus(userInfo.status);\n\t\t\t\tsetUserRate(userInfo.score);\n\t\t\t} else {\n\t\t\t\tsetClearUI();\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userInfo]\n\t);\n\n\tuseEffect(() => {\n\t\tif (anyError) toast.error(anyError);\n\t}, [anyError]);\n\n\tfunction setClearUI() {\n\t\tsetReview(\"\");\n\t\tsetSpentTime(\"\");\n\t\tsetUserStatus(\"Не играл\");\n\t\tsetUserRate(0);\n\t}\n\n\tfunction strToFloat(text) {\n\t\tif (typeof text === 'number') {\n\t\t\treturn text.toFixed(1);\n\t\t}\n\t\tlet cleanStr = text;\n\t\tif (cleanStr && cleanStr !== -1) {\n\t\t\tif (cleanStr.indexOf(\"½\") + 1) {\n\t\t\t\treturn parseFloat(cleanStr) + 0.5\n\t\t\t} else {\n\t\t\t\treturn parseFloat(cleanStr).toFixed(1);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hltbToDatalist(hltbInfo) {\n\t\tlet newData = [];\n\t\tif (!(!hltbInfo || hltbInfo === \"0 часов\" || hltbInfo?.gameplay_main === -1)) {\n\t\t\tif (typeof hltbInfo === 'string') {\n\t\t\t\tnewData.push(strToFloat(hltbInfo));\n\t\t\t} else {\n\t\t\t\tnewData.push(strToFloat(hltbInfo?.gameplay_main));\n\t\t\t}\n\t\t}\n\t\tif (hltbInfo?.gameplay_main_extra !== -1) {\n\t\t\tnewData.push(strToFloat(hltbInfo?.gameplay_main_extra));\n\t\t}\n\t\tif (hltbInfo?.gameplay_completionist !== -1) {\n\t\t\tnewData.push(strToFloat(hltbInfo?.gameplay_completionist));\n\t\t}\n\t\treturn _uniq(newData);\n\t}\n\n\treturn (\n\t\t<div className='game-page'>\n\t\t\t<div style={{ backgroundImage: `url(${game.background})` }} className='game-page__background' />\n\t\t\t<LoadingOverlay active={gameState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='game-page__body'>\n\t\t\t\t\t<div className='game-page__header'>\n\t\t\t\t\t\t<div className='game-page__poster'>\n\t\t\t\t\t\t\t<img src={game.poster} className='img-fluid' alt='' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='game-page__info'>\n\t\t\t\t\t\t\t<h1 className='game-page__info-header'>{game.name}</h1>\n\t\t\t\t\t\t\t<div className='game-page__info-body'>\n\t\t\t\t\t\t\t\t<p>Разработчики: {game.developers}</p>\n\t\t\t\t\t\t\t\t<p>Дата релиза: {game.release_date}</p>\n\t\t\t\t\t\t\t\t<p>Жанр: {game.genres}</p>\n\t\t\t\t\t\t\t\t<p>Платформы: {game.platforms}</p>\n\t\t\t\t\t\t\t\t<TimeToBeat hltbInfo={game.hltb || game.playtime} />\n\t\t\t\t\t\t\t\t<GameStores stores={game.stores} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && gameState !== \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\t\t\treadonly={!loggedIn | (userStatus === \"Не играл\")}\n\t\t\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\t\tsetGameStatus({ score: score });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='game-page__rating'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<StatusButtonGroup\n\t\t\t\t\t\t\t\t\tstatuses={[\"Не играл\", \"Буду играть\", \"Играю\", \"Дропнул\", \"Прошел\"]}\n\t\t\t\t\t\t\t\t\tclassName='game-page__info-statuses'\n\t\t\t\t\t\t\t\t\tuserStatus={userStatus}\n\t\t\t\t\t\t\t\t\tonChangeStatus={(status) => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetUserStatus(status);\n\t\t\t\t\t\t\t\t\t\t\tsetGameStatus({ status: status });\n\t\t\t\t\t\t\t\t\t\t\tif (status === \"Не играл\") {\n\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\tsetUserRate(0);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t<ScoreBlock\n\t\t\t\t\t\t\t\tscore={game.metacritic}\n\t\t\t\t\t\t\t\ttext='Metascore'\n\t\t\t\t\t\t\t\tclassName='game-page__info-score'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='game-page__overview'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{/* <video width='800' height='450' controls='controls' poster={game.rawg?.clip?.preview} src={game.rawg?.clip?.clip} type='video' /> */}\n\t\t\t\t\t\t\t<h3 className='game-page__overview-header'>Описание</h3>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: game.overview }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3 className='game-page__review-header'>Отзыв</h3>\n\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && gameState !== \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t<div className='game-page__review-body' hidden={!loggedIn}>\n\t\t\t\t\t\t\t\t<div className='game-page__review'>\n\t\t\t\t\t\t\t\t\tВаш отзыв\n\t\t\t\t\t\t\t\t\t<textarea type='textarea' className='game-page__review-input' value={review} onChange={(event) => setReview(event.target.value)} />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='game-page__review-time'>\n\t\t\t\t\t\t\t\t\tВремя прохождения (часы)\n\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\tclassName='game-page__time-input'\n\t\t\t\t\t\t\t\t\t\tvalue={spentTime}\n\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\tmax={100000}\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => setSpentTime(value)}\n\t\t\t\t\t\t\t\t\t\tdataList={hltbToDatalist(game.hltb)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='game-page__review-save-button'\n\t\t\t\t\t\t\t\t\tdisabled={!loggedIn | (userStatus === \"Не играл\")}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetGameReview({ review: review, spent_time: spentTime });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t<div className='game-page__friends' hidden={!loggedIn | (friendsInfo?.length < 1)}>\n\t\t\t\t\t\t\t<h4>Отзывы друзей</h4>\n\t\t\t\t\t\t\t<FriendsActivity info={friendsInfo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default GamePage;\n","import api from \"../http\";\nimport { SEARCH_MOVIES_URL, SEARCH_MOVIES_FAST_URL, GET_MOVIE_URL } from \"../settings\";\n\n/**\n * Запрос к бд, получающий информацию о фильме\n * @param {number} id ID фильма\n */\nexport async function getMovie(id) {\n\tconst res = await api.get(GET_MOVIE_URL + id + \"/\");\n\treturn res.data;\n}\n\n/**\n * Запрос на изменение статуса фильма\n * @param {object} user_info Статус фильма\n * @param {string} movieID ID фильма\n */\nexport async function setMovieStatus(id, user_info) {\n\tconst res = await api.put(GET_MOVIE_URL + id + \"/\", user_info);\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск фильмов\n * @param {string} query Поисковый запрос\n * @param {int} page Страница поиска\n */\nexport async function searchMovies(query, page) {\n\tconst res = await api.get(SEARCH_MOVIES_URL, { params: { query: query, page: page } });\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск локальных фильмов\n * @param {string} query Поисковый запрос\n */\nexport async function searchMoviesFast(query) {\n\tconst res = await api.get(SEARCH_MOVIES_FAST_URL, { params: { query: query } });\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию об оценках друзей для фильма\n * @param {number} id id фильма\n */\nexport async function getMovieUserInfo(id) {\n\tconst res = await api.get(GET_MOVIE_URL + id + \"/user_info/\");\n\treturn res.data;\n}\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as movieRequests from '../services/movieRequests';\nimport { toast } from 'react-toastify';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface IMovieUserInfo {\n\tstatus: string,\n\treview: string,\n\tscore: number,\n\tspent_time: number,\n}\n\nexport interface IMovie {\n\tid?: number,\n\t[key: string]: any,\n}\n\nexport interface IMovieState {\n\tmovie: IMovie | undefined,\n\tmovieState: IPendingState,\n\tuserInfo: IMovieUserInfo | undefined,\n\tfriendsInfo: any,\n\tuserInfoState: IPendingState,\n\tsetStatusState: IPendingState,\n\tsetStatusToast: any,\n}\n\nclass Movie implements IMovieState {\n\tmovie: IMovie | undefined;\n\tmovieState = 'done';\n\n\tuserInfo: IMovieUserInfo | undefined;\n\tfriendsInfo = [];\n\tuserInfoState = 'done';\n\n\tsetStatusState = 'done';\n\tsetStatusToast: any;\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\trequestMovie = async (id: number) => {\n\t\tthis.movieState = 'pending';\n\t\tmovieRequests.getMovie(id).then(this.requestMovieSuccess, this.requestMovieFailure);\n\t};\n\trequestMovieSuccess = (result: IMovie) => {\n\t\tthis.movie = result;\n\t\tthis.movieState = 'done';\n\t};\n\trequestMovieFailure = (error: string) => {\n\t\tthis.movieState = 'error: ' + error;\n\t};\n\n\trequestUserInfo = async (id: number) => {\n\t\tthis.userInfoState = 'pending';\n\t\tmovieRequests.getMovieUserInfo(id).then(this.requestUserInfoSuccess, this.requestUserInfoFailure);\n\t};\n\trequestUserInfoSuccess = (result: any) => {\n\t\tthis.userInfo = result.user_info;\n\t\tthis.friendsInfo = result.friends_info;\n\t\tthis.userInfoState = 'done';\n\t};\n\trequestUserInfoFailure = (error: string) => {\n\t\tthis.userInfoState = 'error: ' + error;\n\t};\n\n\tsetMovieStatus = async (userInfo: IMovieUserInfo) => {\n\t\tthis.setStatusState = 'pending';\n\t\tmovieRequests.setMovieStatus(this.movie?.id, userInfo).then(this.setMovieStatusSuccess, this.setMovieStatusFailure);\n\t};\n\tsetMovieStatusSuccess = () => {\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetMovieStatusFailure = (error: string) => {\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tsetMovieReview = async (userInfo: IMovieUserInfo) => {\n\t\tthis.setStatusState = 'pendingReview';\n\t\tthis.setStatusToast = toast('Сохраняем отзыв...', { autoClose: false, type: toast.TYPE.INFO, position: 'bottom-center' });\n\t\tmovieRequests.setMovieStatus(this.movie?.id, userInfo).then(this.setMovieReviewSuccess, this.setMovieReviewFailure);\n\t};\n\tsetMovieReviewSuccess = () => {\n\t\ttoast.update(this.setStatusToast, { render: 'Отзыв сохранен!', type: toast.TYPE.SUCCESS, autoClose: 1000 });\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetMovieReviewFailure = (error: string) => {\n\t\ttoast.update(this.setStatusToast, { render: 'Ошибка сохранения отзыва!', type: toast.TYPE.ERROR, autoClose: 1000 });\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tget anyError() {\n\t\tif (this.movieState.startsWith('error:')) return this.movieState;\n\t\tif (this.userInfoState.startsWith('error:')) return this.userInfoState;\n\t\treturn null;\n\t}\n}\n\nconst MovieStore = new Movie();\n//export default remotedev(MovieStore, { name: 'Movie' });\nexport default MovieStore;\n","import Image from './Image';\n\nexport default Image;\n","import MoviePage from \"./MoviePage\";\n\nexport default MoviePage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReactPlayer from \"react-player/youtube\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { observer } from \"mobx-react\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { toast } from \"react-toastify\";\n\nimport MovieStore from '../../store/MovieStore';\nimport AuthStore from '../../store/AuthStore';\nimport PagesStore from '../../store/PagesStore';\nimport StatusButtonGroup from '../../shared/StatusButtonGroup';\nimport FriendsActivity from '../../shared/FriendsActivity';\nimport ScoreBlock from '../../shared/ScoreBlock';\nimport Rating from '../../shared/Rating';\n\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport \"./movie-page.sass\";\nimport Image from \"../../shared/Image\";\n\n/**\n * Основная страница приложения\n */\nconst MoviePage = observer((props) => {\n\tconst { movie, movieState, requestMovie, setMovieStatus, setMovieReview, userInfo, friendsInfo, userInfoState, requestUserInfo, anyError } = MovieStore;\n\tconst { loggedIn } = AuthStore;\n\tconst { openLoginForm } = PagesStore;\n\n\tlet { id } = useParams();\n\tconst [review, setReview] = useState(\"\");\n\tconst [userStatus, setUserStatus] = useState(\"Не смотрел\");\n\tconst [userRate, setUserRate] = useState(0);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetReview(\"\");\n\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\tsetUserRate(0);\n\t\t\trequestMovie(id);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[id, requestMovie]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestUserInfo(id);\n\t\t\telse {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(0);\n\t\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn, id]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = movie?.name || 'Interests';\n\t}, [movie]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (userInfo?.status) {\n\t\t\t\tsetReview(userInfo.review);\n\t\t\t\tsetUserStatus(userInfo.status);\n\t\t\t\tsetUserRate(userInfo.score);\n\t\t\t} else {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(0);\n\t\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userInfo]\n\t);\n\n\tuseEffect(() => {\n\t\tif (anyError) toast.error(anyError);\n\t}, [anyError]);\n\n\tconst renderVideo = (video, index) => (\n\t\t<div className='movie-page__trailer'>\n\t\t\t<ReactPlayer url={video.url} controls key={index} className='movie-page__trailer-player' />\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className='movie-page'>\n\t\t\t<Image\n\t\t\t\tclassName='movie-page__background'\n\t\t\t\tsrc={movie?.backdrop_path}\n\n\t\t\t/>\n\t\t\t<LoadingOverlay active={movieState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='movie-page__body'>\n\t\t\t\t\t<div className='movie-page__header'>\n\t\t\t\t\t\t<div className='movie-page__poster'>\n\t\t\t\t\t\t\t<Image src={movie?.poster_path} className='movie-page__poster-img' alt='' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='movie-page__info'>\n\t\t\t\t\t\t\t<h1 className='movie-page__info-header'>{movie?.name}</h1>\n\t\t\t\t\t\t\t<h5 className='movie-page__info-subheader'>{movie?.original_name}</h5>\n\t\t\t\t\t\t\t<div className='movie-page__info-body'>\n\t\t\t\t\t\t\t\t<p>Дата релиза: {movie?.release_date}</p>\n\t\t\t\t\t\t\t\t<p>Продолжительность (мин): {movie?.runtime}</p>\n\t\t\t\t\t\t\t\t<p>Жанр: {movie?.genres}</p>\n\t\t\t\t\t\t\t\t<p>Компания: {movie?.production_companies}</p>\n\t\t\t\t\t\t\t\t<p>Слоган: {movie?.tagline}</p>\n\t\t\t\t\t\t\t\t<p>В ролях: {movie?.cast}</p>\n\t\t\t\t\t\t\t\t<p>Режиссер: {movie?.directors}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !movieState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\t\t\treadonly={!loggedIn | (userStatus === \"Не смотрел\")}\n\t\t\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\t\tsetMovieStatus({ score: score });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='movie-page__rating'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<StatusButtonGroup\n\t\t\t\t\t\t\t\t\tstatuses={[\"Не смотрел\", \"Буду смотреть\", \"Дропнул\", \"Посмотрел\"]}\n\t\t\t\t\t\t\t\t\tclassName='movie-page__info-statuses'\n\t\t\t\t\t\t\t\t\tuserStatus={userStatus}\n\t\t\t\t\t\t\t\t\tonChangeStatus={(status) => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetUserStatus(status);\n\t\t\t\t\t\t\t\t\t\t\tsetMovieStatus({ status: status });\n\t\t\t\t\t\t\t\t\t\t\tif (status === \"Не смотрел\") {\n\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\tsetUserRate(0);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t<ScoreBlock score={movie?.score} text='TMDB score' className='movie-page__info-score' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Carousel className='movie-page__trailers' showArrows centerMode centerSlidePercentage={50} showThumbs={false} showStatus={false} showIndicators={false}>\n\t\t\t\t\t\t{movie?.videos?.map(renderVideo)}\n\t\t\t\t\t</Carousel>\n\t\t\t\t\t<div className='movie-page__overview'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3 className='game-page__overview-header'>Описание</h3>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: movie?.overview }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3 className='movie-page__review-header'>Отзыв</h3>\n\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !movieState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t<div className='game-page__review-body' hidden={!loggedIn}>\n\t\t\t\t\t\t\t\t<div className='movie-page__review'>\n\t\t\t\t\t\t\t\t\tВаш отзыв\n\t\t\t\t\t\t\t\t\t<textarea type='textarea' className='movie-page__review-input' value={review} onChange={(event) => setReview(event.target.value)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='movie-page__review-save-button'\n\t\t\t\t\t\t\t\t\tdisabled={!loggedIn | (userStatus === \"Не смотрел\")}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetMovieReview({ review: review });\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t<div className='movie-page__friends' hidden={!loggedIn || friendsInfo?.length < 1}>\n\t\t\t\t\t\t\t<h4>Отзывы друзей</h4>\n\t\t\t\t\t\t\t<FriendsActivity info={friendsInfo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default MoviePage;\n","import api from \"../http\";\nimport { SEARCH_SHOWS_URL, SEARCH_SHOWS_FAST_URL, GET_SHOW_URL, GET_UNWATCHED_EPISODES_URL } from \"../settings\";\n\n/**\n * Запрос к бд, получающий информацию о сериале\n * @param {number} id ID сериала\n */\nexport async function getShow(id) {\n\tconst res = await api.get(GET_SHOW_URL + id + \"/\");\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию о сезоне сериала\n * @param {number} showID ID сериала\n *  * @param {number} seasonNumber номер сезона\n */\nexport async function getShowSeason(showID, seasonNumber) {\n\tconst res = await api.get(GET_SHOW_URL + showID + \"/season/\" + seasonNumber + \"/\");\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию о серии сериала\n * @param {number} showID ID сериала\n * @param {number} seasonNumber номер сезона\n * @param {number} episodeNumber номер эпизода\n */\nexport async function getShowEpisode(showID, seasonNumber, episodeNumber) {\n\tconst res = await api.get(GET_SHOW_URL + showID + \"/season/\" + seasonNumber + \"/episode/\" + episodeNumber + \"/\");\n\treturn res.data;\n}\n\nexport async function setShowStatus(id, user_info) {\n\tconst res = await api.put(GET_SHOW_URL + id + \"/\", user_info);\n\treturn res.data;\n}\n\n/**\n * Запрос на изменение статуса сезона сериала\n * @param {object} user_info Статус сезона сериала\n * @param {number} showID ID сериала\n *  * @param {number} seasonNumber номер сезона\n */\nexport async function setShowSeasonStatus(showID, seasonNumber, user_info) {\n\tconst res = await api.put(GET_SHOW_URL + showID + \"/season/\" + seasonNumber + \"/\", user_info);\n\treturn res.data;\n}\n\n/**\n * Запрос на изменение статуса сезона сериала\n * @param {object} episodesList Список объектов эпизодов\n * @param {number} showID ID сериала\n */\nexport async function setShowEpisodesStatus(showID, episodesList) {\n\tconst res = await api.put(GET_SHOW_URL + showID + \"/episodes/\", episodesList);\n\treturn res;\n}\n\n/**\n * Запрос на поиск сериалов\n * @param {string} query Поисковый запрос\n * @param {int} page Страница поиска\n */\nexport async function searchShows(query, page) {\n\tconst res = await api.get(SEARCH_SHOWS_URL, { params: { query: query, page: page } });\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск локальных сериалов\n * @param {string} query Поисковый запрос\n */\nexport async function searchShowsFast(query) {\n\tconst res = await api.get(SEARCH_SHOWS_FAST_URL, { params: { query: query } });\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию об оценках друзей для сериала\n * @param {number} showID id сериала\n */\nexport async function getShowUserInfo(showID) {\n\tconst res = await api.get(GET_SHOW_URL + showID + \"/user_info/\");\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию об оценках друзей для сезона сериала\n * @param {number} showID id сериала\n */\nexport async function getShowSeasonUserInfo(showID, seasonID) {\n\tconst res = await api.get(GET_SHOW_URL + showID + \"/season/\" + seasonID + \"/user_info/\");\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию об оценках друзей для эпизода сериала\n * @param {number} showID id сериала\n * @param {int} page страница\n */\nexport async function getShowEpisodeUserInfo(showID, seasonID, episodeID) {\n\tconst res = await api.get(GET_SHOW_URL + showID + \"/season/\" + seasonID + \"/episode/\" + episodeID + \"/user_info/\");\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий информацию о сериале\n */\nexport async function getUnwatchedEpisodes() {\n\tconst res = await api.get(GET_UNWATCHED_EPISODES_URL);\n\treturn res.data;\n}\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as showRequests from '../services/showRequests';\nimport { toast } from 'react-toastify';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface IShowUserInfo {\n\tstatus: string,\n\treview: string,\n\tscore: number,\n\tspent_time: number,\n}\n\nexport interface IShow {\n\tid?: number,\n\t[key: string]: any,\n}\n\nexport interface IShowState {\n\tshow: IShow | undefined,\n\tshowState: IPendingState,\n\tuserInfo: IShowUserInfo | undefined,\n\tfriendsInfo: any,\n\tuserInfoState: IPendingState,\n\n\tshowSeasons: any,\n\tshowSeasonsState: {[key: string]: IPendingState},\n\tshowSeasonsUserInfo: any,\n\tshowSeasonsUserInfoState: {[key: string]: IPendingState};\n\n\tsetStatusState: IPendingState,\n\tsetStatusToast: any,\n}\n\nclass Show implements IShowState {\n\tshow: IShow | undefined;\n\tshowState: IPendingState = 'done';\n\tuserInfo: IShowUserInfo | undefined;\n\tfriendsInfo = [];\n\tuserInfoState: IPendingState = 'done';\n\n\tshowSeasons: any = {};\n\tshowSeasonsState: {[key: string]: IPendingState} = {};\n\tshowSeasonsUserInfo: any = {};\n\tshowSeasonsUserInfoState: {[key: string]: IPendingState} = {};\n\n\tsetStatusState: IPendingState = 'done';\n\tsetStatusToast: any;\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\trequestShow = async (id: number) => {\n\t\tthis.showState = 'pending';\n\t\tshowRequests.getShow(id).then(this.requestShowSuccess, this.requestShowFailure);\n\t};\n\trequestShowSuccess = (result: IShow) => {\n\t\tthis.show = result;\n\t\tthis.showState = 'done';\n\t};\n\trequestShowFailure = (error: string) => {\n\t\tthis.showState = 'error: ' + error;\n\t};\n\n\trequestSeason = async (showID: number, seasonNumber: number) => {\n\t\tthis.showState = 'pending';\n\t\tshowRequests.getShowSeason(showID, seasonNumber).then(this.requestSeasonSuccess, this.requestSeasonFailure);\n\t};\n\trequestSeasonSuccess = (result: IShow) => {\n\t\tthis.show = result;\n\t\tthis.showState = 'done';\n\t};\n\trequestSeasonFailure = (error: any) => {\n\t\tthis.showState = 'error: ' + error;\n\t};\n\n\trequestSeasons = async (showID: number, seasonNumber: number) => {\n\t\tthis.showSeasonsState[seasonNumber] = 'pending';\n\t\tthis.showSeasons[seasonNumber] = {};\n\t\tshowRequests.getShowSeason(showID, seasonNumber).then(\n\t\t\t(res) => this.requestSeasonsSuccess(res, seasonNumber),\n\t\t\t(res) => this.requestSeasonsFailure(res, seasonNumber)\n\t\t);\n\t};\n\trequestSeasonsSuccess = (result: IShow, seasonNumber: number) => {\n\t\tthis.showSeasons[seasonNumber] = result;\n\t\tthis.showSeasonsState[seasonNumber] = 'done';\n\t};\n\trequestSeasonsFailure = (error: string, seasonNumber: number) => {\n\t\tthis.showSeasonsState[seasonNumber] = 'error: ' + error;\n\t};\n\n\trequestEpisode = async (showID: number, seasonNumber: number, episodeNumber: number) => {\n\t\tthis.showState = 'pending';\n\t\tshowRequests.getShowEpisode(showID, seasonNumber, episodeNumber).then(this.requestEpisodeSuccess, this.requestEpisodeFailure);\n\t};\n\trequestEpisodeSuccess = (result: IShow) => {\n\t\tthis.show = result;\n\t\tthis.showState = 'done';\n\t};\n\trequestEpisodeFailure = (error: string) => {\n\t\tthis.showState = 'error: ' + error;\n\t};\n\n\trequestShowUserInfo = async (id: number) => {\n\t\tthis.userInfoState = 'pending';\n\t\tshowRequests.getShowUserInfo(id).then(this.requestShowUserInfoSuccess, this.requestShowUserInfoFailure);\n\t};\n\trequestShowUserInfoSuccess = (result: any) => {\n\t\tthis.userInfo = result.user_info;\n\t\tthis.friendsInfo = result.friends_info;\n\t\tthis.userInfoState = 'done';\n\t};\n\trequestShowUserInfoFailure = (error: string) => {\n\t\tthis.userInfoState = 'error: ' + error;\n\t};\n\n\trequestSeasonUserInfo = async (showID: number, seasonID: number) => {\n\t\tthis.userInfoState = 'pending';\n\t\tshowRequests.getShowSeasonUserInfo(showID, seasonID).then(this.requestSeasonUserInfoSuccess, this.requestSeasonUserInfoFailure);\n\t};\n\trequestSeasonUserInfoSuccess = (result: any) => {\n\t\tthis.userInfo = { ...result.user_info, user_watched_show: result.user_watched_show, episodes: result.episodes_user_info };\n\t\tthis.friendsInfo = result.friends_info;\n\t\tthis.userInfoState = 'done';\n\t};\n\trequestSeasonUserInfoFailure = (error: string) => {\n\t\tthis.userInfoState = 'error: ' + error;\n\t};\n\n\trequestSeasonsUserInfo = async (showID: number, seasonID: number) => {\n\t\tthis.showSeasonsUserInfo[seasonID] = {};\n\t\tthis.showSeasonsUserInfoState[seasonID] = 'pending';\n\t\tshowRequests.getShowSeasonUserInfo(showID, seasonID).then(\n\t\t\t(res) => this.requestSeasonsUserInfoSuccess(res, seasonID),\n\t\t\t(res) => this.requestSeasonsUserInfoFailure(res, seasonID)\n\t\t);\n\t};\n\trequestSeasonsUserInfoSuccess = (result: any, seasonID: number) => {\n\t\tthis.showSeasonsUserInfoState[seasonID] = 'done';\n\t\tthis.showSeasonsUserInfo[seasonID] = { ...result.user_info, user_watched_show: result.user_watched_show, episodes: result.episodes_user_info, friends_info: result.friends_info };\n\t};\n\trequestSeasonsUserInfoFailure = (error: string, seasonID: number) => {\n\t\tthis.showSeasonsUserInfoState[seasonID] = 'error: ' + error;\n\t};\n\n\trequestEpisodeUserInfo = async (showID: number, seasonID: number, episodeID: number) => {\n\t\tthis.userInfoState = 'pending';\n\t\tshowRequests.getShowEpisodeUserInfo(showID, seasonID, episodeID).then(this.requestEpisodeUserInfoSuccess, this.requestEpisodeUserInfoFailure);\n\t};\n\trequestEpisodeUserInfoSuccess = (result: any) => {\n\t\tthis.userInfoState = 'done';\n\t\tthis.userInfo = { ...result.user_info, user_watched_show: result.user_watched_show };\n\t\tthis.friendsInfo = result.friends_info;\n\t};\n\trequestEpisodeUserInfoFailure = (error: string) => {\n\t\tthis.userInfoState = 'error: ' + error;\n\t};\n\n\tsetShowStatus = async (userInfo: IShowUserInfo) => {\n\t\tthis.setStatusState = 'pending';\n\t\tshowRequests.setShowStatus(this.show?.id, userInfo).then(this.setShowStatusSuccess, this.setShowStatusFailure);\n\t};\n\tsetShowStatusSuccess = () => {\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetShowStatusFailure = (error: string) => {\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tsetShowReview = async (userInfo: IShowUserInfo) => {\n\t\tthis.setStatusState = 'pendingReview';\n\t\tthis.setStatusToast = toast('Сохраняем отзыв...', { autoClose: false, type: toast.TYPE.INFO, position: 'bottom-center' });\n\t\tshowRequests.setShowStatus(this.show?.id, userInfo).then(this.setShowReviewSuccess, this.setShowReviewFailure);\n\t};\n\tsetShowReviewSuccess = () => {\n\t\ttoast.update(this.setStatusToast, { render: 'Отзыв сохранен!', type: toast.TYPE.SUCCESS, autoClose: 1000 });\n\t\tthis.setStatusState = 'done';\n\t};\n\tsetShowReviewFailure = (error: string) => {\n\t\ttoast.update(this.setStatusToast, { render: 'Ошибка сохранения отзыва!', type: toast.TYPE.ERROR, autoClose: 1000 });\n\t\tthis.setStatusState = 'error: ' + error;\n\t};\n\n\tsetSeasonStatus = async (userInfo: IShowUserInfo, showID: number, seasonNumber: number) => {\n\t\tthis.setStatusState = 'pending';\n\t\tshowRequests.setShowSeasonStatus(showID, seasonNumber, userInfo).then(this.setShowStatusSuccess, this.setShowStatusFailure);\n\t};\n\tsetSeasonReview = async (userInfo: IShowUserInfo, showID: number, seasonNumber: number) => {\n\t\tthis.setStatusState = 'pendingReview';\n\t\tthis.setStatusToast = toast('Сохраняем отзыв...', { autoClose: false, type: toast.TYPE.INFO, position: 'bottom-center' });\n\t\tshowRequests.setShowSeasonStatus(showID, seasonNumber, userInfo).then(this.setShowReviewSuccess, this.setShowReviewFailure);\n\t};\n\n\tsetEpisodesStatus = async (episodesList: any, showID: number, seasonsToUpdate = []) => {\n\t\tthis.setStatusState = 'pending';\n\t\tshowRequests.setShowEpisodesStatus(showID, episodesList).then((result) => {\n\t\t\tif (seasonsToUpdate) for (let season in seasonsToUpdate) this.requestSeasonsUserInfo(showID, seasonsToUpdate[season]);\n\t\t\tthis.setShowStatusSuccess();\n\t\t}, this.setShowStatusFailure);\n\t};\n\n\tgetShowSeason = (seasonNumber: number) => {\n\t\treturn this.showSeasons[seasonNumber];\n\t};\n\n\tgetShowSeasonState = (seasonNumber: number) => {\n\t\treturn this.showSeasonsState[seasonNumber];\n\t};\n\n\tgetShowSeasonUserInfo = (seasonNumber: number) => {\n\t\treturn this.showSeasonsUserInfo[seasonNumber];\n\t};\n\n\tgetEpisodesUserInfo = (season: number, id: number) => {\n\t\tfor (let episodeNumber in this.showSeasonsUserInfo[season].episodes) {\n\t\t\tlet episode = this.showSeasonsUserInfo[season].episodes[episodeNumber];\n\t\t\tif (episode.tmdb_id === id) return episode;\n\t\t}\n\t\treturn null;\n\t};\n\n\tget anySeasonLoading() {\n\t\tfor (let season in this.showSeasonsState) if (this.showSeasonsState[season] === 'pending') return true;\n\t\treturn false;\n\t}\n\n\tget anyError() {\n\t\tif (this.showState.startsWith('error:')) return this.showState;\n\t\tif (this.userInfoState.startsWith('error:')) return this.userInfoState;\n\t\tif (this.setStatusState.startsWith('error:')) return this.setStatusState;\n\t\treturn null;\n\t}\n}\n\nconst ShowStore = new Show();\n//export default remotedev(ShowStore, { name: 'Show' });\nexport default ShowStore;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Rating from '../Rating';\n\nimport \"./detail-episode-row.sass\";\n\nfunction DetailEpisodeRow({ episode, showID, setEpisodeUserStatus, loggedIn, userInfo, checkAll, userWatchedShow, setSaveEpisodes }) {\n\tlet history = useHistory();\n\tconst [userRate, setUserRate] = useState(0);\n\tconst [isChecked, setIsChecked] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetUserRate(userInfo?.score);\n\t\tsetIsChecked(userInfo?.score > -1);\n\t}, [userInfo]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (checkAll === -1) {\n\t\t\t\tsetIsChecked(false);\n\t\t\t} else if (checkAll === 1) {\n\t\t\t\tsetIsChecked(true);\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[checkAll]\n\t);\n\n\tfunction parseDate(date) {\n\t\tif (!date) {\n\t\t\treturn 'TBA';\n\t\t}\n\t\tlet newDate = new Date(date).toLocaleDateString(\"ru-RU\");\n\t\tif (newDate !== \"Invalid Date\") {\n\t\t\treturn newDate;\n\t\t}\n\t\treturn 'TBA';\n\t}\n\n\treturn (\n\t\t<div className='detail-episode-row'>\n\t\t\t<input\n\t\t\t\ttype='checkbox'\n\t\t\t\tid={`cbEpisode${episode.id}`}\n\t\t\t\tchecked={isChecked}\n\t\t\t\tonChange={(res) => {\n\t\t\t\t\tsetSaveEpisodes(true);\n\t\t\t\t\tsetIsChecked(res.target.checked);\n\t\t\t\t}}\n\t\t\t\thidden={!loggedIn || !userWatchedShow}\n\t\t\t/>\n\t\t\t<p className='detail-episode-row__date'>{parseDate(episode.air_date)}</p>\n\t\t\t<div hidden={!loggedIn || !userWatchedShow} className='detail-episode-row__rate'>\n\t\t\t\t<Rating\n\t\t\t\t\twithEye={true}\n\t\t\t\t\treadonly={!loggedIn}\n\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\tsetIsChecked(score > -1);\n\t\t\t\t\t\tsetEpisodeUserStatus({ episodes: [{ tmdb_id: episode.id, score: score }] }, showID);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<a\n\t\t\t\tclassName='detail-episode-row__name'\n\t\t\t\thref={window.location.origin + \"/show/\" + showID + \"/season/\" + episode.season_number + \"/episode/\" + episode.episode_number}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\thistory.push(\"/show/\" + showID + \"/season/\" + episode.season_number + \"/episode/\" + episode.episode_number);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\ttitle={episode.name}>\n\t\t\t\tСерия {episode.episode_number} - {episode.name}\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n\nexport default DetailEpisodeRow;\n","import DetailEpisodeRow from \"./DetailEpisodeRow\";\n\nexport default DetailEpisodeRow;\n","import SeasonBlock from \"./SeasonBlock\";\n\nexport default SeasonBlock;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { computed } from \"mobx\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport classnames from \"classnames\";\n\nimport AuthStore from '../../../../store/AuthStore';\nimport ShowStore from '../../../../store/ShowStore';\nimport PagesStore from '../../../../store/PagesStore';\nimport DetailEpisodeRow from '../../../../shared/DetailEpisodeRow';\nimport Rating from '../../../../shared/Rating';\n\nimport \"./season-block.sass\";\n\nconst SeasonBlock = observer(\n\t({\n\t\tshowID,\n\t\tseasonNumber,\n\t\t//onChangeStatus,\n\t\tuserWatchedShow,\n\t\tclassName,\n\t}) => {\n\t\tconst { loggedIn } = AuthStore;\n\t\tconst { openLoginForm, setSaveEpisodes } = PagesStore;\n\t\tconst { requestSeasons, requestSeasonsUserInfo, setEpisodesStatus, setSeasonStatus } = ShowStore;\n\t\tconst showSeason = computed(() => ShowStore.getShowSeason(seasonNumber)).get();\n\t\tconst showSeasonState = computed(() => ShowStore.getShowSeasonState(seasonNumber)).get();\n\t\tconst showUserInfo = computed(() => ShowStore.getShowSeasonUserInfo(seasonNumber)).get();\n\n\t\tlet history = useHistory();\n\t\tconst [isChecked, setIsChecked] = useState(0);\n\t\tconst [userRate, setUserRate] = useState(0);\n\n\t\tuseEffect(\n\t\t\t() => {\n\t\t\t\tsetIsChecked(0);\n\t\t\t\tsetUserRate(0);\n\t\t\t\trequestSeasons(showID, seasonNumber);\n\t\t\t},\n\t\t\t// eslint-disable-next-line\n\t\t\t[showID, seasonNumber, requestSeasons]\n\t\t);\n\n\t\tuseEffect(\n\t\t\t() => {\n\t\t\t\tsetIsChecked(0);\n\t\t\t\tsetUserRate(0);\n\t\t\t\tif (loggedIn) requestSeasonsUserInfo(showID, seasonNumber);\n\t\t\t},\n\t\t\t// eslint-disable-next-line\n\t\t\t[loggedIn, showID, seasonNumber]\n\t\t);\n\n\t\tuseEffect(\n\t\t\t() => {\n\t\t\t\tif (showUserInfo?.score) {\n\t\t\t\t\tsetUserRate(showUserInfo.score);\n\t\t\t\t} else {\n\t\t\t\t\tsetUserRate(0);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// eslint-disable-next-line\n\t\t\t[showUserInfo]\n\t\t);\n\n\t\tfunction getEpisodeByID(episodes, id) {\n\t\t\tfor (let episode in episodes) if (episodes[episode].tmdb_id === id) return episodes[episode];\n\t\t}\n\n\t\treturn (\n\t\t\t<LoadingOverlay active={showSeasonState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div key={showSeason?.id} className={classnames(\"season-block\", className)}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={window.location.origin + \"/show/\" + showID + \"/season/\" + seasonNumber}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/show/\" + showID + \"/season/\" + seasonNumber);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='season-block__link'>\n\t\t\t\t\t\t<h5 className='season-block__name'> {showSeason?.name} </h5>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div hidden={!loggedIn || !userWatchedShow} className='season-block__rate'>\n\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\tsetSeasonStatus({ score: score }, showID, seasonNumber);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<details open={true} className='season-block__episodes'>\n\t\t\t\t\t\t<summary>Развернуть</summary>\n\t\t\t\t\t\t<div hidden={!loggedIn || !userWatchedShow} className='season-block__check-all'>\n\t\t\t\t\t\t\tВыбрать все&nbsp;\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\tchecked={isChecked > 0}\n\t\t\t\t\t\t\t\tonChange={(res) => {\n\t\t\t\t\t\t\t\t\tsetSaveEpisodes(true);\n\t\t\t\t\t\t\t\t\tsetIsChecked(res.target.checked ? 1 : -1);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul className='season-block__episodes-ul'>\n\t\t\t\t\t\t\t{showSeason?.episodes\n\t\t\t\t\t\t\t\t?.map((episode, counter) => (\n\t\t\t\t\t\t\t\t\t<li className='season-block__episode' key={counter}>\n\t\t\t\t\t\t\t\t\t\t<DetailEpisodeRow\n\t\t\t\t\t\t\t\t\t\t\tepisode={episode}\n\t\t\t\t\t\t\t\t\t\t\tshowID={showID}\n\t\t\t\t\t\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\t\t\t\t\t\tuserInfo={getEpisodeByID(showUserInfo?.episodes, episode?.id)}\n\t\t\t\t\t\t\t\t\t\t\tsetEpisodeUserStatus={setEpisodesStatus}\n\t\t\t\t\t\t\t\t\t\t\tcheckAll={isChecked}\n\t\t\t\t\t\t\t\t\t\t\tuserWatchedShow={userWatchedShow}\n\t\t\t\t\t\t\t\t\t\t\tsetSaveEpisodes={setSaveEpisodes}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t.reverse()}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</details>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t);\n\t}\n);\n\nexport default SeasonBlock;\n","import SeasonsBlock from \"./SeasonsBlock\";\n\nexport default SeasonsBlock;\n","import React, {useEffect} from \"react\";\nimport { toJS } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\nimport ShowStore from '../../../../store/ShowStore';\nimport PagesStore from '../../../../store/PagesStore';\nimport AuthStore from '../../../../store/AuthStore';\nimport SeasonBlock from \"../SeasonBlock\";\n\nimport \"./seasons-block.sass\";\n\nconst SeasonsBlock = observer(({ showID, seasons, userWatchedShow }) => {\n\tconst { showSeasonsUserInfo, showSeasons, setEpisodesStatus, setStatusState, anySeasonLoading } = ShowStore;\n\tconst { saveEpisodesBlockIsOpen, setSaveEpisodes } = PagesStore;\n\tconst { loggedIn } = AuthStore;\n\n\tfunction getEpisodeByID(episodes, id) {\n\t\tfor (let episode in episodes) if (episodes[episode].tmdb_id === id) return episodes[episode];\n\t}\n\n\tfunction sendEpisodes() {\n\t\tlet episodes = [];\n\t\tlet seasons = [];\n\t\tfor (let season in showSeasons) {\n\t\t\tfor (let episode in showSeasons[season].episodes) {\n\t\t\t\tlet currentValue = getEpisodeByID(showSeasonsUserInfo[season].episodes, showSeasons[season].episodes[episode].id);\n\t\t\t\tlet cbValue = document.getElementById(`cbEpisode${showSeasons[season].episodes[episode].id}`).checked;\n\t\t\t\tlet currentStatus = currentValue?.score > -1;\n\t\t\t\tif (cbValue !== currentStatus) {\n\t\t\t\t\tepisodes.push({ tmdb_id: showSeasons[season].episodes[episode].id, score: cbValue ? 0 : -1 });\n\t\t\t\t\tif (seasons.indexOf(season) === -1) seasons.push(season);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetEpisodesStatus({ episodes }, showID, seasons);\n\t\tsetSaveEpisodes(false);\n\t}\n\n\tfunction sendAllEpisodes() {\n\t\tlet episodes = [];\n\t\tlet seasons = [];\n\t\tfor (let season in showSeasons) {\n\t\t\tif (showSeasons[season].name !== \"Спецматериалы\")\n\t\t\t\tfor (let episode in showSeasons[season].episodes) {\n\t\t\t\t\tepisodes.push({ tmdb_id: showSeasons[season].episodes[episode].id, score: 0 });\n\t\t\t\t\tif (seasons.indexOf(season) === -1) seasons.push(season);\n\t\t\t\t}\n\t\t}\n\t\tsetEpisodesStatus({ episodes }, showID, seasons);\n\t\tsetSaveEpisodes(false);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsetSaveEpisodes(false);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className='seasons-block'>\n\t\t\t<LoadingOverlay active={setStatusState === \"pending\"} spinner text='Обновление...'>\n\t\t\t\t<button\n\t\t\t\t\tclassName='seasons-block__all-button'\n\t\t\t\t\thidden={!loggedIn | !userWatchedShow}\n\t\t\t\t\tdisabled={anySeasonLoading}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsendAllEpisodes();\n\t\t\t\t\t}}>\n\t\t\t\t\tПосмотрел весь сериал\n\t\t\t\t</button>\n\t\t\t\t{seasons\n\t\t\t\t\t?.map((season) => <SeasonBlock className='seasons-block__season-block' showID={showID} seasonNumber={season.season_number} key={season.season_number} userWatchedShow={userWatchedShow} />)\n\t\t\t\t\t.reverse()}\n\t\t\t\t<div className='seasons-block__save-episodes-block' hidden={!saveEpisodesBlockIsOpen}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='seasons-block__save-episodes-button'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsendEpisodes();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tСохранить\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default SeasonsBlock;\n","import ShowPage from \"./ShowPage\";\n\nexport default ShowPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport ReactPlayer from \"react-player/youtube\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { toast } from \"react-toastify\";\n\nimport AuthStore from '../../store/AuthStore';\nimport PagesStore from '../../store/PagesStore';\nimport ShowStore from '../../store/ShowStore';\nimport Rating from '../../shared/Rating';\nimport StatusButtonGroup from '../../shared/StatusButtonGroup';\nimport FriendsActivity from '../../shared/FriendsActivity';\nimport SeasonsBlock from './views/SeasonsBlock';\nimport ScoreBlock from '../../shared/ScoreBlock';\n\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport \"./show-page.sass\";\nimport Image from \"../../shared/Image\";\n\n/**\n * Основная страница приложения\n */\nconst ShowPage = observer((props) => {\n\tconst { loggedIn } = AuthStore;\n\tconst { openLoginForm } = PagesStore;\n\tconst { requestShow, show, showState, setShowStatus, setShowReview, requestShowUserInfo, userInfo, friendsInfo, userInfoState, anyError } = ShowStore;\n\n\tlet { id } = useParams();\n\tconst [review, setReview] = useState(\"\");\n\tconst [userStatus, setUserStatus] = useState(\"Не смотрел\");\n\tconst [userRate, setUserRate] = useState(0);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetReview(\"\");\n\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\tsetUserRate(0);\n\t\t\trequestShow(id);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[id, requestShow]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestShowUserInfo(id);\n\t\t\telse {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(0);\n\t\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn, id]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = show?.name || 'Interests';\n\t}, [show]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (userInfo?.status) {\n\t\t\t\tsetReview(userInfo.review);\n\t\t\t\tsetUserStatus(userInfo.status);\n\t\t\t\tsetUserRate(userInfo.score);\n\t\t\t} else {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(0);\n\t\t\t\tsetUserStatus(\"Не смотрел\");\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userInfo]\n\t);\n\n\tuseEffect(() => {\n\t\tif (anyError) toast.error(anyError);\n\t}, [anyError]);\n\n\tconst renderVideo = (video, index) => (\n\t\t<div className='movie-page__trailer' key={video.url}>\n\t\t\t<ReactPlayer url={video.url} controls key={index} className='movie-page__trailer-player' />\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className='show-page'>\n\t\t\t<div className='show-page__background' style={{ backgroundImage: `url(${show?.backdrop_path})` }} />\n\t\t\t<LoadingOverlay active={showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='show-page__body'>\n\t\t\t\t\t<div className='show-page__header'>\n\t\t\t\t\t\t<div className='show-page__poster'>\n\t\t\t\t\t\t\t<Image src={show?.poster_path} className='show-page__poster-img' alt='' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='show-page__info'>\n\t\t\t\t\t\t\t<h1 className='show-page__info-header'>{show?.name}</h1>\n\t\t\t\t\t\t\t<h5 className='show-page__info-subheader'>{show?.original_name}</h5>\n\t\t\t\t\t\t\t<div className='show-page__info-body'>\n\t\t\t\t\t\t\t\t<p hidden={!show?.genres}>Жанр: {show?.genres}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.production_companies}>Компания: {show?.production_companies}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.first_air_date}>Дата выхода первой серии: {show?.first_air_date}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.last_air_date}>Дата выхода последней серии: {show?.last_air_date}</p>\n\t\t\t\t\t\t\t\t<p hidden={!!show?.episode_run_time}>Продолжительность (мин): {show?.episode_run_time}</p>\n\t\t\t\t\t\t\t\t<p>Количество сезонов: {show?.seasons_count}</p>\n\t\t\t\t\t\t\t\t<p>Количество серий: {show?.episodes_count}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.status}>Статус: {show?.status}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\t\t\treadonly={!loggedIn | (userStatus === \"Не смотрел\")}\n\t\t\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\t\t\tsetShowStatus({ score: score });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='show-page__rating'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<StatusButtonGroup\n\t\t\t\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\t\t\t\tstatuses={[\"Не смотрел\", \"Буду смотреть\", \"Смотрю\", \"Дропнул\", \"Посмотрел\"]}\n\t\t\t\t\t\t\t\t\tclassName='show-page__info-statuses'\n\t\t\t\t\t\t\t\t\tuserStatus={userStatus}\n\t\t\t\t\t\t\t\t\tonChangeStatus={(status) => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetUserStatus(status);\n\t\t\t\t\t\t\t\t\t\t\tsetShowStatus({ status: status });\n\t\t\t\t\t\t\t\t\t\t\tif (status === \"Не смотрел\") {\n\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\tsetUserRate(0);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t<ScoreBlock score={show?.score} text='TMDB score' className='show-page__info-score' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Carousel className='movie-page__trailers' showArrows centerMode centerSlidePercentage={50} showThumbs={false} showStatus={false} showIndicators={false}>\n\t\t\t\t\t\t{show?.videos?.map(renderVideo)}\n\t\t\t\t\t</Carousel>\n\t\t\t\t\t<div className='show-page__overview'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3 className='show-page__overview-header'>Описание</h3>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: show?.overview }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='show-page__seasons'>\n\t\t\t\t\t\t\t<h3 className='show-page__seasons-header'>Список серий</h3>\n\t\t\t\t\t\t\t<SeasonsBlock showID={show?.id} seasons={show?.seasons} userWatchedShow={userStatus !== \"Не смотрел\"} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='show-page__review' hidden={!loggedIn}>\n\t\t\t\t\t\t\t<h3 className='show-page__review-header'>Отзыв</h3>\n\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t<div className='show-page__review'>\n\t\t\t\t\t\t\t\t\tВаш отзыв\n\t\t\t\t\t\t\t\t\t<textarea type='textarea' value={review} onChange={(event) => setReview(event.target.value)} className='show-page__review-input' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='show-page__review-save-button'\n\t\t\t\t\t\t\t\t\tdisabled={!loggedIn | (userStatus === \"Не смотрел\")}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetShowReview({ review: review });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='show-page__friends' hidden={!loggedIn || friendsInfo.length < 1}>\n\t\t\t\t\t\t\t<h4>Отзывы друзей</h4>\n\t\t\t\t\t\t\t<FriendsActivity info={friendsInfo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default ShowPage;\n","import SeasonPage from \"./SeasonPage\";\n\nexport default SeasonPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { AreaChart, linearGradient, XAxis, Tooltip, YAxis, Area, ResponsiveContainer } from \"recharts\";\nimport { toast } from \"react-toastify\";\n\nimport AuthStore from '../../store/AuthStore';\nimport ShowStore from '../../store/ShowStore';\nimport PagesStore from '../../store/PagesStore';\nimport Rating from '../../shared/Rating';\nimport FriendsActivity from '../../shared/FriendsActivity';\nimport DetailEpisodeRow from '../../shared/DetailEpisodeRow';\n\nimport \"./season-page.sass\";\nimport Image from \"../../shared/Image\";\n\n/**\n * Основная страница приложения\n */\nconst SeasonPage = observer((props) => {\n\tconst { loggedIn } = AuthStore;\n\tconst { requestSeason, show, showState, setSeasonStatus, setSeasonReview, setEpisodesStatus, requestSeasonUserInfo, userInfo, userInfoState, friendsInfo } = ShowStore;\n\tconst { openLoginForm, setSaveEpisodes, saveEpisodesBlockIsOpen } = PagesStore;\n\n\tlet history = useHistory();\n\tlet { show_id, number } = useParams();\n\tconst [review, setReview] = useState(\"\");\n\tconst [userRate, setUserRate] = useState(0);\n\tconst [chartData, setChartData] = useState([]);\n\tconst [isChecked, setIsChecked] = useState(0);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetReview(\"\");\n\t\t\tsetUserRate(0);\n\t\t\tsetIsChecked(0);\n\t\t\trequestSeason(show_id, number);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[show_id, number, requestSeason]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestSeasonUserInfo(show_id, number);\n\t\t\telse {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(0);\n\t\t\t\tsetIsChecked(0);\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn, show_id, number]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = show?.show?.tmdb_name + \" - \" + show?.name;\n\t}, [show]);\n\n\tuseEffect(() => {\n\t\tsetChartData([]);\n\t\tif (show?.episodes)\n\t\t\tif (show?.episodes.length > 0) {\n\t\t\t\tlet newData = [];\n\t\t\t\tfor (let episode in show?.episodes) {\n\t\t\t\t\tif (show?.episodes[episode].vote_average > 0) newData.push({ name: \"Ep \" + show?.episodes[episode].episode_number, Оценка: show?.episodes[episode].vote_average });\n\t\t\t\t}\n\t\t\t\tsetChartData(newData);\n\t\t\t}\n\t}, [show]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (userInfo?.review) setReview(userInfo.review);\n\t\t\telse setReview(\"\");\n\n\t\t\tif (userInfo?.score) setUserRate(userInfo.score);\n\t\t\telse setUserRate(0);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userInfo]\n\t);\n\n\tuseEffect(() => {\n\t\tif (showState.startsWith(\"error:\")) toast.error(`Ошибка загрузки! ${showState}`);\n\t}, [showState]);\n\tuseEffect(() => {\n\t\tif (userInfoState.startsWith(\"error:\")) toast.error(`Ошибка загрузки пользовательской информации! ${userInfoState}`);\n\t}, [userInfoState]);\n\n\tfunction getEpisodeByID(episodes, id) {\n\t\tfor (let episode in episodes) if (episodes[episode].tmdb_id === id) return episodes[episode];\n\t}\n\n\tfunction sendEpisodes() {\n\t\tlet episodes = [];\n\t\tfor (let episode in userInfo.episodes) {\n\t\t\tlet currentValue = userInfo.episodes[episode];\n\t\t\tlet cbValue = document.getElementById(`cbEpisode${currentValue.tmdb_id}`).checked;\n\t\t\tlet currentStatus = currentValue?.score > -1;\n\t\t\tif (cbValue !== currentStatus) episodes.push({ tmdb_id: currentValue.tmdb_id, score: cbValue ? 0 : -1 });\n\t\t}\n\t\tsetEpisodesStatus({ episodes }, show_id);\n\t\trequestSeasonUserInfo(show_id, number);\n\t\tsetSaveEpisodes(false);\n\t}\n\n\treturn (\n\t\t<div className='season-page'>\n\t\t\t<Image className='season-page__background' src={show?.show?.tmdb_backdrop_path} />\n\t\t\t<LoadingOverlay active={showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='season-page__body'>\n\t\t\t\t\t<div className='season-page__header'>\n\t\t\t\t\t\t<div className='season-page__poster'>\n\t\t\t\t\t\t\t<Image src={show?.poster_path} className='img-fluid' alt='' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='season-page__info'>\n\t\t\t\t\t\t\t<h1 className='season-page__info-header'>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + show?.show?.id}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + show?.show?.tmdb_id);\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{show?.show?.tmdb_name}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{\" - \" + show?.name}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<h5 className='season-page__info-subheader'>{show?.show?.tmdb_original_name + \" - Season \" + show?.season_number}</h5>\n\t\t\t\t\t\t\t<div className='season-page__info-body'>\n\t\t\t\t\t\t\t\t<p hidden={!show?.air_date}>Дата выхода: {show?.air_date}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.episodes}>Количество серий: {show?.episodes?.length}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div hidden={!loggedIn | !userInfo?.user_watched_show}>\n\t\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\t\t\t\tsetSeasonStatus({ score: score }, show_id, show?.season_number);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName='season-page__rating'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='season-page__review'>\n\t\t\t\t\t\t\t\t\t\tВаш отзыв\n\t\t\t\t\t\t\t\t\t\t<textarea type='textarea' className='season-page__review-input' value={review} onChange={(event) => setReview(event.target.value)} outline />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='season-page__review-save-button'\n\t\t\t\t\t\t\t\t\t\thidden={!loggedIn | !userInfo?.user_watched_show}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSeasonReview({ review: review }, show_id, show?.season_number);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='season-page__overview'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3 className='season-page__overview-header'>Описание</h3>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: show?.overview }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='season-page__episodes'>\n\t\t\t\t\t\t\t<h3 className='season-page__episodes-header'>Список серий</h3>\n\t\t\t\t\t\t\t<details open={false} className='season-page__episodes-body'>\n\t\t\t\t\t\t\t\t<summary>Развернуть</summary>\n\t\t\t\t\t\t\t\t<div hidden={!loggedIn || !userInfo?.user_watched_show}>\n\t\t\t\t\t\t\t\t\tВыбрать все&nbsp;\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\tchecked={isChecked > 0}\n\t\t\t\t\t\t\t\t\t\tonChange={(res) => {\n\t\t\t\t\t\t\t\t\t\t\tsetSaveEpisodes(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsChecked(res.target.checked ? 1 : -1);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ul className='season-page__episodes-ul'>\n\t\t\t\t\t\t\t\t\t{show?.episodes\n\t\t\t\t\t\t\t\t\t\t? show?.episodes.map((episode, counter) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li className='season-page__episode' key={counter}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DetailEpisodeRow\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tepisode={episode}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowID={show_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserInfo={getEpisodeByID(userInfo?.episodes, episode.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEpisodeUserStatus={setEpisodesStatus}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckAll={isChecked}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserWatchedShow={userInfo?.user_watched_show}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSaveEpisodes={setSaveEpisodes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</details>\n\t\t\t\t\t\t\t<div hidden={!(chartData.length > 0)}>\n\t\t\t\t\t\t\t\t{document.body.clientHeight < document.body.clientWidth ? (\n\t\t\t\t\t\t\t\t\t<ResponsiveContainer width='100%' height={200}>\n\t\t\t\t\t\t\t\t\t\t<AreaChart data={chartData} margin={{ top: 10, right: 20, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t\t\t<linearGradient id='colorUv' x1='0' y1='0' x2='0' y2='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset='5%' stopColor='#8884d8' stopOpacity={0.8} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset='95%' stopColor='#8884d8' stopOpacity={0} />\n\t\t\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t\t\t<XAxis dataKey='name' interval={0} tick={{ fill: \"rgb(238, 238, 238)\" }} />\n\t\t\t\t\t\t\t\t\t\t\t<YAxis tickLine={false} domain={[0, 10]} tick={{ fill: \"rgb(238, 238, 238)\" }} tickCount={2} />\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip contentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }} />\n\t\t\t\t\t\t\t\t\t\t\t<Area type='monotone' dataKey='Оценка' stroke='#8884d8' fillOpacity={1} fill='url(#colorUv)' />\n\t\t\t\t\t\t\t\t\t\t</AreaChart>\n\t\t\t\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ResponsiveContainer width='100%' height={chartData.length * 30}>\n\t\t\t\t\t\t\t\t\t\t<AreaChart data={chartData} margin={{ top: 10, right: 20, left: 0, bottom: 0 }} layout='vertical'>\n\t\t\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t\t\t<linearGradient id='colorUv' x1='0' y1='0' x2='0' y2='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset='5%' stopColor='#8884d8' stopOpacity={0.8} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<stop offset='95%' stopColor='#8884d8' stopOpacity={0} />\n\t\t\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t\t\t<YAxis dataKey='name' interval={0} tick={{ fill: \"rgb(238, 238, 238)\" }} type='category' />\n\t\t\t\t\t\t\t\t\t\t\t<XAxis tickLine={false} domain={[0, 10]} tick={{ fill: \"rgb(238, 238, 238)\" }} tickCount={2} type='number' />\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip contentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }} />\n\t\t\t\t\t\t\t\t\t\t\t<Area type='monotone' dataKey='Оценка' stroke='#8884d8' fillOpacity={1} fill='url(#colorUv)' />\n\t\t\t\t\t\t\t\t\t\t</AreaChart>\n\t\t\t\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='season-page__friends' hidden={friendsInfo.length < 1}>\n\t\t\t\t\t\t\t<h4>Отзывы друзей</h4>\n\t\t\t\t\t\t\t<FriendsActivity info={friendsInfo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t\t<div className='season-page__save-episodes-block' hidden={!saveEpisodesBlockIsOpen}>\n\t\t\t\t<button\n\t\t\t\t\tclassName='season-page__save-episodes-button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsendEpisodes();\n\t\t\t\t\t}}>\n\t\t\t\t\tСохранить\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default SeasonPage;\n","import EpisodePage from \"./EpisodePage\";\n\nexport default EpisodePage;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { toast } from \"react-toastify\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\nimport AuthStore from '../../store/AuthStore';\nimport ShowStore from '../../store/ShowStore';\nimport PagesStore from '../../store/PagesStore';\nimport Rating from '../../shared/Rating';\nimport FriendsActivity from '../../shared/FriendsActivity';\nimport ScoreBlock from '../../shared/ScoreBlock';\n\nimport \"./episode-page.sass\";\nimport Image from \"../../shared/Image\";\n\n/**\n * Основная страница приложения\n */\nconst EpisodePage = observer((props) => {\n\tconst { loggedIn } = AuthStore;\n\tconst { openLoginForm } = PagesStore;\n\tconst { requestEpisode, show, showState, setEpisodesStatus, requestEpisodeUserInfo, userInfo, userInfoState, friendsInfo, setStatusState } = ShowStore;\n\n\tlet history = useHistory();\n\tlet { show_id, season_number, episode_number } = useParams();\n\tconst [review, setReview] = useState(\"\");\n\tconst [userRate, setUserRate] = useState(-1);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetReview(\"\");\n\t\t\tsetUserRate(-1);\n\t\t\trequestEpisode(show_id, season_number, episode_number);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[show_id, season_number, episode_number, requestEpisode]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestEpisodeUserInfo(show_id, season_number, episode_number);\n\t\t\telse {\n\t\t\t\tsetReview(\"\");\n\t\t\t\tsetUserRate(-1);\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn, show_id, season_number, episode_number]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = show?.show?.tmdb_name + \" - \" + show?.name;\n\t}, [show]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (userInfo?.review) setReview(userInfo.review);\n\t\t\telse setReview(\"\");\n\n\t\t\tif (userInfo?.score > -1) setUserRate(userInfo.score);\n\t\t\telse setUserRate(-1);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userInfo]\n\t);\n\n\tuseEffect(() => {\n\t\tif (showState.startsWith(\"error:\")) toast.error(`Ошибка загрузки! ${showState}`);\n\t}, [showState]);\n\tuseEffect(() => {\n\t\tif (userInfoState.startsWith(\"error:\")) toast.error(`Ошибка загрузки пользовательской информации! ${userInfoState}`);\n\t}, [userInfoState]);\n\tuseEffect(() => {\n\t\tif (setStatusState.startsWith(\"error:\")) toast.error(`Ошибка сохранения! ${setStatusState}`);\n\t}, [setStatusState]);\n\n\treturn (\n\t\t<div className='episode-page'>\n\t\t\t<Image className='episode-page__background' src={show?.show?.tmdb_backdrop_path} />\n\t\t\t<LoadingOverlay active={showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='episode-page__body'>\n\t\t\t\t\t<div className='episode-page__header'>\n\t\t\t\t\t\t<div className='episode-page__poster'>\n\t\t\t\t\t\t\t<Image src={show?.still_path}  alt='' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='episode-page__info'>\n\t\t\t\t\t\t\t<h1 className='episode-page__info-header'>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + show_id}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + show_id);\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{show?.show?.tmdb_name}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{\" - \" + show?.name}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<h5 className='episode-page__info-subheader'>{show?.show?.tmdb_original_name + \" - Season \" + show?.season_number + \" - Episode \" + show?.episode_number}</h5>\n\t\t\t\t\t\t\t<div className='episode-page__info-body'>\n\t\t\t\t\t\t\t\t<p hidden={!show?.air_date}>Дата выхода: {show?.air_date}</p>\n\t\t\t\t\t\t\t\t<p hidden={!show?.runtime}>Продолжительность (мин): {show?.runtime}</p>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + show_id + \"/season/\" + season_number}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + show_id + \"/season/\" + season_number);\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tСезон: {show?.season_number}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div hidden={!loggedIn | !userInfo?.user_watched_show}>\n\t\t\t\t\t\t\t\t<LoadingOverlay active={userInfoState === \"pending\" && !showState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\t\twithEye={true}\n\t\t\t\t\t\t\t\t\t\tinitialRating={userRate}\n\t\t\t\t\t\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetUserRate(score);\n\t\t\t\t\t\t\t\t\t\t\t\tsetEpisodesStatus({ episodes: [{ tmdb_id: show?.id, score: score }] }, show_id);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName='episode-page__rating'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='episode-page__review'>\n\t\t\t\t\t\t\t\t\t\tВаш отзыв\n\t\t\t\t\t\t\t\t\t\t<textarea type='textarea' className='episode-page__review-input' value={review} onChange={(event) => setReview(event.target.value)} outline />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='episode-page__review-save-button'\n\t\t\t\t\t\t\t\t\t\thidden={!loggedIn | !userInfo?.user_watched_show}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (!loggedIn) {\n\t\t\t\t\t\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetEpisodesStatus({ episodes: [{ tmdb_id: show?.id, review: review }] }, show_id);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ScoreBlock score={show?.score} text='TMDB score' className='episode-page__info-score' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='episode-page__overview'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>Описание</h3>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: show?.overview }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='episode-page__friends' hidden={friendsInfo.length < 1}>\n\t\t\t\t\t\t\t<h4>Отзывы друзей</h4>\n\t\t\t\t\t\t\t<FriendsActivity info={friendsInfo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default EpisodePage;\n","import api from '../http';\nimport { USER_INFO_URL, SEARCH_USERS_URL, USER_CALENDAR_URL, USER_SETTINGS_URL } from '../settings';\n\n/**\n * Запрос к бд, получающий информацию о пользователе\n * @param {string} userID ID пользователя\n */\nexport async function getUserInfo(userID: string | number) {\n\tconst res = await api.get(USER_INFO_URL + userID + '/');\n\treturn res.data;\n}\n\n/**\n * Запрос на поиск пользователей\n * @param {string} query Поисковый запрос\n */\nexport async function searchUsers(query: string) {\n\tconst res = await api.get(SEARCH_USERS_URL, { params: { query: query } });\n\treturn res.data;\n}\n\nexport async function setUserStatus(is_following: boolean, userID: string | number) {\n\tconst res = await api.put(USER_INFO_URL + userID + '/follow/', is_following);\n\treturn res.data;\n}\n\nexport async function getUserLog(\n\tuserID: string | number,\n\tpage: number,\n\tresultsOnPage: number,\n\tquery: string,\n\tfilters: string[],\n) {\n\tconst res = await api.get(USER_INFO_URL + userID + '/log/', { params: { page: page, page_size: resultsOnPage, query: query, filters: filters } });\n\treturn res.data;\n}\n\nexport async function deleteUserLog(userID: string, logType: string, logID: string | number) {\n\tconst res = await api.delete(USER_INFO_URL + userID + '/log/', { data: { type: logType, id: logID } });\n\treturn res;\n}\n\nexport async function getUserFriendsLog(\n\tpage: string | number,\n\tresultsOnPage: number,\n\tquery: string,\n\tfilters: string[],\n) {\n\tconst res = await api.get(USER_INFO_URL + 'friends_log/', { params: { page: page, page_size: resultsOnPage, query: query, filters: filters } });\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий календарь релизов пользователя\n */\nexport async function getUserCalendar() {\n\tconst res = await api.get(USER_CALENDAR_URL);\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, получающий настройки пользователя\n */\nexport async function getUserSettings() {\n\tconst res = await api.get(USER_SETTINGS_URL);\n\treturn res.data;\n}\n\n/**\n * Запрос к бд, изменяющий настройки пользователя\n */\nexport async function patchUserSettings(settings: any) {\n\tconst res = await api.patch(USER_SETTINGS_URL, settings);\n\treturn res.data;\n}\n\nexport async function getRoulette(params: {\n\tcategories: string[],\n\tendedOnly: boolean,\n}) {\n\tconst response = await api.get('users/user/random/', {params: params});\n\treturn response.data;\n}\n","import { makeAutoObservable } from 'mobx';\nimport { toast } from 'react-toastify';\n//import remotedev from 'mobx-remotedev';\nimport * as userRequests from '../services/userRequests';\nimport * as gameRequests from '../services/gameRequests';\nimport * as movieRequests from '../services/movieRequests';\nimport * as showRequests from '../services/showRequests';\nimport {IGame} from './GameStore';\nimport {IMovie} from './MovieStore';\nimport {IShow} from './ShowStore';\nimport {IUser} from './UserStore';\n\ntype IPendingState = 'done' | 'pending' | string;\n\ninterface ISearchResult<Type> {\n\tvalues: Array<Type>,\n\tpage: number,\n\tquery: string,\n\tisEnd?: boolean,\n}\n\ninterface IHints {\n\tgames: Array<any>,\n\tshows: Array<any>,\n\tmovies: Array<any>,\n\tquery: string,\n\tcurrentQuery?: any,\n}\n\nclass Search {\n\tgames: ISearchResult<IGame> = { values: [], page: 1, query: '' };\n\tmovies: ISearchResult<IMovie> = { values: [], page: 1, query: '' };\n\tshows: ISearchResult<IShow> = { values: [], page: 1, query: '' };\n\tusers: ISearchResult<IUser> = { values: [], page: 1, query: '' };\n\thints: IHints = { games: [], shows: [], movies: [], query: '' };\n\tgamesState: IPendingState = 'done';\n\tmoviesState: IPendingState = 'done';\n\tshowsState: IPendingState = 'done';\n\tusersState: IPendingState = 'done';\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\tsearchHints = async (query: string) => {\n\t\tif (this.hints.query !== query) {\n\t\t\tthis.hints.currentQuery = query;\n\t\t\tgameRequests.searchGamesFast(query).then(this.searchGamesHintsSuccess);\n\t\t\tmovieRequests.searchMoviesFast(query).then(this.searchMoviesHintsSuccess);\n\t\t\tshowRequests.searchShowsFast(query).then(this.searchShowsHintsSuccess);\n\t\t}\n\t};\n\tsearchGamesHintsSuccess = (result: Array<any>) => {\n\t\tthis.hints.games = result;\n\t};\n\tsearchMoviesHintsSuccess = (result: Array<any>) => {\n\t\tthis.hints.movies = result;\n\t};\n\tsearchShowsHintsSuccess = (result: Array<any>) => {\n\t\tthis.hints.shows = result;\n\t};\n\n\tsearchGames = async (query: string) => {\n\t\tthis.gamesState = 'pending';\n\t\tgameRequests.searchGames(query, 1, 20).then((res) => this.searchGamesSuccess(res, query), this.searchGamesFailure);\n\t};\n\tsearchGamesSuccess = (result: Array<any>, query: string) => {\n\t\tthis.games = { values: result, page: 1, query, isEnd: result.length < 20 };\n\t\tthis.gamesState = 'done';\n\t};\n\tsearchGamesFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска игр! ${error}`);\n\t\tthis.gamesState = 'error: ' + error;\n\t};\n\tnextGames = async () => {\n\t\tif (this.gamesState === 'pending' || this.games.isEnd) return;\n\t\tthis.gamesState = 'pending';\n\t\tgameRequests.searchGames(this.games.query, this.games.page + 1, 20).then(this.nextGamesSuccess, this.nextGamesFailure);\n\t};\n\tnextGamesSuccess = (result: Array<any>) => {\n\t\tthis.games = { values: [...this.games.values, ...result], page: this.games.page + 1, query: this.games.query, isEnd: result.length < 20 };\n\t\tthis.gamesState = 'done';\n\t};\n\tnextGamesFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска игр! ${error}`);\n\t\tthis.gamesState = 'error: ' + error;\n\t};\n\n\tsearchMovies = async (query: string) => {\n\t\tthis.moviesState = 'pending';\n\t\tmovieRequests.searchMovies(query, 1).then((res) => this.searchMoviesSuccess(res, query), this.searchMoviesFailure);\n\t};\n\tsearchMoviesSuccess = (result: any, query: string) => {\n\t\tthis.movies = { values: result.results, page: 1, query, isEnd: result.page === result.total_pages || result.total_pages === 0 };\n\t\tthis.moviesState = 'done';\n\t};\n\tsearchMoviesFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска фильмов! ${error}`);\n\t\tthis.moviesState = 'error: ' + error;\n\t};\n\tnextMovies = async () => {\n\t\tif (this.moviesState === 'pending' || this.movies.isEnd) return;\n\t\tthis.moviesState = 'pending';\n\t\tmovieRequests.searchMovies(this.movies.query, this.movies.page + 1).then(this.nextMoviesSuccess, this.nextMoviesFailure);\n\t};\n\tnextMoviesSuccess = (result: any) => {\n\t\tthis.movies = { values: [...this.movies.values, ...result?.results], page: this.movies.page + 1, query: this.movies.query, isEnd: result.page === result.total_pages };\n\t\tthis.moviesState = 'done';\n\t};\n\tnextMoviesFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска фильмов! ${error}`);\n\t\tthis.moviesState = 'error: ' + error;\n\t};\n\n\tsearchShows = async (query: string, page?: number) => {\n\t\tthis.showsState = 'pending';\n\t\tshowRequests.searchShows(query, page).then((res) => this.searchShowsSuccess(res, query), this.searchShowsFailure);\n\t};\n\tsearchShowsSuccess = (result: any, query: string) => {\n\t\tthis.shows = { values: result.results, page: 1, query, isEnd: result.page === result.total_pages || result.total_pages === 0 };\n\t\tthis.showsState = 'done';\n\t};\n\tsearchShowsFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска серилов! ${error}`);\n\t\tthis.showsState = 'error: ' + error;\n\t};\n\tnextShows = async () => {\n\t\tif (this.showsState === 'pending' || this.shows.isEnd) return;\n\t\tthis.showsState = 'pending';\n\t\tshowRequests.searchShows(this.shows.query, this.shows.page + 1).then(this.nextShowsSuccess, this.nextShowsFailure);\n\t};\n\tnextShowsSuccess = (result: any) => {\n\t\tthis.shows = { values: [...this.shows.values, ...result.results], page: this.shows.page + 1, query: this.shows.query, isEnd: result.page === result.total_pages };\n\t\tthis.showsState = 'done';\n\t};\n\tnextShowsFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска сериалов! ${error}`);\n\t\tthis.showsState = 'error: ' + error;\n\t};\n\n\tsearchUsers = async (query: string) => {\n\t\tthis.usersState = 'pending';\n\t\tuserRequests.searchUsers(query).then(this.searchUsersSuccess, this.searchUsersFailure);\n\t};\n\tsearchUsersSuccess = (result: any) => {\n\t\tthis.users = { values: result, page: 1, query: '' };\n\t\tthis.usersState = 'done';\n\t};\n\tsearchUsersFailure = (error: string) => {\n\t\ttoast.error(`Ошибка поиска пользователей! ${error}`);\n\t\tthis.usersState = 'error: ' + error;\n\t};\n}\n\nconst SearchStore = new Search();\n//export default remotedev(SearchStore, { name: 'Search' });\nexport default SearchStore;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport \"./search-card.sass\";\nimport Image from \"../../../../shared/Image\";\n\nfunction SearchCard({ info, className }) {\n\tlet history = useHistory();\n\n\treturn (\n\t\t<div className={classnames(\"search-card\", className)}>\n\t\t\t<a\n\t\t\t\thref={window.location.origin + info.link}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\thistory.push(info.link);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\ttitle={info.name}>\n\t\t\t\t{\n\t\t\t\t\tinfo.poster?.includes('url(')\n\t\t\t\t\t\t? (<div className='search-card__poster' style={{ backgroundImage: info.poster }} />)\n\t\t\t\t\t\t: (<Image className='search-card__poster' src={info.poster} />)\n\t\t\t\t}\n\t\t\t\t<div className='search-card__body'>\n\t\t\t\t\t<div className='search-card__name'>\n\t\t\t\t\t\t<h4>{info.name}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className='search-card__date'>{info.release_date}</p>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t\t<div className='search-card__wrapper'>\n\t\t\t\t<p className='search-card__genres' hidden={!info.genres}>\n\t\t\t\t\tЖанр: {info.genres}\n\t\t\t\t</p>\n\t\t\t\t<p className='search-card__tags' hidden={!info.tags}>\n\t\t\t\t\tТеги: {info.tags}\n\t\t\t\t</p>\n\t\t\t\t<p className='search-card__platfroms' hidden={!info.platforms}>\n\t\t\t\t\tПлатформы: {info.platforms}\n\t\t\t\t</p>\n\t\t\t\t<p className='search-card__overview' hidden={!info.overview}>\n\t\t\t\t\t{info.overview}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SearchCard;\n","import SearchCard from \"./SearchCard\";\n\nexport default SearchCard;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport SearchCard from \"../SearchCard\";\nimport \"./search-cards.sass\";\n\nfunction SearchCardsBlock({ name, objects, hidden, className }) {\n\treturn (\n\t\t<div hidden={hidden} className={classnames(\"search-cards\", className)}>\n\t\t\t<h3>{name}</h3>\n\t\t\t<div className='search-cards__body'>\n\t\t\t\t<div className='search-cards__cards'>\n\t\t\t\t\t{objects?.map((object) => (\n\t\t\t\t\t\t<SearchCard info={object} key={object.id} className='search-cards__card' />\n\t\t\t\t\t))}\n\t\t\t\t\t{objects?.length < 1 ? `${name} не найдены` : \"\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n//onMouseDown={mouseDownHandler}\n\nexport default SearchCardsBlock;\n","import SearchCardsBlock from \"./SearchCardsBlock\";\n\nexport default SearchCardsBlock;\n","import React, { useMemo } from \"react\";\nimport SearchCardsBlock from \"./SearchCardsBlock\";\n\nfunction GameCards({ games, hidden }) {\n\tconst objects = useMemo(\n\t\t() =>\n\t\t\tgames?.reduce((newObjects, game) => {\n\t\t\t\tlet object = {\n\t\t\t\t\tname: game.name,\n\t\t\t\t\tid: game.id,\n\t\t\t\t\tposter: `url(${game.background_image})`,\n\t\t\t\t\tlink: \"/game/\" + game.slug,\n\t\t\t\t\tgenres: \"\",\n\t\t\t\t\ttags: \"\",\n\t\t\t\t\tplatforms: \"\",\n\t\t\t\t};\n\n\t\t\t\tif (game.released) {\n\t\t\t\t\tlet mas = game.released.split(\"-\");\n\t\t\t\t\tlet newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\n\t\t\t\t\tobject.release_date = newDate;\n\t\t\t\t} else object.release_date = \"\";\n\n\t\t\t\tif (game.genres) {\n\t\t\t\t\tobject.genres = game.genres.reduce((previousValue, genre) => `${previousValue}, ${genre.name}`, \"\").slice(2);\n\t\t\t\t}\n\t\t\t\tif (game.tags) {\n\t\t\t\t\tobject.tags = game.tags\n\t\t\t\t\t\t.reduce((previousValue, tag, index) => {\n\t\t\t\t\t\t\tif (index < 6) return `${previousValue}, ${tag.name}`;\n\t\t\t\t\t\t\treturn previousValue;\n\t\t\t\t\t\t}, \"\")\n\t\t\t\t\t\t.slice(2);\n\t\t\t\t}\n\t\t\t\tif (game.platforms) {\n\t\t\t\t\tobject.platforms = game.platforms.reduce((previousValue, platform) => `${previousValue}, ${platform.platform.name}`, \"\").slice(2);\n\t\t\t\t}\n\n\t\t\t\tif (object) newObjects.push(object);\n\t\t\t\treturn newObjects;\n\t\t\t}, []),\n\t\t[games]\n\t);\n\n\treturn <SearchCardsBlock name='Игры' hidden={hidden} objects={objects} />;\n}\n\nexport default GameCards;\n","import React, { useMemo } from \"react\";\nimport SearchCardsBlock from \"./SearchCardsBlock\";\n\nfunction MovieCards({ movies, hidden }) {\n\tconst objects = useMemo(\n\t\t() =>\n\t\t\tmovies?.reduce((newObjects, movie) => {\n\t\t\t\tlet object = {\n\t\t\t\t\tname: movie.title,\n\t\t\t\t\tid: movie.id,\n\t\t\t\t\tposter: movie.backdrop_path,\n\t\t\t\t\tlink: \"/movie/\" + movie.id,\n\t\t\t\t\toverview: movie.overview,\n\t\t\t\t};\n\n\t\t\t\tif (movie.release_date) {\n\t\t\t\t\tlet mas = movie.release_date.split(\"-\");\n\t\t\t\t\tlet newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\n\t\t\t\t\tobject.release_date = newDate;\n\t\t\t\t} else object.release_date = \"\";\n\n\t\t\t\tif (object) newObjects.push(object);\n\t\t\t\treturn newObjects;\n\t\t\t}, []),\n\t\t[movies]\n\t);\n\n\treturn <SearchCardsBlock name='Фильмы' hidden={hidden} objects={objects} />;\n}\n\nexport default MovieCards;\n","import React, { useMemo } from \"react\";\nimport SearchCardsBlock from \"./SearchCardsBlock\";\n\nfunction ShowCards({ shows, hidden }) {\n\tconst objects = useMemo(\n\t\t() =>\n\t\t\tshows?.reduce((newObjects, show) => {\n\t\t\t\tlet object = {\n\t\t\t\t\tname: show.name,\n\t\t\t\t\tid: show.id,\n\t\t\t\t\tposter: show.backdrop_path,\n\t\t\t\t\tlink: \"/show/\" + show.id,\n\t\t\t\t\toverview: show.overview,\n\t\t\t\t};\n\n\t\t\t\tif (show.first_air_date) {\n\t\t\t\t\tlet mas = show.first_air_date.split(\"-\");\n\t\t\t\t\tlet newDate = mas[2] + \".\" + mas[1] + \".\" + mas[0];\n\t\t\t\t\tobject.release_date = newDate;\n\t\t\t\t} else object.release_date = \"\";\n\n\t\t\t\tif (object) newObjects.push(object);\n\t\t\t\treturn newObjects;\n\t\t\t}, []),\n\t\t[shows]\n\t);\n\n\treturn <SearchCardsBlock name='Сериалы' hidden={hidden} objects={objects} />;\n}\n\nexport default ShowCards;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./card-user.sass\";\n\nfunction CardUser({ user, className }) {\n\tlet history = useHistory();\n\n\treturn (\n\t\t<a\n\t\t\thref={window.location.origin + \"/user/\" + user.id}\n\t\t\tonClick={(e) => {\n\t\t\t\thistory.push(\"/user/\" + user.id);\n\t\t\t\te.preventDefault();\n\t\t\t}}\n\t\t\tclassName={classnames(\"card-user\", className)}>\n\t\t\t<div className='card-user__image' style={{ backgroundImage: `url(${\"https://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png\"})` }} />\n\t\t\t<div className='card-user__text'>{user.username}</div>\n\t\t</a>\n\t);\n}\n\nexport default CardUser;\n","import CardUser from \"./CardUser\";\n\nexport default CardUser;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./friend-block.sass\";\n\nimport CardUser from '../CardUser';\n\nfunction FriendBlock({ users, className }) {\n\treturn (\n\t\t<div className={classnames(\"friends-block\", className)}>\n\t\t\t{users.map((user) => (\n\t\t\t\t<CardUser user={user} key={user.id} className='friends-block__friend' />\n\t\t\t))}\n\t\t\t{users.length < 1 ? \"Пользователи не найдены\" : \"\"}\n\t\t</div>\n\t);\n}\n\nexport default FriendBlock;\n","import FriendBlock from \"./FriendBlock\";\n\nexport default FriendBlock;\n","import React from \"react\";\nimport FriendBlock from '../../../shared/FriendBlock';\n\nfunction UserCards({ users, hidden }) {\n\treturn (\n\t\t<div hidden={hidden}>\n\t\t\t<h3>Пользователи</h3>\n\t\t\t<FriendBlock users={users} />\n\t\t</div>\n\t);\n}\n\nexport default UserCards;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"./categories-tab.sass\";\n\ninterface ICategoriesTabProps {\n\tcategories: Array<string>,\n\tonChangeCategory: (category: string) => void,\n\tactiveCategory: string,\n\thidden?: boolean,\n\tchildren?: any,\n\tclassName?: string,\n}\n\nfunction CategoriesTab({ categories, onChangeCategory, activeCategory, hidden, children, className }: ICategoriesTabProps) {\n\treturn (\n\t\t<div hidden={hidden} className={classnames(\"categories-tabs\", className)}>\n\t\t\t<div className='categories-tabs__body'>\n\t\t\t\t{categories.map((category, counter) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={classnames(\"categories-tabs__tab\", activeCategory === category ? \"categories-tabs__tab_active\" : \"\")}\n\t\t\t\t\t\tkey={counter}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonChangeCategory(category);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{category}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className='categories-tabs__content'>{children}</div>\n\t\t</div>\n\t);\n}\n\nexport default CategoriesTab;\n","import CategoriesTab from \"./CategoriesTab\";\n\nexport default CategoriesTab;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport LoadingOverlay from 'react-loading-overlay-ts';\nimport { FaSearch } from 'react-icons/fa';\nimport SearchStore from '../../store/SearchStore';\nimport GameCards from './views/GameCards';\nimport MovieCards from './views/MovieCards';\nimport ShowCards from './views/ShowCards';\nimport UserCards from './views/UserCards';\nimport CategoriesTab from '../../shared/CategoriesTab';\n\nimport './search-page.sass';\nimport useScroll from '../../hooks/useScroll';\n\n/**\n * Основная страница приложения\n */\nconst SearchPage = observer(() => {\n\tconst store = SearchStore;\n\n\tlet history = useHistory();\n\tlet { query }: any = useParams();\n\tconst [queryText, setQueryText] = useState('');\n\n\tconst parentRef = useRef() as React.MutableRefObject<HTMLInputElement>;\n\tconst childRef = useRef() as React.MutableRefObject<HTMLInputElement>;\n\t// eslint-disable-next-line\n\tconst intersected = useScroll(parentRef, childRef, () => fetchItems());\n\n\tconst [activeCategory, setActiveCategory] = useState('Игры');\n\n\tfunction fetchItems() {\n\t\tif (activeCategory === 'Игры') store.nextGames();\n\t\tif (activeCategory === 'Фильмы') store.nextMovies();\n\t\tif (activeCategory === 'Сериалы') store.nextShows();\n\t}\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (activeCategory === 'Игры') store.searchGames(query);\n\t\t\tif (activeCategory === 'Фильмы') store.searchMovies(query);\n\t\t\tif (activeCategory === 'Сериалы') store.searchShows(query);\n\t\t\tif (activeCategory === 'Пользователи') store.searchUsers(query);\n\t\t\tsetQueryText(query);\n\t\t\tdocument.title = 'Поиск';\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[query, activeCategory]\n\t);\n\n\n\treturn (\n\t\t<div className='search-page'>\n\t\t\t<div className='search-page__body'>\n\t\t\t\t<form\n\t\t\t\t\tclassName='search-page__form'\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\thistory.push('/search/' + queryText);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}}>\n\t\t\t\t\t<h1>Поиск</h1>\n\t\t\t\t\t<FaSearch className='search-page__name-icon' />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='search-page__name-input'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='Найти'\n\t\t\t\t\t\tvalue={queryText}\n\t\t\t\t\t\tonChange={(e) => setQueryText(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t<CategoriesTab\n\t\t\t\t\tcategories={['Игры', 'Фильмы', 'Сериалы', 'Пользователи']}\n\t\t\t\t\tactiveCategory={activeCategory}\n\t\t\t\t\tonChangeCategory={(category: string) => {\n\t\t\t\t\t\tsetActiveCategory(category);\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className='search-page__results' ref={parentRef}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t activeCategory === 'Игры' && (\n\t\t\t\t\t\t\t\t<LoadingOverlay active={store.gamesState === 'pending'} spinner text='Ищем игры...'>\n\t\t\t\t\t\t\t\t\t<GameCards games={store.games.values} hidden={activeCategory !== 'Игры'} />\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveCategory === 'Фильмы' && (\n\t\t\t\t\t\t\t\t<LoadingOverlay active={store.moviesState === 'pending'} spinner text='Ищем фильмы...'>\n\t\t\t\t\t\t\t\t\t<MovieCards movies={store.movies.values} hidden={activeCategory !== 'Фильмы'} />\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveCategory === 'Сериалы' && (\n\t\t\t\t\t\t\t\t<LoadingOverlay active={store.showsState === 'pending'} spinner text='Ищем сериалы...'>\n\t\t\t\t\t\t\t\t\t<ShowCards shows={store.shows.values} hidden={activeCategory !== 'Сериалы'} />\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveCategory === 'Пользователи' && (\n\t\t\t\t\t\t\t\t<LoadingOverlay active={store.usersState === 'pending'} spinner text='Ищем пользователей...'>\n\t\t\t\t\t\t\t\t\t<UserCards users={store.users.values} hidden={activeCategory !== 'Пользователи'} />\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t<div ref={childRef} style={{ height: 20 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</CategoriesTab>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default SearchPage;\n","import SearchPage from \"./SearchPage\";\n\nexport default SearchPage;\n","import { useEffect, useRef } from \"react\";\n\nexport default function useScroll(parentRef, childRef, callback) {\n\tconst observer = useRef();\n\n\tuseEffect(() => {\n\t\tconst options = {\n\t\t\troot: parentRef.current,\n\t\t\trootMargin: \"0px\",\n\t\t\tthreshold: 0,\n\t\t};\n\t\tobserver.current = new IntersectionObserver(([target]) => {\n\t\t\tif (target.isIntersecting) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}, options);\n\n\t\tobserver.current.observe(childRef.current);\n\n\t\treturn function () {\n\t\t\t// eslint-disable-next-line\n\t\t\tobserver.current.unobserve(childRef.current);\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, [callback]);\n}\n","import ConfirmPage from \"./ConfirmPage\";\n\nexport default ConfirmPage;\n","import React, { useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthStore from '../../store/AuthStore';\nimport \"./confirm-page.sass\";\n\n/**\n * Основная страница приложения\n */\nconst ConfirmPage = observer((props) => {\n\tconst { confirmEmail, confirmEmailState } = AuthStore;\n\tlet history = useHistory();\n\n\tlet search = window.location.search;\n\tlet params = new URLSearchParams(search);\n\tlet uid64 = params.get(\"uid64\");\n\tlet token = params.get(\"token\");\n\n\tuseEffect(\n\t\t() => {\n\t\t\tconfirmEmail(uid64, token);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (confirmEmailState.startsWith(\"error\")) history.push(`/404page`);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[confirmEmailState]\n\t);\n\n\treturn (\n\t\t<div className='confirm-page'>\n\t\t\t<h2 hidden={confirmEmailState !== \"done\"} className='confirm-page__success'>\n\t\t\t\tВаша почта подтверждена!\n\t\t\t</h2>\n\t\t</div>\n\t);\n});\n\nexport default ConfirmPage;\n","import ConfirmPasswordPage from \"./ConfirmPasswordPage\";\n\nexport default ConfirmPasswordPage;\n","import React, {useState} from 'react';\nimport { observer } from 'mobx-react';\nimport AuthStore from '../../store/AuthStore';\nimport './confirm-password-page.sass';\n\n/**\n * Основная страница приложения\n */\nconst ConfirmPasswordPage = observer((props) => {\n\tconst { confirmPassword, confirmPasswordState } = AuthStore;\n\n\tconst [password, setPassword] = useState('');\n\tconst [passwordConfirm, setPasswordConfirm] = useState('');\n\n\tlet search = window.location.search;\n\tlet params = new URLSearchParams(search);\n\tlet token = params.get(\"token\");\n\n\treturn (\n\t\t<div className='confirm-password-page'>\n\t\t\t<div className='confirm-password-page__body'>\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconfirmPassword(token, password.value);\n\t\t\t\t\t}}>\n\t\t\t\t\t<h4 className='confirm-password-page__header'>Обновить пароль</h4>\n\t\t\t\t\t<p className='note note-danger confirm-password-page__fail' hidden={!confirmPasswordState.startsWith(\"error:\")}>\n\t\t\t\t\t\t{confirmPasswordState}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className='note note-success confirm-password-page__success' hidden={confirmPasswordState !== \"done\"}>\n\t\t\t\t\t\tПароль обновлен!\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<label htmlFor='passwordInput'>\n\t\t\t\t\t\tНовый пароль\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tid='passwordInput'\n\t\t\t\t\t\tclassName='confirm-password-page__input'\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={setPassword}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor='passwordConfirmInput'>\n\t\t\t\t\t\tПодтверждение пароля\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tid='passwordConfirmInput'\n\t\t\t\t\t\tclassName='confirm-password-page__input'\n\t\t\t\t\t\tvalue={passwordConfirm}\n\t\t\t\t\t\tonChange={setPasswordConfirm}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName='confirm-password-page__button'\n\t\t\t\t\t\tdisabled={(password.value !== passwordConfirm.value) | (password.value.length < 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\tОбновить\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default ConfirmPasswordPage;\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as userRequests from '../services/userRequests';\nimport AuthStore from './AuthStore';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface IUser {\n\t[key: string]: any,\n}\n\nclass User {\n\tuser: IUser = {};\n\tuserLogs: any = {};\n\tuserFriendsLogs: any = { log: [] };\n\tuserState: IPendingState = 'done';\n\tuserLogsState: IPendingState = 'done';\n\tuserFriendsLogsState: IPendingState = 'done';\n\tsetUserStatusState: IPendingState = 'done';\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\tget isCurrentUser() {\n\t\treturn AuthStore.loggedIn && +this.user.id === +(AuthStore.user.id || 0);\n\t}\n\n\trequestUser = async (username: string) => {\n\t\tthis.userState = 'pending';\n\t\tuserRequests.getUserInfo(username).then(this.requestUserSuccess, this.requestUserFailure);\n\t};\n\trequestUserSuccess = (result: IUser) => {\n\t\tthis.user = result;\n\t\tthis.userState = 'done';\n\t};\n\trequestUserFailure = (error: string) => {\n\t\tthis.userState = 'error: ' + error;\n\t};\n\n\trequestUserLogs = async (userID: number, page: number, resultsOnPage: number, query: string, filters: any) => {\n\t\tthis.userLogsState = 'pending';\n\t\tuserRequests.getUserLog(userID, page, resultsOnPage, query, filters).then(this.requestLogsSuccess, this.requestLogsFailure);\n\t};\n\trequestLogsSuccess = (result: any) => {\n\t\tthis.userLogs = result;\n\t\tthis.userLogsState = 'done';\n\t};\n\trequestLogsFailure = (error: any) => {\n\t\tif (error.response.status === 403) this.userLogsState = 'forbidden';\n\t\telse this.userLogsState = 'error: ' + error;\n\t};\n\tdeleteUserLog = async (logType: any, logID: any) => {\n\t\tthis.userLogsState = 'pending';\n\t\tuserRequests.deleteUserLog(this.user.id, logType, logID).then(() => this.deleteUserLogSuccess(logType, logID), this.deleteUserLogFailure);\n\t};\n\tdeleteUserLogSuccess = (logType: any, logID: any) => {\n\t\tlet newLogs = this.userLogs.log.filter((log: any) => {\n\t\t\treturn !(log.id === logID && log.type === logType);\n\t\t});\n\t\tthis.userLogs = { ...this.userLogs, log: newLogs };\n\t\tthis.userLogsState = 'done';\n\t};\n\tdeleteUserLogFailure = (error: any) => {\n\t\tif (error.response.status === 403) this.userLogsState = 'forbidden';\n\t\telse this.userLogsState = 'error: ' + error;\n\t};\n\n\trequestUserFriendsLogs = async (userID: number, page: number, resultsOnPage: number, query: string, filters: any) => {\n\t\tthis.userFriendsLogsState = 'pending';\n\t\tuserRequests.getUserFriendsLog(page, resultsOnPage, query, filters).then(this.requestFriendsLogsSuccess, this.requestFriendsLogsFailure);\n\t};\n\trequestFriendsLogsSuccess = (result: any) => {\n\t\tthis.userFriendsLogs = result;\n\t\tthis.userFriendsLogsState = 'done';\n\t};\n\trequestFriendsLogsFailure = (error: string) => {\n\t\tthis.userFriendsLogsState = 'error: ' + error;\n\t};\n\n\tsetUserStatus = async (is_following: boolean, userID: number | string) => {\n\t\tthis.setUserStatusState = 'pending';\n\t\tuserRequests.setUserStatus(is_following, userID).then(this.setUserStatusSuccess, this.setUserStatusFailure);\n\t};\n\tsetUserStatusSuccess = (result: any) => {\n\t\tthis.user.is_followed = result.is_following;\n\t\tthis.setUserStatusState = 'done';\n\t};\n\tsetUserStatusFailure = (error: string) => {\n\t\tthis.setUserStatusState = 'error: ' + error;\n\t};\n}\n\nconst UserStore = new User();\n//export default remotedev(UserStore, { name: 'User' });\nexport default UserStore;\n","import React from \"react\";\nimport Select from \"react-select\";\nimport \"./select-multi.sass\";\n\nfunction SelectMulti({ placeholder, options, onChange, hidden }) {\n\tif (hidden) return \"\";\n\telse return <Select className='react-select-container' classNamePrefix={\"multiselect\"} isMulti={true} placeholder={placeholder} onChange={onChange} options={options} hidden={hidden} />;\n}\n\nexport default SelectMulti;\n","import SelectMulti from \"./SelectMulti\";\n\nexport default SelectMulti;\n","import React from \"react\";\nimport { FaStar, FaClock } from \"react-icons/fa\";\nimport Image from '../../../../../shared/Image';\nimport \"./item-row.sass\";\n\nfunction ItemRow({ data, fields }) {\n\treturn (\n\t\t<div className='item-row'>\n\t\t\t<div className='item-row__review' style={{ display: data.review ? \"block\" : \"none\" }}>\n\t\t\t\tОтзыв\n\t\t\t\t<div className='item-row__review-body'>{data.review}</div>\n\t\t\t</div>\n\t\t\t<div className='item-row__body'>\n\t\t\t\t<div className='item-row__body-left'>\n\t\t\t\t\t<Image className='item-row__poster' src={data.poster} />\n\t\t\t\t\t<div className='item-row__name'>\n\t\t\t\t\t\t<a href={data.link}> {data.name} </a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='item-row__body-right'>\n\t\t\t\t\t<div className='item-row__status-block'>\n\t\t\t\t\t\tстатус\n\t\t\t\t\t\t<div className='item-row__status'>{data.status}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='item-row__score'>\n\t\t\t\t\t\t<div>{data.score}/10</div>\n\t\t\t\t\t\t<FaStar className='item-row__score-icon' />\n\t\t\t\t\t</div>\n\t\t\t\t\t{fields.find((field) => field.key === \"spent_time\") === undefined ? (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='item-row__time'>\n\t\t\t\t\t\t\t<div>{data.spent_time}</div>\n\t\t\t\t\t\t\t<FaClock className='item-row__time-icon' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ItemRow;\n","import { useState, useEffect } from \"react\";\n\nfunction getWindowDimensions() {\n\tconst { innerWidth: width, innerHeight: height } = window;\n\treturn {\n\t\twidth,\n\t\theight,\n\t};\n}\n\nexport default function useWindowDimensions() {\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n\tuseEffect(() => {\n\t\tfunction handleResize() {\n\t\t\tsetWindowDimensions(getWindowDimensions());\n\t\t}\n\n\t\twindow.addEventListener(\"resize\", handleResize);\n\t\treturn () => window.removeEventListener(\"resize\", handleResize);\n\t}, []);\n\n\treturn windowDimensions;\n}","import React, { useEffect, useState } from \"react\";\nimport { CSVLink } from \"react-csv\";\nimport { FaAngleDown, FaAngleUp, FaStar, FaClock, FaArrowsAltV } from \"react-icons/fa\";\nimport Pagination from \"rc-pagination\";\n\nimport InputNumber from '../../../../../shared/InputNumber';\nimport SelectMulti from '../../../../../shared/SelectMulti';\nimport ItemRow from \"../ItemRow/ItemRow\";\nimport useWindowDimensions from '../../../../../hooks/useWindowDimensions';\n\nimport \"./item-block.sass\";\n\nfunction ItemBlock({ items, statuses, fields, name }) {\n\tconst [query, setQuery] = useState(\"\");\n\tconst [pageSize, setPageSize] = useState(10);\n\tconst [page, setPage] = useState(1);\n\tconst [filteredItems, setFilteredItems] = useState([]);\n\tconst [sort, setSort] = useState({});\n\tconst [statusFilters, setStatusFilters] = useState([]);\n\tconst [collapse, setCollapse] = useState(true);\n\tconst { width } = useWindowDimensions();\n\n\tconst toggleCollapse = () => {\n\t\tsetCollapse(!collapse);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetFilteredItems(\n\t\t\t\titems\n\t\t\t\t\t?.filter((item) => item.name.toLowerCase().includes(query.toLowerCase()) && (statusFilters.includes(item.status) || statusFilters.length < 1))\n\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\tlet field1, field2;\n\t\t\t\t\t\tif (sort.type === \"number\") {\n\t\t\t\t\t\t\tfield1 = parseFloat(a[sort.field]);\n\t\t\t\t\t\t\tfield2 = parseFloat(b[sort.field]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfield1 = a[sort.field];\n\t\t\t\t\t\t\tfield2 = b[sort.field];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (field1 > field2) return sort.isAsc ? 1 : -1;\n\t\t\t\t\t\tif (field1 < field2) return sort.isAsc ? -1 : 1;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[items, query, statusFilters, sort]\n\t);\n\n\treturn (\n\t\t<div className='item-block'>\n\t\t\t<div className='item-block__header'>\n\t\t\t\t<div className='item-block__header-left'>\n\t\t\t\t\t<div className='item-block__header-first-row'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Поиск'\n\t\t\t\t\t\t\taria-label='Поиск'\n\t\t\t\t\t\t\tclassName='item-block__search-input'\n\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tsetQuery(event.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button className='item-block__mobile-expand' onClick={toggleCollapse}>\n\t\t\t\t\t\t\t{collapse ? <FaAngleDown /> : <FaAngleUp />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='item-block__sort-buttons' hidden={collapse && width <= 515}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='item-block__sort-button'\n\t\t\t\t\t\t\thidden={fields.find((field) => field.key === \"score\") === undefined}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSort({ field: \"score\", type: \"number\", isAsc: !sort.isAsc });\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<FaStar /> <FaArrowsAltV />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='item-block__sort-button'\n\t\t\t\t\t\t\thidden={fields.find((field) => field.key === \"spent_time\") === undefined}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSort({ field: \"spent_time\", type: \"number\", isAsc: !sort.isAsc });\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<FaClock /> <FaArrowsAltV />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SelectMulti\n\t\t\t\t\t\thidden={collapse && width <= 515}\n\t\t\t\t\t\tplaceholder={\"Cтатус\"}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetStatusFilters(e.map((obj) => obj.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={statuses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='item-block__header-right' hidden={collapse && width <= 515}>\n\t\t\t\t\t<label className='item-block__label'>Записей на странице</label>\n\t\t\t\t\t<InputNumber value={pageSize} max={100} min={1} onChange={(value) => setPageSize(value)} dataList={[5, 10, 25, 50, 100]} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='item-block__rows'>\n\t\t\t\t{filteredItems?.slice((page - 1) * pageSize, page * pageSize).map((item, counter) => (\n\t\t\t\t\t<ItemRow data={item} fields={fields} key={counter} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className='item-block__footer'>\n\t\t\t\t<Pagination\n\t\t\t\t\ttotal={filteredItems?.length}\n\t\t\t\t\tpageSize={pageSize}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetPage(e);\n\t\t\t\t\t}}\n\t\t\t\t\tcurrent={page}\n\t\t\t\t/>\n\t\t\t\t<CSVLink data={items ? items : []} headers={fields} separator={\";\"} filename={`interests ${name}.csv`}>\n\t\t\t\t\tСкачать CSV\n\t\t\t\t</CSVLink>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ItemBlock;\n","import ItemBlock from \"./ItemBlock\";\n\nexport default ItemBlock;\n","import React from \"react\";\nimport ItemBlock from \"./ItemBlock\";\n\nfunction GameBlock({ games }) {\n\treturn (\n\t\t<ItemBlock\n\t\t\titems={games?.map((game) => {\n\t\t\t\treturn {\n\t\t\t\t\tlink: window.location.origin + \"/game/\" + game.game.rawg_slug,\n\t\t\t\t\tname: game.game.rawg_name,\n\t\t\t\t\tstatus: game.status,\n\t\t\t\t\tscore: game.score,\n\t\t\t\t\treview: game.review,\n\t\t\t\t\tspent_time: parseFloat(game.spent_time),\n\t\t\t\t\tposter: game.game.rawg_backdrop_path,\n\t\t\t\t};\n\t\t\t})}\n\t\t\tstatuses={[\n\t\t\t\t{ value: \"Буду играть\", label: \"Буду играть\" },\n\t\t\t\t{ value: \"Играю\", label: \"Играю\" },\n\t\t\t\t{ value: \"Дропнул\", label: \"Дропнул\" },\n\t\t\t\t{ value: \"Прошел\", label: \"Прошел\" },\n\t\t\t]}\n\t\t\tfields={[\n\t\t\t\t{ label: \"Ссылка\", key: \"link\" },\n\t\t\t\t{ label: \"Название\", key: \"name\" },\n\t\t\t\t{ label: \"Статус\", key: \"status\" },\n\t\t\t\t{ label: \"Оценка\", key: \"score\" },\n\t\t\t\t{ label: \"Отзыв\", key: \"review\" },\n\t\t\t\t{ label: \"Время прохождения\", key: \"spent_time\" },\n\t\t\t\t{ label: \"Картинка\", key: \"poster\" },\n\t\t\t]}\n\t\t\tname={\"Игры\"}\n\t\t/>\n\t);\n}\n\nexport default GameBlock;\n","import React from \"react\";\nimport ItemBlock from \"./ItemBlock\";\n\nfunction MovieBlock({ movies }) {\n\treturn (\n\t\t<ItemBlock\n\t\t\titems={movies?.map((movie) => {\n\t\t\t\treturn {\n\t\t\t\t\tlink: window.location.origin + \"/movie/\" + movie.movie.tmdb_id,\n\t\t\t\t\tname: movie.movie.tmdb_name,\n\t\t\t\t\tstatus: movie.status,\n\t\t\t\t\tscore: movie.score,\n\t\t\t\t\treview: movie.review,\n\t\t\t\t\tposter: movie.movie.tmdb_backdrop_path,\n\t\t\t\t};\n\t\t\t})}\n\t\t\tstatuses={[\n\t\t\t\t{ value: \"Буду смотреть\", label: \"Буду смотреть\" },\n\t\t\t\t{ value: \"Дропнул\", label: \"Дропнул\" },\n\t\t\t\t{ value: \"Посмотрел\", label: \"Посмотрел\" },\n\t\t\t]}\n\t\t\tfields={[\n\t\t\t\t{ label: \"Ссылка\", key: \"link\" },\n\t\t\t\t{ label: \"Название\", key: \"name\" },\n\t\t\t\t{ label: \"Статус\", key: \"status\" },\n\t\t\t\t{ label: \"Оценка\", key: \"score\" },\n\t\t\t\t{ label: \"Отзыв\", key: \"review\" },\n\t\t\t\t{ label: \"Картинка\", key: \"poster\" },\n\t\t\t]}\n\t\t\tname={\"Фильмы\"}\n\t\t/>\n\t);\n}\n\nexport default MovieBlock;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classnames from \"classnames\";\n\nimport Rating from '../../../../../shared/Rating';\n\nimport \"./log-row.sass\";\n\nfunction LogRow({ log, showUsername, onDeleteLog, className }) {\n\tlet history = useHistory();\n\n\tfunction translateActionType(action, actionResult, logType) {\n\t\tswitch (action) {\n\t\t\tcase \"score\":\n\t\t\t\tswitch (actionResult) {\n\t\t\t\t\tcase \"0\":\n\t\t\t\t\t\tif (logType !== 'episode') {\n\t\t\t\t\t\t\treturn 'оценил(а)';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"посмотрел(а)\";\n\t\t\t\t\tcase \"-1\":\n\t\t\t\t\t\treturn \"не смотрела(а)\";\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn \"оценил(а)\";\n\t\t\t\t}\n\t\t\tcase \"status\":\n\t\t\t\treturn \"изменил(а) статус\";\n\t\t\tcase \"review\":\n\t\t\t\treturn \"оставил(а) отзыв на\";\n\t\t\tcase \"spent_time\":\n\t\t\t\treturn \"изменил(а) время прохождения\";\n\t\t\tcase \"episodes\":\n\t\t\t\tif (actionResult > 0) return \"посмотрел(а) \" + actionResult + \" серий\";\n\t\t\t\telse return \"не смотрел(а) \" + actionResult * -1 + \" серий\";\n\t\t\tcase \"is_following\":\n\t\t\t\tif (actionResult === \"True\") return \"подписан(а) на\";\n\t\t\t\telse return \"отписан(а) от\";\n\t\t\tdefault:\n\t\t\t\treturn action;\n\t\t}\n\t}\n\n\tfunction translateType(type, actionType) {\n\t\tswitch (type) {\n\t\t\tcase \"game\":\n\t\t\t\tif (actionType === \"score\" || actionType === \"review\") return \"игру\";\n\t\t\t\telse return \"игры\";\n\t\t\tcase \"movie\":\n\t\t\t\tif (actionType === \"score\" || actionType === \"review\") return \"фильм\";\n\t\t\t\telse return \"фильма\";\n\t\t\tcase \"show\":\n\t\t\t\tif (actionType === \"score\" || actionType === \"review\") return \"сериал\";\n\t\t\t\telse return \"сериала\";\n\t\t\tcase \"season\":\n\t\t\t\treturn \"\";\n\t\t\tcase \"episode\":\n\t\t\t\treturn \"\";\n\t\t\tcase \"user\":\n\t\t\t\treturn \"пользователя\";\n\t\t\tdefault:\n\t\t\t\treturn type;\n\t\t}\n\t}\n\n\tfunction nameToLink(name, type, id) {\n\t\tswitch (type) {\n\t\t\tcase \"game\":\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={window.location.origin + \"/game/\" + id}\n\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/game/\" + id);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\tcase \"movie\":\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={window.location.origin + \"/movie/\" + id}\n\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/movie/\" + id);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\tcase \"show\":\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={window.location.origin + \"/show/\" + id}\n\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/show/\" + id);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\tcase \"season\":\n\t\t\t\treturn (\n\t\t\t\t\t<div style={{ display: \"inline-block\" }}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + id.show_id + \"/season/\" + id.season_number}\n\t\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/show/\" + id.show_id + \"/season/\" + id.season_number);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{name.name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t&thinsp;сериала&thinsp;\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + id.show_id}\n\t\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/show/\" + id.show_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{name.parent_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"episode\":\n\t\t\t\treturn (\n\t\t\t\t\t<div style={{ display: \"inline-block\" }}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + id.show_id + \"/season/\" + id.season_number + \"/episode/\" + id.episode_number}\n\t\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/show/\" + id.show_id + \"/season/\" + id.season_number + \"/episode/\" + id.episode_number);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t[s{id.season_number}e{id.episode_number}] серию\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t&thinsp;сериала&thinsp;\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + id.show_id}\n\t\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/show/\" + id.show_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{name.parent_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"user\":\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={window.location.origin + \"/user/\" + id}\n\t\t\t\t\t\tclassName='log-row__link'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/user/\" + id);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn name;\n\t\t}\n\t}\n\n\tfunction userToLink(username, userID) {\n\t\treturn (\n\t\t\t<a\n\t\t\t\thref={window.location.origin + \"/user/\" + userID}\n\t\t\t\tclassName='log-row__link'\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\thistory.push(\"/user/\" + userID);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t{username}\n\t\t\t</a>\n\t\t);\n\t}\n\n\tfunction actionResultToStr(actionType, actionResult, target) {\n\t\tswitch (actionType) {\n\t\t\tcase \"score\":\n\t\t\t\tif ((target !== \"episode\") | (actionResult > 0)) return <Rating initialRating={actionResult} readonly={true} />;\n\t\t\t\telse return \"\";\n\t\t\tcase \"status\":\n\t\t\t\treturn '\"' + actionResult + '\"';\n\t\t\tcase \"review\":\n\t\t\t\treturn '\"' + actionResult + '\"';\n\t\t\tcase \"spent_time\":\n\t\t\t\treturn actionResult + \" \" + intToHours(actionResult);\n\t\t\tcase \"episodes\":\n\t\t\t\treturn \"\";\n\t\t\tcase \"is_following\":\n\t\t\t\treturn \"\";\n\t\t\tdefault:\n\t\t\t\treturn actionResult;\n\t\t}\n\t}\n\n\tfunction parseDate(date) {\n\t\tlet newDate = new Date(date);\n\t\tlet options = { hour: \"numeric\", minute: \"numeric\" };\n\t\treturn newDate.toLocaleTimeString(\"ru-RU\", options);\n\t}\n\n\treturn (\n\t\t<div className={classnames(\"log-row\", className)}>\n\t\t\t{parseDate(log.created)}&thinsp;\n\t\t\t{showUsername ? userToLink(log.user, log.user_id) : \"\"}&thinsp;\n\t\t\t{translateActionType(log.action_type, log.action_result, log.type)}&thinsp;\n\t\t\t{translateType(log.type, log.action_type)}&thinsp;\n\t\t\t{nameToLink(log.target, log.type, log.target_id)}\n\t\t\t{(log.type === \"user\") | (log.action_type === \"episodes\") | (log.action_result === \"0\") | (log.action_result === \"-1\") ? \"\" : \":\"}&thinsp;\n\t\t\t{actionResultToStr(log.action_type, log.action_result, log.type)}\n\t\t\t<button\n\t\t\t\tclassName={classnames(\"log-row__delete-button\", showUsername ? \"log-row__delete-button_hidden\" : \"\")}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tonDeleteLog(log.type, log.id);\n\t\t\t\t}}>\n\t\t\t\tx\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nfunction intToHours(number) {\n\tif (11 <= number && number <= 14) return \"часов\";\n\telse if (number % 10 === 1) return \"час\";\n\telse if (2 <= number % 10 && number % 10 <= 4) return \"часа\";\n\telse return \"часов\";\n}\n\nexport default LogRow;\n","import React, { useEffect, useState } from \"react\";\nimport LogRow from \"../LogRow/LogRow\";\nimport \"./logs-by-day.sass\";\n\nfunction UserLogs({ logs, showUsername, currentUser, onDeleteLog }) {\n\tconst [logsByDay, setLogsByDay] = useState([]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLogsByDay(groupLogsByDay(logs.log));\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[logs]\n\t);\n\n\tfunction groupLogsByDay(logs) {\n\t\tlet newLogs = [];\n\n\t\tfor (const i in logs) {\n\t\t\tlet date = new Date(logs[i].created);\n\n\t\t\tif (newLogs.length === 0) {\n\t\t\t\tnewLogs.push({\n\t\t\t\t\tdate: date,\n\t\t\t\t\tlogs: [logs[i]],\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tdate.getDate() === newLogs[newLogs.length - 1].date.getDate()\n\t\t\t\t\t&& date.getMonth() === newLogs[newLogs.length - 1].date.getMonth()\n\t\t\t\t\t&& date.getFullYear() === newLogs[newLogs.length - 1].date.getFullYear()\n\t\t\t\t) {\n\t\t\t\t\tnewLogs[newLogs.length - 1].logs.push(logs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tnewLogs.push({\n\t\t\t\t\t\tdate: date,\n\t\t\t\t\t\tlogs: [logs[i]],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn newLogs;\n\t}\n\n\treturn (\n\t\t<div className='logs-by-day'>\n\t\t\t{logsByDay.map((dayLog, counter) => (\n\t\t\t\t<div key={counter} className='logs-by-day__day'>\n\t\t\t\t\t<div className='logs-by-day__date'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdayLog.date.toLocaleDateString(\"ru-RU\", {\n\t\t\t\t\t\t\t\tyear: dayLog.date.getFullYear() === new Date().getFullYear()\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: \"numeric\",\n\t\t\t\t\t\t\t\tmonth: \"numeric\",\n\t\t\t\t\t\t\t\tday: \"numeric\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='logs-by-day__logs'>\n\t\t\t\t\t\t{dayLog.logs.map((log) => (\n\t\t\t\t\t\t\t<LogRow\n\t\t\t\t\t\t\t\tlog={log}\n\t\t\t\t\t\t\t\tshowUsername={showUsername}\n\t\t\t\t\t\t\t\tkey={log.id + log.created}\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\n\t\t\t\t\t\t\t\tonDeleteLog={onDeleteLog}\n\t\t\t\t\t\t\t\tclassName='logs-by-day__log'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default UserLogs;\n","import React, { useEffect, useState } from \"react\";\nimport Pagination from \"rc-pagination\";\nimport { FaAngleDown, FaAngleUp } from \"react-icons/fa\";\n\nimport SelectMulti from '../../../../shared/SelectMulti';\nimport InputNumber from '../../../../shared/InputNumber';\nimport LogsByDay from \"./LogsByDay/LogsByDay\";\nimport useWindowDimensions from '../../../../hooks/useWindowDimensions';\n\nimport \"./user-logs.sass\";\n\nfunction UserLogs({ userID, logs, showUsername, requestUserLogs, currentUser, onDeleteLog, logsType }) {\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pageSize, setPageSize] = useState(15);\n\tconst [query, setQuery] = useState(\"\");\n\tconst [filters, setFilters] = useState([]);\n\tconst [collapse, setCollapse] = useState(true);\n\tconst { width } = useWindowDimensions();\n\n\tconst toggleCollapse = () => {\n\t\tsetCollapse(!collapse);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (logsType === \"user\" || (logsType === \"userFriends\" && currentUser)) requestUserLogs(userID, currentPage, pageSize, query, filters);\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[userID, currentPage, currentUser, logsType, pageSize, filters]\n\t);\n\n\treturn (\n\t\t<div className='user-logs'>\n\t\t\t<div className='user-logs__header'>\n\t\t\t\t<div className='user-logs__header-left'>\n\t\t\t\t\t<div className='user-logs__header-first-row'>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\trequestUserLogs(userID, currentPage, pageSize, query, filters);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tplaceholder='Поиск'\n\t\t\t\t\t\t\t\taria-label='Поиск'\n\t\t\t\t\t\t\t\tclassName='user-logs__search-input'\n\t\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tsetQuery(event.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='user-logs__mobile-expand'\n\t\t\t\t\t\t\tonClick={toggleCollapse}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{collapse\n\t\t\t\t\t\t\t\t? <FaAngleDown />\n\t\t\t\t\t\t\t\t: <FaAngleUp />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<SelectMulti\n\t\t\t\t\t\tplaceholder={\"Тип логов\"}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetFilters(e.map((obj) => obj.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ value: \"game\", label: \"Игры\" },\n\t\t\t\t\t\t\t{ value: \"movie\", label: \"Фильмы\" },\n\t\t\t\t\t\t\t{ value: \"show\", label: \"Сериал\" },\n\t\t\t\t\t\t\t{ value: \"user\", label: \"Пользователи\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\thidden={collapse && width < 748}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='user-logs__page-size' hidden={collapse && width < 748}>\n\t\t\t\t\t<label className='user-logs__page-size-label'>\n\t\t\t\t\t\tЗаписей на странице\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputNumber\n\t\t\t\t\t\tvalue={pageSize}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tonChange={(value) => setPageSize(value)}\n\t\t\t\t\t\tdataList={[5, 10, 25, 50, 100]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<LogsByDay\n\t\t\t\tlogs={logs}\n\t\t\t\tshowUsername={showUsername}\n\t\t\t\tcurrentUser={currentUser}\n\t\t\t\tonDeleteLog={onDeleteLog}\n\t\t\t/>\n\t\t\t<Pagination\n\t\t\t\ttotal={logs.count}\n\t\t\t\tpageSize={pageSize}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tsetCurrentPage(e);\n\t\t\t\t}}\n\t\t\t\tcurrent={currentPage}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default UserLogs;\n","import UserLogs from \"./UserLogs\";\n\nexport default UserLogs;\n","import React from \"react\";\nimport ItemBlock from \"./ItemBlock\";\n\nfunction ShowBlock({ shows }) {\n\treturn (\n\t\t<ItemBlock\n\t\t\titems={shows?.map((show) => {\n\t\t\t\treturn {\n\t\t\t\t\tlink: window.location.origin + \"/show/\" + show.show.tmdb_id,\n\t\t\t\t\tname: show.show.tmdb_name,\n\t\t\t\t\tstatus: show.status,\n\t\t\t\t\tscore: show.score,\n\t\t\t\t\treview: show.review,\n\t\t\t\t\tposter: show.show.tmdb_backdrop_path,\n\t\t\t\t\tspent_time: show.spent_time,\n\t\t\t\t};\n\t\t\t})}\n\t\t\tstatuses={[\n\t\t\t\t{ value: \"Буду смотреть\", label: \"Буду смотреть\" },\n\t\t\t\t{ value: \"Смотрю\", label: \"Смотрю\" },\n\t\t\t\t{ value: \"Дропнул\", label: \"Дропнул\" },\n\t\t\t\t{ value: \"Посмотрел\", label: \"Посмотрел\" },\n\t\t\t]}\n\t\t\tfields={[\n\t\t\t\t{ label: \"Ссылка\", key: \"link\" },\n\t\t\t\t{ label: \"Название\", key: \"name\" },\n\t\t\t\t{ label: \"Статус\", key: \"status\" },\n\t\t\t\t{ label: \"Оценка\", key: \"score\" },\n\t\t\t\t{ label: \"Отзыв\", key: \"review\" },\n\t\t\t\t{ label: \"Время просмотра\", key: \"spent_time\" },\n\t\t\t\t{ label: \"Картинка\", key: \"poster\" },\n\t\t\t]}\n\t\t\tname={\"Сериалы\"}\n\t\t/>\n\t);\n}\n\nexport default ShowBlock;\n","export const COLORS = [\n\t\"rgb(43,206,72)\",\n\t\"rgb(240,163,255)\",\n\t\"rgb(0,117,220)\",\n\t\"rgb(153,63,0)\",\n\t\"rgb(76,0,92)\",\n\t\"rgb(225,225,225)\",\n\t\"rgb(0,92,49)\",\n\t\"rgb(255,204,153)\",\n\t\"rgb(128,128,128)\",\n\t\"rgb(148,255,181)\",\n\t\"rgb(143,124,0)\",\n\t\"rgb(157,204,0)\",\n\t\"rgb(194,0,136)\",\n\t\"rgb(0,51,128)\",\n\t\"rgb(255,164,5)\",\n\t\"rgb(255,168,187)\",\n\t\"rgb(66,102,0)\",\n\t\"rgb(255,0,16)\",\n\t\"rgb(94,241,242)\",\n\t\"rgb(0,153,143)\",\n\t\"rgb(224,255,102)\",\n\t\"rgb(116,10,255)\",\n\t\"rgb(153,0,0)\",\n\t\"rgb(255,255,128)\",\n\t\"rgb(255,255,0)\",\n\t\"rgb(255,80,)\",\n];\n","import React, { useState, useEffect } from \"react\";\nimport { Cell, BarChart, Bar, XAxis, YAxis, Tooltip } from \"recharts\";\nimport { COLORS } from \"../Colors\";\n\nfunction ChartBlock(props) {\n\tconst [chartData, setChartData] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetChartData([]);\n\t\tif (props.chartData && props.chartData?.length > 0) {\n\t\t\tlet newData = props.chartData?.map((value) => ({ name: value.name, Процент: value.spent_time_percent })).sort((a, b) => b.Процент - a.Процент);\n\t\t\tnewData = newData.slice(0, 12);\n\t\t\tsetChartData(newData);\n\t\t}\n\t}, [props.chartData, setChartData]);\n\n\treturn (\n\t\t<div hidden={props.hidden}>\n\t\t\t{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? (\n\t\t\t\t<BarChart width={document.body.clientWidth - 50} height={chartData?.length * 40} data={chartData} margin={{ top: 5, right: 0, left: 45, bottom: 20 }} layout='vertical'>\n\t\t\t\t\t<YAxis dataKey='name' tickLine={false} tick={{ fill: \"rgb(238, 238, 238)\" }} interval={0} tickMargin={0} type='category' />\n\t\t\t\t\t<XAxis domain={[0, \"dataMax\"]} tick={{ fill: \"rgb(238, 238, 238)\" }} type='number' />\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\titemStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }}\n\t\t\t\t\t\tcontentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\", borderRadius: \"10px\" }}\n\t\t\t\t\t\tcursor={false}\n\t\t\t\t\t/>\n\t\t\t\t\t<Bar dataKey='Процент'>\n\t\t\t\t\t\t{chartData.map((entry, index) => (\n\t\t\t\t\t\t\t<Cell fill={COLORS[index]} key={index} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Bar>\n\t\t\t\t</BarChart>\n\t\t\t) : (\n\t\t\t\t<BarChart width={Math.min(chartData?.length * 100, document.body.clientWidth - 50)} height={300} data={chartData} margin={{ top: 5, right: 10, left: 10, bottom: 20 }}>\n\t\t\t\t\t<XAxis dataKey='name' tickLine={false} tick={{ fill: \"rgb(238, 238, 238)\" }} interval={0} angle={-10} tickMargin={15} />\n\t\t\t\t\t<YAxis domain={[0, \"dataMax\"]} tick={{ fill: \"rgb(238, 238, 238)\" }} />\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\titemStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }}\n\t\t\t\t\t\tcontentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\", borderRadius: \"10px\" }}\n\t\t\t\t\t\tcursor={false}\n\t\t\t\t\t/>\n\t\t\t\t\t<Bar dataKey='Процент'>\n\t\t\t\t\t\t{chartData?.map((entry, index) => (\n\t\t\t\t\t\t\t<Cell fill={COLORS[index]} key={index} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Bar>\n\t\t\t\t</BarChart>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default ChartBlock;\n","import React, { useEffect, useState } from \"react\";\nimport { AreaChart, linearGradient, XAxis, Tooltip, YAxis, Area, ResponsiveContainer } from \"recharts\";\n\nfunction YearsChart(props) {\n\tconst [chartData, setChartData] = useState([]);\n\tconst [maxCount, setMaxCount] = useState(0);\n\n\tuseEffect(() => {\n\t\tsetChartData([]);\n\t\tif (props.chartData && props.chartData?.length > 0) {\n\t\t\tlet newMaxCount = 0;\n\t\t\tlet newData = props.chartData\n\t\t\t\t?.map((value, index, array) => {\n\t\t\t\t\tif (value.count > maxCount) {\n\t\t\t\t\t\tnewMaxCount = value.count;\n\t\t\t\t\t}\n\t\t\t\t\treturn { name: value.year, Количество: value.count };\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.name - b.name);\n\t\t\tsetMaxCount(newMaxCount);\n\t\t\tsetChartData(newData);\n\t\t}\n\t}, [props.chartData, setChartData]);\n\n\treturn (\n\t\t<div hidden={props.hidden}>\n\t\t\t{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? null : (\n\t\t\t\t<ResponsiveContainer width={\"100%\"} height={200}>\n\t\t\t\t\t<AreaChart data={chartData} margin={{ top: 10, right: 20, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t<linearGradient id='colorUv' x1='0' y1='0' x2='0' y2='1'>\n\t\t\t\t\t\t\t\t<stop offset='5%' stopColor='#8884d8' stopOpacity={0.8} />\n\t\t\t\t\t\t\t\t<stop offset='95%' stopColor='#8884d8' stopOpacity={0} />\n\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t<XAxis dataKey='name' tick={{ fill: \"rgb(238, 238, 238)\" }} allowDataOverflow={false} />\n\t\t\t\t\t\t<YAxis tickLine={false} domain={[0, maxCount + 1]} tick={{ fill: \"rgb(238, 238, 238)\" }} tickCount={2} />\n\t\t\t\t\t\t<Tooltip contentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }} />\n\t\t\t\t\t\t<Area type='monotone' dataKey='Количество' stroke='#8884d8' fillOpacity={1} fill='url(#colorUv)' />\n\t\t\t\t\t</AreaChart>\n\t\t\t\t</ResponsiveContainer>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default YearsChart;\n","import React, { useEffect, useState } from \"react\";\nimport { PieChart, Pie, Legend, Cell, Tooltip } from \"recharts\";\nimport { COLORS } from \"../Colors\";\n\nfunction ChartBlock({ stats }) {\n\tconst [chartData, setChartData] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetChartData([]);\n\t\tif (stats?.games) {\n\t\t\tlet newData = [];\n\t\t\tif (stats?.games?.total_spent_time > 0) newData.push({ name: \"Часов в играх\", value: stats?.games?.total_spent_time });\n\t\t\tif (stats?.movies?.total_spent_time > 0) newData.push({ name: \"Часов в фильмах\", value: stats?.movies?.total_spent_time });\n\t\t\tif (stats?.episodes?.total_spent_time > 0) newData.push({ name: \"Часов в сериалах\", value: stats?.episodes?.total_spent_time });\n\t\t\tsetChartData(newData);\n\t\t}\n\t}, [stats]);\n\n\treturn (\n\t\t<div hidden={chartData.length < 1}>\n\t\t\t<PieChart width={350} height={260} hidden={chartData.length < 1}>\n\t\t\t\t<Pie dataKey='value' data={chartData} cx='50%' cy='50%' outerRadius={80} fill='#8884d8' labelLine={true} label minAngle={5}>\n\t\t\t\t\t{chartData.map((entry, index) => (\n\t\t\t\t\t\t<Cell fill={COLORS[index]} key={index} />\n\t\t\t\t\t))}\n\t\t\t\t</Pie>\n\t\t\t\t<Tooltip\n\t\t\t\t\titemStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\" }}\n\t\t\t\t\tcontentStyle={{ color: \"rgb(238, 238, 238)\", backgroundColor: \"rgb(30, 30, 30)\", borderRadius: \"10px\" }}\n\t\t\t\t\tcursor={false}\n\t\t\t\t/>\n\t\t\t\t<Legend verticalAlign='bottom' horizontalAlign='center' />\n\t\t\t</PieChart>\n\t\t</div>\n\t);\n}\n\nexport default ChartBlock;\n","import React from \"react\";\nimport GenresChart from \"./GenresChart/GenresChart\";\nimport YearsChart from \"./YearsChart/YearsChart\";\nimport ChartBlock from \"./ChartBlock/ChartBlock\";\n\nfunction StatisticsBlock({ stats }) {\n\treturn (\n\t\t<div>\n\t\t\t<ChartBlock stats={stats} />\n\t\t\t<div hidden={!stats?.games}>\n\t\t\t\t<h3>Игры</h3>\n\t\t\t\t<p style={{ marginBottom: \"1rem\" }}>\n\t\t\t\t\tИгр сыграно: {stats?.games?.count}, часов наиграно: {stats?.games?.total_spent_time}\n\t\t\t\t</p>\n\t\t\t\t<p>Популярные жанры:</p>\n\t\t\t\t<GenresChart chartData={stats?.games?.genres} hidden={stats?.games?.genres?.length < 1} />\n\t\t\t\t<p>Пройденные игры по году выпуска:</p>\n\t\t\t\t<YearsChart chartData={stats?.games?.years} hidden={stats?.games?.years?.length < 1} />\n\t\t\t</div>\n\t\t\t<div hidden={!stats?.movies}>\n\t\t\t\t<h3>Фильмы</h3>\n\t\t\t\t<p style={{ marginBottom: \"1rem\" }}>\n\t\t\t\t\tФильмов посмотрено: {stats?.movies?.count}, часов просмотра: {stats?.movies?.total_spent_time}\n\t\t\t\t</p>\n\t\t\t\t<p>Популярные жанры:</p>\n\t\t\t\t<GenresChart chartData={stats?.movies?.genres} hidden={stats?.movies?.genres?.length < 1} />\n\t\t\t\t<p>Просмотренные фильмы по году выпуска:</p>\n\t\t\t\t<YearsChart chartData={stats?.movies?.years} hidden={stats?.movies?.years?.length < 1} />\n\t\t\t</div>\n\t\t\t<div hidden={!stats?.episodes}>\n\t\t\t\t<h3>Сериалы</h3>\n\t\t\t\t<p style={{ marginBottom: \"1rem\" }}>\n\t\t\t\t\tСерий сериалов посмотрено: {stats?.episodes?.count}, часов просмотра: {stats?.episodes?.total_spent_time}\n\t\t\t\t</p>\n\t\t\t\t<GenresChart chartData={stats?.episodes?.genres} hidden={stats?.episodes?.genres?.length < 1} />\n\t\t\t\t<p>Просмотренные сериалы по году выпуска:</p>\n\t\t\t\t<YearsChart chartData={stats?.episodes?.years} hidden={stats?.episodes?.years?.length < 1} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default StatisticsBlock;\n","import StatisticsBlock from \"./StatisticsBlock\";\n\nexport default StatisticsBlock;\n","import UserPage from \"./UserPage\";\n\nexport default UserPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { FaLock } from \"react-icons/fa\";\nimport { useQueryParam, StringParam, withDefault } from \"use-query-params\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\nimport AuthStore from '../../store/AuthStore';\nimport UserStore from '../../store/UserStore';\nimport GameBlock from './views/ItemsBlock/GameBlock';\nimport FriendBlock from '../../shared/FriendBlock';\nimport MovieBlock from './views/ItemsBlock/MovieBlock';\nimport UserLogs from './views/UserLogs';\nimport CategoriesTab from '../../shared/CategoriesTab';\nimport ShowBlock from './views/ItemsBlock/ShowBlock';\nimport StatisticsBlock from './views/StatisticsBlock';\n\nimport \"./user-page.sass\";\n\n/**\n * Основная страница приложения\n */\nconst UserPage = observer((props) => {\n\tconst { currentUser } = AuthStore;\n\tconst { user, userState, requestUser, setUserStatus, requestUserLogs, userLogs, userLogsState, requestUserFriendsLogs, userFriendsLogs, userFriendsLogsState, deleteUserLog, isCurrentUser } =\n\t\tUserStore;\n\n\tlet { userID } = useParams();\n\tconst [activeCategory, setActiveCategory] = useQueryParam(\"сategory\", withDefault(StringParam, \"Лента\"));\n\tconst [lastActivity, setLastActivity] = useState(\"\");\n\n\tuseEffect(\n\t\t() => {\n\t\t\trequestUser(userID);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[userID, requestUser]\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title = user.username ? \"Профиль \" + user.username : 'Interests';\n\t\tif (user.last_activity) {\n\t\t\tlet date = new Date(user.last_activity);\n\t\t\tlet options = { year: date.getFullYear() === new Date().getFullYear() ? undefined : \"numeric\", month: \"long\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\" };\n\t\t\tsetLastActivity(date.toLocaleString(\"ru-RU\", options));\n\t\t} else setLastActivity(\"\");\n\t}, [user]);\n\n\treturn (\n\t\t<div className='user-page'>\n\t\t\t<LoadingOverlay active={userState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t<div className='user-page__body'>\n\t\t\t\t\t<div className='user-page__header'>\n\t\t\t\t\t\t<div className='user-page__user-card'>\n\t\t\t\t\t\t\t<div className='user-page__user-avatar' style={{ backgroundImage: `url(${\"https://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png\"})` }} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className='user-page__username'>{user.username}</h2>\n\t\t\t\t\t\t\t\t<div hidden={!user.is_available} className='user-page__last-activity'>\n\t\t\t\t\t\t\t\t\tПоследняя активность {lastActivity}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\thidden={isCurrentUser || !user.is_available}\n\t\t\t\t\t\t\tclassName='user-page__subscribe-button'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetUserStatus({ is_following: user.is_followed ? false : true }, user.id);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{user.is_followed ? \"Отписаться\" : \"Подписаться\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<CategoriesTab categories={[\"Лента\", \"Игры\", \"Фильмы\", \"Сериалы\", \"Статистика\", \"Друзья\"]} activeCategory={activeCategory} onChangeCategory={setActiveCategory}>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Лента\"}>\n\t\t\t\t\t\t\t<div hidden={!user.is_available}>\n\t\t\t\t\t\t\t\t<LoadingOverlay active={userLogsState === \"pending\" && userState !== \"pending\"} spinner text='Загрузка активности...'>\n\t\t\t\t\t\t\t\t\t<UserLogs\n\t\t\t\t\t\t\t\t\t\tuserID={userID}\n\t\t\t\t\t\t\t\t\t\tlogs={userLogs}\n\t\t\t\t\t\t\t\t\t\trequestUserLogs={requestUserLogs}\n\t\t\t\t\t\t\t\t\t\tcurrentUser={isCurrentUser}\n\t\t\t\t\t\t\t\t\t\tonDeleteLog={deleteUserLog}\n\t\t\t\t\t\t\t\t\t\tlogsType={\"user\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h4 hidden={user.is_available || userState === \"pending\"}>\n\t\t\t\t\t\t\t\t<FaLock style={{ marginRight: \"1rem\" }} />\n\t\t\t\t\t\t\t\tПрофиль скрыт настройками приватности\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Игры\"}>\n\t\t\t\t\t\t\t<GameBlock games={user.games} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Фильмы\"}>\n\t\t\t\t\t\t\t<MovieBlock movies={user.movies} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Сериалы\"}>\n\t\t\t\t\t\t\t<ShowBlock shows={user.shows} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Статистика\"}>\n\t\t\t\t\t\t\t<StatisticsBlock stats={user.stats} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div hidden={activeCategory !== \"Друзья\"}>\n\t\t\t\t\t\t\t<FriendBlock users={user.followed_users ? user.followed_users : []} />\n\t\t\t\t\t\t\t<div hidden={currentUser.username !== user.username}>\n\t\t\t\t\t\t\t\t<h4 className='user-page__friends-header'>Активность друзей: </h4>\n\t\t\t\t\t\t\t\t<LoadingOverlay active={userFriendsLogsState === \"pending\" && userState !== \"pending\"} spinner text='Загрузка активности...'>\n\t\t\t\t\t\t\t\t\t<UserLogs userID={userID} logs={userFriendsLogs} requestUserLogs={requestUserFriendsLogs} currentUser={isCurrentUser} showUsername={true} logsType={\"userFriends\"} />\n\t\t\t\t\t\t\t\t</LoadingOverlay>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CategoriesTab>\n\t\t\t\t</div>\n\t\t\t</LoadingOverlay>\n\t\t</div>\n\t);\n});\n\nexport default UserPage;\n","import { makeAutoObservable } from 'mobx';\n//import remotedev from 'mobx-remotedev';\nimport * as userRequests from '../services/userRequests';\nimport * as showRequests from '../services/showRequests';\n\ntype IPendingState = 'done' | 'pending' | string;\n\nexport interface ICalendar {\n\t[key: string]: any,\n}\n\nexport interface ISettings {\n\t[key: string]: any,\n}\n\nexport interface ICurrentUser {\n\tcalendar: ICalendar,\n\tsettings: ISettings,\n\tunwatched: any,\n\tcalendarState: IPendingState,\n\tsettingsState: IPendingState,\n\tunwatchedState: IPendingState,\n\tsaveSettingsState: IPendingState,\n}\n\nclass CurrentUser {\n\tcalendar = {};\n\tsettings = {};\n\tunwatched = [];\n\tcalendarState = 'done';\n\tsettingsState = 'done';\n\tunwatchedState = 'done';\n\tsaveSettingsState = 'done';\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\trequestCalendar = async () => {\n\t\tthis.calendarState = 'pending';\n\t\tuserRequests.getUserCalendar().then(this.requestCalendarSuccess, this.requestCalendarFailure);\n\t};\n\trequestCalendarSuccess = (result: ICalendar) => {\n\t\tthis.calendar = result;\n\t\tthis.calendarState = 'done';\n\t};\n\trequestCalendarFailure = (error: string) => {\n\t\tthis.calendarState = 'error: ' + error;\n\t};\n\n\trequestSettings = async () => {\n\t\tthis.settingsState = 'pending';\n\t\tuserRequests.getUserSettings().then(this.requestSettingsSuccess, this.requestSettingsFailure);\n\t};\n\trequestSettingsSuccess = (result: ISettings) => {\n\t\tthis.settings = result;\n\t\tthis.settingsState = 'done';\n\t};\n\trequestSettingsFailure = (error: string) => {\n\t\tthis.settingsState = 'error: ' + error;\n\t};\n\n\trequestUnwatched = async () => {\n\t\tthis.unwatchedState = 'pending';\n\t\tshowRequests.getUnwatchedEpisodes().then(this.requestUnwatchedSuccess, this.requestUnwatchedFailure);\n\t};\n\trequestUnwatchedSuccess = (result: any) => {\n\t\tthis.unwatched = result;\n\t\tthis.unwatchedState = 'done';\n\t};\n\trequestUnwatchedFailure = (error: string) => {\n\t\tthis.unwatchedState = 'error: ' + error;\n\t};\n\n\tpatchSettings = async (settings: ISettings) => {\n\t\tthis.saveSettingsState = 'pending';\n\t\tuserRequests.patchUserSettings(settings).then(this.patchSettingsSuccess, this.patchSettingsFailure);\n\t};\n\tpatchSettingsReset = () => {\n\t\tthis.saveSettingsState = 'done';\n\t};\n\tpatchSettingsSuccess = (result: ISettings) => {\n\t\tthis.saveSettingsState = 'saved';\n\t\tthis.settings = result;\n\t\tsetTimeout(this.patchSettingsReset, 1000);\n\t};\n\tpatchSettingsFailure = (error: string) => {\n\t\tthis.saveSettingsState = 'error: ' + error;\n\t};\n}\n\nconst CurrentUserStore = new CurrentUser();\n//export default remotedev(CurrentUserStore, { name: 'CurrentUser' });\nexport default CurrentUserStore;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./day-info.sass\";\n\nfunction DayInfo({ day, date }) {\n\tlet history = useHistory();\n\n\treturn (\n\t\t<div className='day-info'>\n\t\t\t<h2 className='day-info__date'>\n\t\t\t\t{date ? date.toLocaleDateString(\"ru-RU\", { year: date.getFullYear() === new Date().getFullYear() ? undefined : \"numeric\", month: \"long\", day: \"numeric\", weekday: \"long\" }) : \"\"}\n\t\t\t</h2>\n\t\t\t<div className='day-info__category' hidden={!(day?.games?.length > 0)}>\n\t\t\t\t<h3 className='day-info__category-header'>Игры</h3>\n\t\t\t\t{day.games?.map((game) => (\n\t\t\t\t\t<div key={game.rawg_id}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='day-info__link'\n\t\t\t\t\t\t\thref={window.location.origin + \"/game/\" + game.rawg_slug}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/game/\" + game.rawg_slug);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{game.rawg_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className='day-info__category' hidden={!(day?.movies?.length > 0)}>\n\t\t\t\t<h3 className='day-info__category-header'>Фильмы</h3>\n\t\t\t\t{day.movies?.map((movie) => (\n\t\t\t\t\t<div key={movie.tmdb_id}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='day-info__link'\n\t\t\t\t\t\t\thref={window.location.origin + \"/movie/\" + movie.tmdb_id}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/movie/\" + movie.tmdb_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{movie.tmdb_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className='day-info__category' hidden={!(day?.episodes?.length > 0)}>\n\t\t\t\t<h3 className='day-info__category-header'>Сериалы</h3>\n\t\t\t\t{day.episodes?.map((episode) => (\n\t\t\t\t\t<div key={episode.tmdb_id}>\n\t\t\t\t\t\t<div style={{ display: \"inline-block\" }}>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName='day-info__link'\n\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + episode.tmdb_show.tmdb_id + \"/season/\" + episode.tmdb_season_number + \"/episode/\" + episode.tmdb_episode_number}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + episode.tmdb_show.tmdb_id + \"/season/\" + episode.tmdb_season_number + \"/episode/\" + episode.tmdb_episode_number);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t[s{episode.tmdb_season_number}e{episode.tmdb_episode_number}] серия\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t&thinsp;сериала&thinsp;\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName='day-info__link'\n\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + episode.tmdb_show.tmdb_id}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + episode.tmdb_show.tmdb_id);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{episode.tmdb_show.tmdb_name}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default DayInfo;\n","import DayInfo from \"./DayInfo\";\n\nexport default DayInfo;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Timeline, TimelineEvent } from \"react-event-timeline\";\nimport { MdVideogameAsset, MdLocalMovies, MdLiveTv, MdApps } from \"react-icons/md\";\n\nfunction ReleasesList({ calendar }) {\n\tlet history = useHistory();\n\n\tconst myStyle = {\n\t\tbackgroundColor: \"#191A1B\",\n\t\tcolor: \"#F1F1FB\",\n\t\tborder: \"none\",\n\t};\n\n\tfunction getContentForDay(day) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{day.games?.map((game) => (\n\t\t\t\t\t<div key={game.rawg_id}>\n\t\t\t\t\t\tИгра{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/game/\" + game.rawg_slug}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/game/\" + game.rawg_slug);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{game.rawg_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{day.movies?.map((movie) => (\n\t\t\t\t\t<div key={movie.tmdb_id}>\n\t\t\t\t\t\tФильм{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.location.origin + \"/movie/\" + movie.tmdb_id}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/movie/\" + movie.tmdb_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{movie.tmdb_name}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{day.episodes?.map((episode) => (\n\t\t\t\t\t<div key={episode.tmdb_id}>\n\t\t\t\t\t\t<div style={{ display: \"inline-block\" }}>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + episode.tmdb_show.tmdb_id + \"/season/\" + episode.tmdb_season_number + \"/episode/\" + episode.tmdb_episode_number}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + episode.tmdb_show.tmdb_id + \"/season/\" + episode.tmdb_season_number + \"/episode/\" + episode.tmdb_episode_number);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t[s{episode.tmdb_season_number}e{episode.tmdb_episode_number}] серия\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t&thinsp;сериала&thinsp;\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + episode.tmdb_show.tmdb_id}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\thistory.push(\"/show/\" + episode.tmdb_show.tmdb_id);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{episode.tmdb_show.tmdb_name}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction getIconForDay(day) {\n\t\tif ((day.games?.length > 0) & !(day.movies?.length > 0) & !(day.episodes?.length > 0)) return <MdVideogameAsset />;\n\t\telse if ((day.movies?.length > 0) & !(day.games?.length > 0) & !(day.episodes?.length > 0)) return <MdLocalMovies />;\n\t\telse if ((day.episodes?.length > 0) & !(day.movies?.length > 0) & !(day.games?.length > 0)) return <MdLiveTv />;\n\t\telse return <MdApps />;\n\t}\n\n\tfunction dateDiff(date) {\n\t\tlet now = new Date();\n\t\tlet time = date.getTime();\n\t\tlet timeNow = now.getTime();\n\t\tlet diff = (time - timeNow) / (24 * 3600 * 1000);\n\t\tif (diff < 1)\n\t\t\tif (now.getUTCDay() === date.getUTCDay()) return 0;\n\t\t\telse return 1;\n\t\treturn parseInt(diff) + 1;\n\t}\n\n\tfunction intToDays(number) {\n\t\tif (11 <= number && number <= 14) return \"дней\";\n\t\telse if (number % 10 === 1) return \"день\";\n\t\telse if (2 <= number % 10 && number % 10 <= 4) return \"дня\";\n\t\telse return \"дней\";\n\t}\n\n\tfunction remainedDays(date) {\n\t\tlet days = dateDiff(date);\n\t\tif (days > 0) return `${days} ${intToDays(days)}`;\n\t\telse return \"сегодня\";\n\t}\n\n\treturn (\n\t\t<Timeline style={myStyle} lineColor='#A6A6AB'>\n\t\t\t{calendar?.map((day) => {\n\t\t\t\tlet date = new Date(day[0]);\n\t\t\t\treturn (\n\t\t\t\t\t<TimelineEvent\n\t\t\t\t\t\ttitle={`${remainedDays(date)}, ${date.toLocaleDateString(\"ru-RU\", {\n\t\t\t\t\t\t\tyear: date.getFullYear() === new Date().getFullYear() ? undefined : \"numeric\",\n\t\t\t\t\t\t\tmonth: \"long\",\n\t\t\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\t\t\tweekday: \"long\",\n\t\t\t\t\t\t})}`}\n\t\t\t\t\t\tkey={day[0]}\n\t\t\t\t\t\tclassName='timelineEvent'\n\t\t\t\t\t\ticon={getIconForDay(day[1])}\n\t\t\t\t\t\tcardHeaderStyle={myStyle}\n\t\t\t\t\t\ticonStyle={{ ...myStyle, fontSize: \"1.2rem\" }}\n\t\t\t\t\t\tbubbleStyle={myStyle}\n\t\t\t\t\t\tcontentStyle={{ ...myStyle, fontSize: \"1.1rem\", marginTop: \"0.2rem\", marginBottom: \"0.2rem\" }}\n\t\t\t\t\t\ttitleStyle={{ ...myStyle, fontSize: \"1.1rem\" }}\n\t\t\t\t\t\tsubtitleStyle={myStyle}>\n\t\t\t\t\t\t{getContentForDay(day[1])}\n\t\t\t\t\t</TimelineEvent>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Timeline>\n\t);\n}\n\nexport default ReleasesList;\n","import ReleasesList from \"./ReleasesList\";\n\nexport default ReleasesList;\n","import React, { useState, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport { toast } from \"react-toastify\";\nimport Calendar from \"react-calendar\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\nimport CurrentUserStore from '../../store/CurrentUserStore';\nimport AuthStore from '../../store/AuthStore';\nimport DayInfo from \"./views/DayInfo\";\nimport ReleasesList from \"./views/ReleasesList\";\n\nimport \"react-calendar/dist/Calendar.css\";\nimport styles from \"./calendar-page.module.sass\";\nimport \"./react-calendar.sass\";\n\nconst CalendarPage = observer(() => {\n\tconst { loggedIn } = AuthStore;\n\tconst { calendar, calendarState, requestCalendar } = CurrentUserStore;\n\n\tconst [value, onChange] = useState(new Date());\n\tconst [currentDay, setCurrentDay] = useState({});\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\trequestCalendar();\n\t\t}\n\t}, [loggedIn, requestCalendar]);\n\n\tuseEffect(() => {\n\t\tif (calendarState.startsWith(\"error:\")) toast.error(`Ошибка загрузки! ${calendarState}`);\n\t}, [calendarState]);\n\n\tuseEffect(() => {\n\t\tif (calendar) {\n\t\t\tif (formatDate(value) in calendar) setCurrentDay(calendar[formatDate(value)]);\n\t\t\telse setCurrentDay({});\n\t\t}\n\t}, [value, calendar]);\n\n\tfunction dateToTile({ date, view }) {\n\t\tif (view === \"month\" && formatDate(date) in calendar) {\n\t\t\tlet day = calendar[formatDate(date)];\n\t\t\treturn (\n\t\t\t\t<div className={styles.calendarDay}>\n\t\t\t\t\t<div className={styles.calendarDayBody}>\n\t\t\t\t\t\t<div className={classnames(styles.calendarDayGames, !day?.games?.length > 0 ? styles.calendarDayHidden : \"\")}>{day?.games?.length}</div>\n\t\t\t\t\t\t<div className={classnames(styles.calendarDayMovies, !day?.movies?.length > 0 ? styles.calendarDayHidden : \"\")}>{day?.movies?.length}</div>\n\t\t\t\t\t\t<div className={classnames(styles.calendarDayEpisodes, !day?.episodes?.length > 0 ? styles.calendarDayHidden : \"\")}>{day?.episodes?.length}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={styles.calendarPage}>\n\t\t\t<div>\n\t\t\t\t<h1 className={styles.pageHeader}>Календарь релизов</h1>\n\t\t\t\t<LoadingOverlay active={calendarState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? <DayInfo day={currentDay} date={value} /> : \"\"}\n\t\t\t\t\t<Calendar onChange={onChange} value={value} defaultView='month' minDetail='decade' locale='ru-RU' minDate={new Date()} tileContent={dateToTile} />\n\t\t\t\t\t{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? \"\" : <DayInfo day={currentDay} date={value} />}\n\t\t\t\t\t<ReleasesList calendar={Object.entries(calendar)} />\n\t\t\t\t</LoadingOverlay>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default CalendarPage;\n\nfunction pad(number) {\n\tif (number < 10) {\n\t\treturn \"0\" + number;\n\t}\n\treturn number;\n}\nfunction formatDate(date) {\n\treturn date.getFullYear() + \"-\" + pad(date.getMonth() + 1) + \"-\" + pad(date.getDate());\n}\n","import CalendarPage from \"./CalendarPage\";\nexport default CalendarPage;\n","import SettingsPage from \"./SettingsPage\";\n\nexport default SettingsPage;\n","import React, { useState, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { toast } from \"react-toastify\";\n\nimport AuthStore from '../../store/AuthStore';\nimport CurrentUserStore from '../../store/CurrentUserStore';\n\nimport \"./settings-page.sass\";\n\nconst SettingsPage = observer((props) => {\n\tconst { loggedIn, user } = AuthStore;\n\tconst { settings, requestSettings, patchSettings, settingsState, saveSettingsState } = CurrentUserStore;\n\n\tconst [gameNotifInput, setGameNotifInput] = useState(false);\n\tconst [movieNotifInput, setMovieNotifInput] = useState(false);\n\tconst [showNotifInput, setShowNotifInput] = useState(false);\n\tconst [privacySelect, setPrivacySelect] = useState(\"Все\");\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestSettings();\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn]\n\t);\n\n\tuseEffect(() => {\n\t\tif (saveSettingsState === \"saved\") toast.success(\"Настройки сохранены!\");\n\t\tif (saveSettingsState.startsWith(\"error:\")) toast.error(`Ошибка сохранения! ${saveSettingsState}`);\n\t}, [saveSettingsState]);\n\tuseEffect(() => {\n\t\tif (settingsState.startsWith(\"error:\")) toast.error(`Ошибка загрузки! ${settingsState}`);\n\t}, [settingsState]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (settings.receive_games_releases) setGameNotifInput(settings.receive_games_releases);\n\t\t\tif (settings.receive_movies_releases) setMovieNotifInput(settings.receive_movies_releases);\n\t\t\tif (settings.receive_episodes_releases) setShowNotifInput(settings.receive_episodes_releases);\n\t\t\tif (settings.privacy) setPrivacySelect(settings.privacy);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[settings]\n\t);\n\n\treturn (\n\t\t<div className='settings-page'>\n\t\t\t<div className='settings-page__body'>\n\t\t\t\t<h1 className='settings-page__header'>Настройки</h1>\n\n\t\t\t\t<LoadingOverlay\n\t\t\t\t\tactive={settingsState === \"pending\"\n\t\t\t\t\t\t|| saveSettingsState === \"pending\"\n\t\t\t\t\t}\n\t\t\t\t\tspinner\n\t\t\t\t\ttext='Загрузка...'\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='settings-page__subheader'>\n\t\t\t\t\t\t\tПодписка на почтовые уведомления:\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='settings-page__settings-row'\n\t\t\t\t\t\t\tonClick={() => setGameNotifInput(!gameNotifInput)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\tclassName='settings-page__settings-checkbox'\n\t\t\t\t\t\t\t\tchecked={gameNotifInput}\n\t\t\t\t\t\t\t\tonChange={(event) => setGameNotifInput(event.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\" релиз новых игр\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='settings-page__settings-row'\n\t\t\t\t\t\t\tonClick={() => setMovieNotifInput(!movieNotifInput)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\tclassName='settings-page__settings-checkbox'\n\t\t\t\t\t\t\t\tchecked={movieNotifInput}\n\t\t\t\t\t\t\t\tonChange={(event) => setMovieNotifInput(event.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\" релиз новых фильмов\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='settings-page__settings-row'\n\t\t\t\t\t\t\tonClick={() => setShowNotifInput(!showNotifInput)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\tclassName='settings-page__settings-checkbox'\n\t\t\t\t\t\t\t\tchecked={showNotifInput}\n\t\t\t\t\t\t\t\tonChange={(event) => setShowNotifInput(event.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\" релиз новых серий сериалов\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className='settings-page__settings-row'>\n\t\t\t\t\t\t\t<label htmlFor='privacySelect'>Кто может видеть мой профиль:</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid='privacySelect'\n\t\t\t\t\t\t\t\tname='privacySelect'\n\t\t\t\t\t\t\t\tclassName='settings-page__settings-select'\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tsetPrivacySelect(event.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={privacySelect}>\n\t\t\t\t\t\t\t\t<option value='Все'>Все</option>\n\t\t\t\t\t\t\t\t<option value='Никто'>Никто</option>\n\t\t\t\t\t\t\t\t<option value='Друзья'>Мои подписки</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='settings-page__settings-row' hidden={!(settings.privacy !== privacySelect && privacySelect === \"Никто\")}>\n\t\t\t\t\t\t\tВнимание! Полное закрытие профиля удалит вас из подписок других пользователей!\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='settings-page__save-button'\n\t\t\t\t\t\tdisabled={!loggedIn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tpatchSettings({ receive_games_releases: gameNotifInput, receive_movies_releases: movieNotifInput, receive_episodes_releases: showNotifInput, privacy: privacySelect });\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tСохранить\n\t\t\t\t\t</button>\n\t\t\t\t</LoadingOverlay>\n\t\t\t\t<p>Ваша почта {user.email}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default SettingsPage;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Rating from '../../../../shared/Rating';\nimport \"./episode-row.sass\";\n\nfunction DetailedEpisodeRow({ episode, showID, seasonNumber, setShowEpisodeUserStatus, loggedIn }) {\n\tlet history = useHistory();\n\n\tfunction parseDate(date) {\n\t\tlet newDate = new Date(date);\n\t\treturn newDate.toLocaleDateString(\"ru-RU\");\n\t}\n\n\treturn (\n\t\t<div className='episode-row'>\n\t\t\t<p className='episode-row__date'>{parseDate(episode.tmdb_release_date)}</p>\n\t\t\t<div hidden={!loggedIn} className='episode-row__rate'>\n\t\t\t\t<Rating\n\t\t\t\t\twithEye={true}\n\t\t\t\t\treadonly={!loggedIn}\n\t\t\t\t\tinitialRating={-1}\n\t\t\t\t\tonChange={(score) => {\n\t\t\t\t\t\tsetShowEpisodeUserStatus(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tepisodes: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttmdb_id: episode.tmdb_id,\n\t\t\t\t\t\t\t\t\t\tscore: score,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tshowID\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<a\n\t\t\t\tclassName='episode-row__name'\n\t\t\t\thref={window.location.origin + \"/show/\" + showID + \"/season/\" + seasonNumber + \"/episode/\" + episode.tmdb_episode_number}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\thistory.push(\"/show/\" + showID + \"/season/\" + seasonNumber + \"/episode/\" + episode.tmdb_episode_number);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\ttitle={episode.tmdb_name}>\n\t\t\t\tСерия {episode.tmdb_episode_number} - {episode.tmdb_name}\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n\nexport default DetailedEpisodeRow;\n","import EpisodeRow from \"./EpisodeRow\";\n\nexport default EpisodeRow;\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classnames from \"classnames\";\n\nimport EpisodeRow from \"../EpisodeRow\";\n\nimport \"./show-block.sass\";\n\nfunction ShowBlock({ loggedIn, show, setShowEpisodeUserStatus, className }) {\n\tlet history = useHistory();\n\n\tuseEffect(\n\t\t() => {},\n\t\t// eslint-disable-next-line\n\t\t[show]\n\t);\n\n\tfunction getUserSeasonOpen(showID, seasonNumber) {\n\t\tlet localData = localStorage.getItem(`${showID}_${seasonNumber}`);\n\t\treturn localData ? localData === \"true\" : true;\n\t}\n\n\tfunction setUserSeasonOpen(showID, seasonNumber, isOpen) {\n\t\tlocalStorage.setItem(`${showID}_${seasonNumber}`, isOpen);\n\t}\n\n\treturn (\n\t\t<div className={classnames(\"show-block\", className)}>\n\t\t\t<a\n\t\t\t\thref={window.location.origin + \"/show/\" + show.tmdb_id}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\thistory.push(\"/show/\" + show.tmdb_id);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t<h4 className='show-block__name'>{show?.tmdb_name}</h4>\n\t\t\t</a>\n\n\t\t\t{show?.seasons.map((season, counter) => {\n\t\t\t\treturn (\n\t\t\t\t\t<details\n\t\t\t\t\t\topen={getUserSeasonOpen(show.tmdb_id, season.tmdb_season_number)}\n\t\t\t\t\t\tclassName='show-block__season'\n\t\t\t\t\t\tkey={counter}\n\t\t\t\t\t\tonToggle={(e) => setUserSeasonOpen(show.tmdb_id, season.tmdb_season_number, e.target.open)}>\n\t\t\t\t\t\t<summary>{season.tmdb_name}</summary>\n\t\t\t\t\t\t<ul class='show-block__season-ul'>\n\t\t\t\t\t\t\t{season.episodes.map((episode, counter) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className='show-block__episode' key={counter}>\n\t\t\t\t\t\t\t\t\t\t<EpisodeRow episode={episode} showID={show.tmdb_id} seasonNumber={season.tmdb_season_number} setShowEpisodeUserStatus={setShowEpisodeUserStatus} loggedIn={loggedIn} />\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</details>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n\nexport default ShowBlock;\n","import ShowBlock from \"./ShowBlock\";\n\nexport default ShowBlock;\n","import UnwatchedPage from \"./UnwatchedPage\";\n\nexport default UnwatchedPage;\n","import React, { useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { toast } from \"react-toastify\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\nimport AuthStore from '../../store/AuthStore';\nimport CurrentUserStore from '../../store/CurrentUserStore';\nimport ShowStore from '../../store/ShowStore';\nimport ShowBlock from './views/ShowBlock';\n\nimport \"./unwatched-page.sass\";\n\nconst UnwatchedPage = observer((props) => {\n\tconst { loggedIn } = AuthStore;\n\tconst { unwatched, requestUnwatched, unwatchedState } = CurrentUserStore;\n\tconst { setEpisodesStatus } = ShowStore;\n\n\tuseEffect(() => {\n\t\tif (unwatchedState.startsWith(\"error:\")) toast.error(`Ошибка загрузки! ${unwatchedState}`);\n\t}, [unwatchedState]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (loggedIn) requestUnwatched();\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[loggedIn]\n\t);\n\n\treturn (\n\t\t<div className='unwatched-page'>\n\t\t\t<div className='unwatched-page__body'>\n\t\t\t\t<h1 className='unwatched-page__header'>Непросмотренные серии</h1>\n\t\t\t\t<LoadingOverlay active={unwatchedState === \"pending\"} spinner text='Загрузка...'>\n\t\t\t\t\t{unwatched.map((show) => (\n\t\t\t\t\t\t<ShowBlock show={show} setShowEpisodeUserStatus={setEpisodesStatus} loggedIn={loggedIn} key={show.id} className='unwatched-page__show-block' />\n\t\t\t\t\t))}\n\t\t\t\t</LoadingOverlay>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default UnwatchedPage;\n","export default __webpack_public_path__ + \"static/media/wrongPage.58faeb13.png\";","import React, { useEffect, useState } from \"react\";\nimport image from \"./wrongPage.png\";\nimport \"./not-found-page.sass\";\n/**\n * Основная страница приложения\n */\nfunction NotFoundPage() {\n\tconst [angle, setAngle] = useState(0);\n\n\tuseEffect(\n\t\t() => {\n\t\t\twindow.requestAnimationFrame(() => setAngle(angle + 1));\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[angle]\n\t);\n\n\treturn (\n\t\t<div className='not-found-page'>\n\t\t\t<div className='not-found-page__body'>\n\t\t\t\t<h1>Страница не найдена!</h1>\n\t\t\t\t<div style={{ transform: `rotate(${angle}deg)` }}>\n\t\t\t\t\t<img src={image} alt='Картинка' className='not-found-page__image' />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default NotFoundPage;\n","import NotFoundPage from \"./NotFoundPage\";\n\nexport default NotFoundPage;\n","import * as React from 'react';\nimport { block } from 'bem-cn';\nimport './Button.scss';\nimport {compact} from 'lodash';\n\ninterface IButtonProps extends React.DetailedHTMLProps<\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HTMLButtonElement\n    > {\n    label?: string,\n}\n\nfunction Button(props: IButtonProps) {\n    const bem = block('Button');\n\n    return (\n        <button\n            className={compact([bem(), props.className]).join(' ')}\n            {...props}\n        >\n            {props.label}\n        </button>\n    );\n}\n\nexport default Button;\n","import Button from './Button';\n\nexport default Button;\n","import * as React from 'react';\nimport {block} from 'bem-cn';\nimport {compact} from 'lodash';\nimport './RandomCard.scss';\nimport {useHistory} from 'react-router-dom';\n\ninterface IRandomCardProps {\n    className?: string,\n    winner: any,\n}\n\nfunction RandomCard(props: IRandomCardProps) {\n    const bem = block('RandomCard');\n    const history = useHistory();\n    const {winner} = props;\n\n    const getLink = (item: any) => {\n        switch (item.type) {\n            case 'game':\n                return `/game/${item.rawg_slug}`;\n            case 'movie':\n                return `/movie/${item.tmdb_id}`;\n            case 'show':\n                return `/show/${item.tmdb_id}`;\n        }\n    }\n\n    return (\n        <div className={compact([bem(), props.className]).join(' ')}>\n            <img\n                src={winner?.tmdb_poster_path || winner?.rawg_poster_path}\n                className={bem('poster')}\n                alt='poster'\n            />\n            <div>\n                <a\n                    href={window.location.origin + getLink(winner)}\n                    onClick={(e) => {\n                        history.push(getLink(winner));\n                        e.preventDefault();\n                    }}\n                    className={bem('link')}\n                >\n                    {winner.tmdb_name || winner.rawg_name}\n                </a>\n            </div>\n        </div>\n    );\n}\n\nexport default RandomCard;\n","import RandomCard from './RandomCard';\n\nexport default RandomCard;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport { observer } from \"mobx-react\";\nimport { block } from 'bem-cn';\nimport { useForm } from 'react-hook-form';\nimport { toast } from \"react-toastify\";\nimport Fade from 'react-reveal/Fade';\n\nimport AuthStore from '../../store/AuthStore';\nimport \"./RandomPage.sass\";\nimport {getRoulette} from '../../services/userRequests';\nimport Button from '../../shared/Button';\nimport RandomCard from './views/RandomCard';\nimport RandomCardLoader from './views/RandomCardLoader';\nimport Image from '../../shared/Image';\nconst categoriesEnum = [\n    {id: 'games', label: 'Игры'},\n    {id: 'shows', label: 'Сериалы'},\n    {id: 'movies', label: 'Фильмы'},\n]\n\nconst RandomPage = observer(() => {\n    const { loggedIn, user } = AuthStore;\n    const bem = block('RandomPage')\n    const [winner, setWinner] = useState<null | any>(null);\n    const [isLoading, setLoading] = useState(false);\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n    } = useForm();\n\n    const onSubmit = useCallback((values: any) => {\n        if (loggedIn) {\n            setWinner(null);\n            setLoading(true);\n            getRoulette(values)\n                .then(newItems => {\n                    setWinner(newItems[0]);\n                })\n                .catch(e => toast.error(`Ошибка сервера ${e.response.data?.error}`));\n        }\n    }, [loggedIn]);\n\n    return (\n        <div className={bem()}>\n            <form\n                onSubmit={handleSubmit(onSubmit)}\n                className={bem('form')}\n            >\n                <h1 className={bem('header')}>\n                    Рандомайзер\n                </h1>\n                <div>\n                    <div className={bem('label')}>\n                        Категории\n                    </div>\n                    {\n                        categoriesEnum.map((category: any) => (\n                            <div key={category.id}>\n                                <input\n                                    type='checkbox'\n                                    value={category.id}\n                                    id={category.id}\n                                    {...register('categories')}\n                                />\n                                <label htmlFor={category.id}>\n                                    {category.label}\n                                </label>\n                            </div>\n                        ))\n                    }\n                </div>\n                <div>\n                    <input\n                        id='endedOnly'\n                        type='checkbox'\n                        {...register('endedOnly')}\n                    />\n                    <label htmlFor='endedOnly'>\n                        Только завершенные сериалы\n                    </label>\n                </div>\n                <Button\n                    type='submit'\n                    label='Крутануть'\n                />\n            </form>\n            {winner?.tmdb_poster_path\n                ? (\n                    <Image src={winner?.tmdb_poster_path}\n                           onLoad={() => setLoading(false)}\n                           style={{width: 0, height: 0}} />\n                ) : (\n                    <img\n                        src={winner?.rawg_poster_path}\n                        onLoad={() => setLoading(false)}\n                        style={{width: 0, height: 0}}\n                    />\n                )}\n            {\n                winner && (\n                    <Fade right duration={500} distance='50px'>\n                        <RandomCard winner={winner} />\n                    </Fade>\n                )\n            }\n            {/*{*/}\n            {/*    isLoading && (*/}\n            {/*        <RandomCardLoader />*/}\n            {/*    )*/}\n            {/*}*/}\n        </div>\n);\n});\n\nexport default RandomPage;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport HomePage from './routes/HomePage';\nimport GamePage from './routes/GamePage';\nimport MoviePage from './routes/MoviePage';\nimport ShowPage from './routes/ShowPage';\nimport SeasonPage from './routes/ShowSeasonPage';\nimport EpisodePage from './routes/ShowEpisodePage';\nimport SearchPage from './routes/SearchPage';\nimport ConfirmPage from './routes/ConfirmPage';\nimport ConfirmPasswordPage from './routes/ConfirmPasswordPage';\nimport UserPage from './routes/UserPage';\nimport CalendarPage from './routes/CalendarPage';\nimport SettingsPage from './routes/SettingsPage';\nimport UnwatchedPage from './routes/UnwatchedPage';\nimport NotFoundPage from './routes/NotFoundPage';\nimport RandomPage from './routes/RandomPage/RandomPage';\n\nclass Routes extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route exact path='/' component={HomePage} />\n\t\t\t\t<Route exact path='/game/:id' component={GamePage} />\n\t\t\t\t<Route exact path='/movie/:id' component={MoviePage} />\n\t\t\t\t<Route exact path='/show/:id' component={ShowPage} />\n\t\t\t\t<Route exact path='/show/:show_id/season/:number' component={SeasonPage} />\n\t\t\t\t<Route exact path='/show/:show_id/season/:season_number/episode/:episode_number' component={EpisodePage} />\n\t\t\t\t<Route exact path='/search/:query' component={SearchPage} />\n\t\t\t\t<Route exact path='/confirm/' component={ConfirmPage} />\n\t\t\t\t<Route exact path='/confirm_password/' component={ConfirmPasswordPage} />\n\t\t\t\t<Route exact path='/user/:userID' component={UserPage} />\n\t\t\t\t<Route exact path='/calendar' component={CalendarPage} />\n\t\t\t\t<Route exact path='/settings' component={SettingsPage} />\n\t\t\t\t<Route exact path='/unwatched' component={UnwatchedPage} />\n\t\t\t\t<Route exact path='/random' component={RandomPage} />\n\t\t\t\t<Route component={NotFoundPage} />\n\t\t\t</Switch>\n\t\t);\n\t}\n}\n//\nexport default Routes;\n","import SearchInput from \"./SearchInput\";\n\nexport default SearchInput;\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { useHistory } from \"react-router-dom\";\nimport { MdVideogameAsset, MdLocalMovies, MdLiveTv } from \"react-icons/md\";\nimport classnames from \"classnames\";\n\nimport SearchStore from '../../../../../store/SearchStore';\n\nimport \"./search-input.sass\";\nimport Image from \"../../../../Image\";\n\nconst SearchInput = observer(({ onSubmit, className }) => {\n\tconst [query, setQuery] = useState(\"\");\n\tlet history = useHistory();\n\tconst { searchHints, hints } = SearchStore;\n\n\treturn (\n\t\t<form\n\t\t\tonSubmit={(event) => {\n\t\t\t\tonSubmit(event);\n\t\t\t\tsetQuery(\"\");\n\t\t\t}}\n\t\t\tclassName={classnames(\"search-input\", className)}>\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='Поиск'\n\t\t\t\taria-label='Поиск'\n\t\t\t\tclassName='search-input__input'\n\t\t\t\tid='searchInput'\n\t\t\t\tvalue={query}\n\t\t\t\tonChange={(event) => {\n\t\t\t\t\tsetQuery(event.target.value);\n\t\t\t\t\tsearchHints(event.target.value);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div className={classnames(\"search-input__hints\", query === \"\" || !(hints.games.length > 0 || hints.movies.length > 0 || hints.shows.length > 0) ? \"search-input__hints_hidden\" : \"\")}>\n\t\t\t\t<div hidden={!hints.games.length > 0}>\n\t\t\t\t\t<MdVideogameAsset />\n\t\t\t\t\t{hints.games.map((hint, key) => (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\thref={window.location.origin + \"/game/\" + hint.rawg_slug}\n\t\t\t\t\t\t\tclassName='search-input__hint'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/game/\" + hint.rawg_slug);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsetQuery(\"\");\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{<img src={hint.rawg_backdrop_path} alt={\"\"} />}\n\t\t\t\t\t\t\t{hint.rawg_name}\n\t\t\t\t\t\t\t<div>{hint?.rawg_release_date?.substr(0, 4)}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div hidden={!hints.movies.length > 0}>\n\t\t\t\t\t<MdLocalMovies />\n\t\t\t\t\t{hints.movies.map((hint, key) => (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\thref={window.location.origin + \"/movie/\" + hint.tmdb_id}\n\t\t\t\t\t\t\tclassName='search-input__hint'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/movie/\" + hint.tmdb_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsetQuery(\"\");\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{<Image src={hint.tmdb_backdrop_path} alt={\"\"} />}\n\t\t\t\t\t\t\t{hint.tmdb_name}\n\t\t\t\t\t\t\t<div>{hint?.tmdb_release_date?.substr(0, 4)}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div hidden={!hints.shows.length > 0}>\n\t\t\t\t\t<MdLiveTv />\n\t\t\t\t\t{hints.shows.map((hint, key) => (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\thref={window.location.origin + \"/show/\" + hint.tmdb_id}\n\t\t\t\t\t\t\tclassName='search-input__hint'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\thistory.push(\"/show/\" + hint.tmdb_id);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsetQuery(\"\");\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{<Image src={hint.tmdb_backdrop_path} alt={\"\"} />}\n\t\t\t\t\t\t\t{hint.tmdb_name}\n\t\t\t\t\t\t\t<div>{hint?.tmdb_release_date?.substr(0, 4)}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n});\n\nexport default SearchInput;\n","import Navbar from \"./Navbar\";\n\nexport default Navbar;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport classnames from 'classnames';\nimport { FaBars, FaAngleUp, FaAngleDown, FaUserCircle, FaSignInAlt } from 'react-icons/fa';\n\nimport PagesStore from '../../../store/PagesStore';\nimport AuthStore from '../../../store/AuthStore';\nimport useWindowDimensions from '../../../hooks/useWindowDimensions';\nimport SearchInput from './views/SearchInput';\n\nimport './navbar.sass';\n\nconst Navbar = observer((props) => {\n\tconst { toggleSidebar, openLoginForm } = PagesStore;\n\tconst { width } = useWindowDimensions();\n\tconst { loggedIn, user } = AuthStore;\n\n\tlet history = useHistory();\n\n\tconst [collapse, setCollapse] = useState(true);\n\n\tconst toggleCollapse = () => {\n\t\tsetCollapse(!collapse);\n\t};\n\n\tfunction toggleIfSmallScreen() {\n\t\tif (width <= 600) setCollapse(true);\n\t}\n\n\treturn (\n\t\t<div className='navbar'>\n\t\t\t<div className='navbar__left'>\n\t\t\t\t<FaBars onClick={toggleSidebar} className='navbar__sidebar-button' />\n\t\t\t\t<div onClick={() => history.push('/')} className='navbar__logo'>\n\t\t\t\t\tInterests\n\t\t\t\t</div>\n\t\t\t\t<div onClick={toggleCollapse} className='navbar__collapse-button'>\n\t\t\t\t\t{collapse ? <FaAngleDown /> : <FaAngleUp />}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={classnames('navbar__center', collapse && width <= 600 ? 'navbar__center_collapsed' : '')}>\n\t\t\t\t<SearchInput\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\thistory.push('/search/' + document.getElementById('searchInput').value);\n\t\t\t\t\t\ttoggleIfSmallScreen();\n\t\t\t\t\t}}\n\t\t\t\t\tclassName='navbar__search-input'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={classnames('navbar__right', collapse && width <= 600 ? 'navbar__right_collapsed' : '')}>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.push(`/user/${user?.id}`);\n\t\t\t\t\t\ttoggleIfSmallScreen();\n\t\t\t\t\t}}\n\t\t\t\t\tclassName='navbar__user-button'\n\t\t\t\t\thidden={!loggedIn}>\n\t\t\t\t\t<FaUserCircle /> {user?.username}\n\t\t\t\t</div>\n\t\t\t\t<div onClick={openLoginForm} className='navbar__user-button' hidden={loggedIn}>\n\t\t\t\t\t<FaSignInAlt /> Войти\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default Navbar;\n","export default __webpack_public_path__ + \"static/media/tmdb-logo.de1a664e.svg\";","import React from \"react\";\nimport { FaVk, FaDiscord } from \"react-icons/fa\";\nimport classnames from \"classnames\";\nimport \"./footer.sass\";\nimport tmdbLogo from './tmdb-logo.svg';\n\nfunction Footer({ className }) {\n\treturn (\n\t\t<div className={classnames(\"footer\", className)}>\n\t\t\t<div className='footer__body'>\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className='footer__name'>Interests</h2>\n\t\t\t\t\t<p className='footer__email'>info@your-interests.ru</p>\n\t\t\t\t\t<p className='footer__date'>\n\t\t\t\t\t\t{`2020-${(new Date()).getFullYear()}`}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className='footer__social-block'>\n\t\t\t\t\t<p>Следите за нами в социальных сетях, чтобы оставаться в курсе последних событий!</p>\n\t\t\t\t\t<a href='https://vk.com/interests_fun' className='footer__social-link'>\n\t\t\t\t\t\t<FaVk />\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='https://discord.gg/wXkUF5tKee' className='footer__social-link'>\n\t\t\t\t\t\t<FaDiscord />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className='footer__social-block'>\n\t\t\t\t\t<p>Сайт был разработан при поддержке</p>\n\t\t\t\t\t<a href='https://rawg.io/' className='footer__rawg-logo'>\n\t\t\t\t\t\tRAWG\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='https://www.themoviedb.org/'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName='footer__tmdb-logo'\n\t\t\t\t\t\t\tsrc={tmdbLogo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Footer;\n","import Footer from \"./Footer\";\n\nexport default Footer;\n","import Sidebar from \"./Sidebar\";\n\nexport default Sidebar;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport {\n\tFaSignInAlt,\n\tFaUserCircle,\n\tFaUserFriends,\n\tFaCalendar,\n\tFaSignOutAlt,\n\tFaUserPlus,\n\tFaArrowRight,\n\tFaArrowLeft,\n\tFaRandom\n} from 'react-icons/fa';\nimport { MdLiveTv, MdSettings } from 'react-icons/md';\nimport {\n\tProSidebar,\n\tMenu,\n\tMenuItem,\n\t//SubMenu,\n\tSidebarFooter,\n} from 'react-pro-sidebar';\n\nimport AuthStore from '../../../store/AuthStore';\nimport PagesStore from '../../../store/PagesStore';\nimport useWindowDimensions from '../../../hooks/useWindowDimensions';\n\nimport './sidebar.sass';\n//import 'react-pro-sidebar/dist/css/styles.css';\n\n/**\n * Основная страница приложения\n */\nconst Sidebar = observer((props) => {\n\tconst history = useHistory();\n\tconst { width } = useWindowDimensions();\n\n\tconst { loggedIn, user, resetAuthorization } = AuthStore;\n\tconst { sidebarIsCollapsed, sidebarIsToggled, collapseSidebar, toggleSidebar, openLoginForm, openRegistrateForm } = PagesStore;\n\n\tfunction toggleSidebarIfSmallScreen() {\n\t\tif (width < 1780 && width > 1440 && !sidebarIsCollapsed) collapseSidebar();\n\t\tif (width <= 1440) toggleSidebar();\n\t}\n\n\treturn (\n\t\t<ProSidebar className='sidebar' collapsed={sidebarIsCollapsed} hidden={!sidebarIsToggled}>\n\t\t\t<Menu iconShape='round' hidden={!loggedIn}>\n\t\t\t\t<MenuItem icon={<FaUserCircle />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/user/${user?.id}`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/user/${user?.id}`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tПрофиль\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<FaUserFriends />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/user/${user.id}?сategory=Друзья`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/user/${user?.id}?сategory=Друзья`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tДрузья\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\n\t\t\t\t<MenuItem icon={<MdLiveTv />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/unwatched`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/unwatched`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tНепросмотренное\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<FaCalendar />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/calendar`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/calendar`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tКалендарь\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<FaRandom />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/random`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/random`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tРандомайзер\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<MdSettings />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/settings`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thistory.push(`/settings`);\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tНастройки\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<FaSignOutAlt />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tresetAuthorization();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tВыход\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t<Menu iconShape='round' hidden={loggedIn}>\n\t\t\t\t<MenuItem icon={<FaSignInAlt />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\topenLoginForm();\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tВойти\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem icon={<FaUserPlus />}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`/`}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\topenRegistrateForm();\n\t\t\t\t\t\t\ttoggleSidebarIfSmallScreen();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tЗарегистрироваться\n\t\t\t\t\t</a>\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t<SidebarFooter>\n\t\t\t\t<Menu iconShape='round'>\n\t\t\t\t\t<MenuItem icon={sidebarIsCollapsed ? <FaArrowRight /> : <FaArrowLeft />} onClick={collapseSidebar}>\n\t\t\t\t\t\tСвернуть\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</Menu>\n\t\t\t</SidebarFooter>\n\t\t</ProSidebar>\n\t);\n});\n\nexport default Sidebar;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport \"./modal.sass\";\n\ninterface IModalProps {\n\tclassName?: string,\n\tchildren?: any,\n\tisOpen?: boolean,\n\ttoggle?: () => any,\n}\n\nfunction Modal({ className, children, isOpen, toggle }: IModalProps) {\n\treturn (\n\t\t<div className={classnames(\"modal2\", isOpen ? \"modal2_open\" : \"\")}>\n\t\t\t<div className={classnames(\"modal2__backdrop\")} onClick={toggle} />\n\t\t\t<div className={classnames(\"modal2__content\", className)}>{children}</div>\n\t\t</div>\n\t);\n}\n\nexport default Modal;\n","import Modal from \"./Modal\";\n\nexport default Modal;\n","import React, {useEffect, useState} from 'react';\nimport { observer } from 'mobx-react';\n\nimport AuthStore from '../../../store/AuthStore';\nimport PagesStore from '../../../store/PagesStore';\nimport Modal from '../../Modal';\n\nimport './login-form.sass';\n\n/**\n * КОмпонент формы авторизации\n * @param {number} Параметр, при изменении которого компонент открывается\n */\nconst LoginForm = observer(() => {\n\tconst { tryAuth, authState } = AuthStore;\n\tconst { LoginFormIsOpen, closeLoginForm, openResetPasswordForm, openRegistrateForm } = PagesStore;\n\n\tconst [password, setPassword] = useState('');\n\tconst [login, setLogin] = useState('');\n\n\tuseEffect(() => {\n\t\tif (authState === \"done\"){\n\t\t\tcloseLoginForm();\n\t\t}\n\t}, [authState, closeLoginForm]);\n\n\tconst onSubmit = async (event: any) => {\n\t\tevent.preventDefault();\n\t\tawait tryAuth(login, password);\n\t};\n\n\tconst onPasswordRecovery = async () => {\n\t\tawait closeLoginForm();\n\t\tawait openResetPasswordForm();\n\t}\n\n\tconst onRegistration = async () => {\n\t\tawait closeLoginForm();\n\t\tawait openRegistrateForm();\n\t}\n\n\treturn (\n\t\t<Modal isOpen={LoginFormIsOpen} toggle={closeLoginForm} className='login-form'>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<h2 className='login-form__header'>\n\t\t\t\t\tВойти\n\t\t\t\t</h2>\n\t\t\t\t<p\n\t\t\t\t\tclassName='login-form__fail'\n\t\t\t\t\thidden={!authState.startsWith(\"error:\")}\n\t\t\t\t>\n\t\t\t\t\t{authState}\n\t\t\t\t</p>\n\n\t\t\t\t<label\n\t\t\t\t\thtmlFor='loginInput'\n\t\t\t\t\tclassName='grey-text'\n\t\t\t\t>\n\t\t\t\t\tЛогин\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tid='loginInput'\n\t\t\t\t\tclassName='login-form__input'\n\t\t\t\t\tvalue={login}\n\t\t\t\t\tonChange={(e) => setLogin(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<label\n\t\t\t\t\thtmlFor='passwordInput'\n\t\t\t\t\tclassName='grey-text'\n\t\t\t\t>\n\t\t\t\t\tПароль\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='password'\n\t\t\t\t\tid='passwordInput'\n\t\t\t\t\tclassName='login-form__input'\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<div className='text-center mt-4'>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName='login-form__auth-button'\n\t\t\t\t\t>\n\t\t\t\t\t\t{authState !== \"pending\" ? \"Войти\" : \"Загрузка...\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t<label\n\t\t\t\t\t\tclassName='login-form__link-label'\n\t\t\t\t\t\tonClick={onPasswordRecovery}>\n\t\t\t\t\t\tВосстановить пароль\n\t\t\t\t\t</label>\n\t\t\t\t\t<label\n\t\t\t\t\t\tclassName='login-form__link-label'\n\t\t\t\t\t\tonClick={onRegistration}>\n\t\t\t\t\t\tЗарегистрироваться\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n});\n\nexport default LoginForm;\n","import LoginForm from './LoginForm';\n\nexport default LoginForm;\n","import RegisterForm from \"./RegisterForm\";\n\nexport default RegisterForm;\n","import React, {useState} from 'react';\nimport { observer } from 'mobx-react';\nimport classnames from 'classnames';\n\nimport AuthStore from '../../../store/AuthStore';\nimport PagesStore from '../../../store/PagesStore';\nimport Modal from '../../Modal';\n\nimport './register-form.sass';\n\n/**\n * КОмпонент формы авторизации\n * @param {number} Параметр, при изменении которого компонент открывается\n */\nconst RegisterForm = observer(() => {\n\tconst { register, registrateState, user } = AuthStore;\n\tconst { RegistrateFormIsOpen, closeRegistrateForm } = PagesStore;\n\n\tconst [passwordConfirm, setPasswordConfirm] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [login, setLogin] = useState('');\n\n\tconst onRegistration = () => register(login, email, password);\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={RegistrateFormIsOpen}\n\t\t\ttoggle={closeRegistrateForm}\n\t\t\tclassName='register-form'\n\t\t>\n\t\t\t<form>\n\t\t\t\t<p\n\t\t\t\t\tclassName='register-form__fail'\n\t\t\t\t\thidden={!registrateState.startsWith('error:')}\n\t\t\t\t>\n\t\t\t\t\t{registrateState}\n\t\t\t\t</p>\n\t\t\t\t<p\n\t\t\t\t\tclassName='register-form__success'\n\t\t\t\t\thidden={user?.email === ''}\n\t\t\t\t>\n\t\t\t\t\t{user.login}, добро пожаловать! Осталось только подтвердить вашу почту\n\t\t\t\t</p>\n\t\t\t\t<h2 className='register-form__header'>\n\t\t\t\t\tРегистрация\n\t\t\t\t</h2>\n\n\t\t\t\t<label htmlFor='loginInput'>\n\t\t\t\t\tНикнейм\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='register-form__input'\n\t\t\t\t\tvalue={login}\n\t\t\t\t\tonChange={(e) => setLogin(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<label htmlFor='emailInput'>\n\t\t\t\t\tЭлектронная почта\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='email'\n\t\t\t\t\tclassName='register-form__input'\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<label htmlFor='passwordInput'>\n\t\t\t\t\tПароль\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='password'\n\t\t\t\t\tclassName='register-form__input'\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<label htmlFor='passwordConfirmInput'>\n\t\t\t\t\tПодтверждение пароля\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='password'\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'register-form__input',\n\t\t\t\t\t\tpasswordConfirm\n\t\t\t\t\t\t\t? passwordConfirm === password\n\t\t\t\t\t\t\t\t? 'register-form__input_right'\n\t\t\t\t\t\t\t\t: 'register-form__input_wrong'\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t)}\n\t\t\t\t\tvalue={passwordConfirm}\n\t\t\t\t\tonChange={(e) => setPasswordConfirm(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<div className='text-center mt-4'>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tclassName='register-form__auth-button'\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tpassword !== passwordConfirm\n\t\t\t\t\t\t\t\t|| login.length < 1\n\t\t\t\t\t\t\t\t|| email.length < 1\n\t\t\t\t\t\t\t\t|| password.length < 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={onRegistration}\n\t\t\t\t\t>\n\t\t\t\t\t\t{registrateState !== 'pending' ? 'Зарегистрироваться' : 'Загрузка...'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n});\n\nexport default RegisterForm;\n","import React, {useState} from 'react';\nimport { observer } from 'mobx-react';\n\nimport AuthStore from '../../../store/AuthStore';\nimport PagesStore from '../../../store/PagesStore';\nimport Modal from '../../Modal';\n\nimport './reset-password-form.sass';\n\n/**\n * КОмпонент формы сброса пароля\n * @param {number} Параметр, при изменении которого компонент открывается\n */\nconst ResetPasswordForm = observer(() => {\n\tconst { resetPassword, resetPasswordState } = AuthStore;\n\tconst { ResetPasswordFormIsOpen, closeResetPasswordForm } = PagesStore;\n\n\tconst [email, setEmail] = useState('');\n\n\tconst onSubmit = async (event: any) => {\n\t\tevent.preventDefault();\n\t\tawait resetPassword(email);\n\t};\n\n\treturn (\n\t\t<Modal isOpen={ResetPasswordFormIsOpen} toggle={closeResetPasswordForm} className='reset-password-form'>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<h2 className='reset-password-form__header'>\n\t\t\t\t\tСбросить пароль\n\t\t\t\t</h2>\n\t\t\t\t<p\n\t\t\t\t\tclassName='reset-password-form__fail'\n\t\t\t\t\thidden={!resetPasswordState.startsWith('error:')}\n\t\t\t\t>\n\t\t\t\t\t{resetPasswordState}\n\t\t\t\t</p>\n\t\t\t\t<p\n\t\t\t\t\tclassName='reset-password-form__success'\n\t\t\t\t\thidden={resetPasswordState !== 'done'}\n\t\t\t\t>\n\t\t\t\t\tНа вашу почту отправлено письмо\n\t\t\t\t</p>\n\n\t\t\t\t<label htmlFor='emailInput'>\n\t\t\t\t\tПочта\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='reset-password-form__input'\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<button type='submit' className='reset-password-form__button'>\n\t\t\t\t\t{resetPasswordState !== 'pending' ? 'Сбросить' : 'Загрузка...'}\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n});\n\nexport default ResetPasswordForm;\n","import ResetPasswordForm from \"./ResetPasswordForm\";\n\nexport default ResetPasswordForm;\n","import React, { useEffect } from \"react\";\nimport {BrowserRouter} from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport { observer } from 'mobx-react';\nimport { ToastContainer } from 'react-toastify';\nimport Routes from './Routes';\nimport AuthStore from './store/AuthStore';\nimport Navbar from './shared/app/Navbar';\nimport Footer from './shared/app/Footer';\nimport Sidebar from './shared/app/Sidebar';\nimport LoginForm from './shared/Modals/LoginForm';\nimport RegisterForm from './shared/Modals/RegisterForm';\nimport ResetPasswordForm from './shared/Modals/ResetPasswordForm';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './app.sass';\nimport {ReactRouter5Adapter} from 'use-query-params/adapters/react-router-5';\n\nconst App = observer(() => {\n\tconst { checkAuth } = AuthStore;\n\n\tuseEffect(() => {\n\t\tcheckAuth();\n\t}, [checkAuth]);\n\n\treturn (\n\t\t<div className='app'>\n\t\t\t<div className='app__body'>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<QueryParamProvider adapter={ReactRouter5Adapter}>\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t\t<Footer className='app__footer' />\n\t\t\t\t\t</QueryParamProvider>\n\t\t\t\t</BrowserRouter>\n\t\t\t</div>\n\t\t\t<ToastContainer position='top-center' hideProgressBar newestOnTop closeOnClick autoClose={3000} />\n\t\t\t<LoginForm />\n\t\t\t<RegisterForm />\n\t\t\t<ResetPasswordForm />\n\t\t</div>\n\t);\n});\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\");\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { \"Service-Worker\": \"script\" },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\"No internet connection found. App is running in offline mode.\");\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.register();\n"],"sourceRoot":""}