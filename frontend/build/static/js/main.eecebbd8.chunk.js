(this.webpackJsonpinterests=this.webpackJsonpinterests||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},148:function(e,t,n){},195:function(e,t,n){},249:function(e,t,n){},272:function(e,t,n){},302:function(e,t,n){},46:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n(1),a=n.n(s),c=n(22),o=n.n(c),i=(n(246),n(247),n(248),n(249),n(17)),u=n(13),l=n(197),d=n(198),b=n(219),j=n(218),h=n(21),p=n(14),f=(n(125),"SET_USER"),m="SET_AUTH",g="SET_USER_CALENDAR",O="SET_USER_SETTINGS",v="SET_USER_UNWATCHED",x="SET_LOGINFORM",w="SET_REGISTRATEFORM",_="SET_RESET_PASSWORD_FORM",S="SET_CONTENT_GAME",y="SET_CONTENT_GAME_USER_INFO",k="SET_CONTENT_MOVIE",I="SET_CONTENT_MOVIE_USER_INFO",N="SET_CONTENT_SHOW_SEASONS",E="SET_CONTENT_SHOW_SEASONS_USER_INFO",C="SET_CONTENT_SHOW_SEASONS_EPISODE_SCORE",R="SET_CONTENT_SHOW",L="SET_CONTENT_SHOW_USER_INFO",T="SET_SEARCH_CONTENT_GAMES",U="SET_SEARCH_CONTENT_MOVIES",A="SET_SEARCH_CONTENT_SHOWS",B="SET_SEARCH_CONTENT_USERS",D="SET_USER_PAGE_CONTENT",P="SET_USER_PAGE_FOLLOWING",F="SET_USER_PAGE_LOGs",M="SET_USER_PAGE_FRIENDS_LOGS",G="SET_IS_LOADING_CONTENT_GAME",z="SET_IS_LOADING_CONTENT_GAME_USER_INFO",q="SET_IS_LOADING_CONTENT_MOVIE",W="SET_IS_LOADING_CONTENT_MOVIE_USER_INFO",H="SET_IS_LOADING_CONTENT_SHOW",X="SET_IS_LOADING_CONTENT_SHOW_USER_INFO",K="SET_IS_LOADING_CONTENT_SHOW_SEASONS",V="SET_IS_LOADING_SEARCH_GAMES",Y="SET_IS_LOADING_SEARCH_MOVIES",Q="SET_IS_LOADING_SEARCH_SHOWS",J="SET_IS_LOADING_SEARCH_USERS",$="SET_IS_LOADING_USER_PAGE_CONTENT",Z="SET_IS_LOADING_USER_PAGE_LOGS",ee="SET_IS_LOADING_USER_PAGE_FRIENDS_LOGS",te="SET_IS_LOADING_USER_CALENDAR",ne="SET_IS_LOADING_USER_SETTINGS",re="SET_IS_LOADING_USER_UNWATCHED",se="AUTH_ERROR",ae="REGISTRATE_ERROR",ce="GAME_REQUEST_ERROR",oe="MOVIE_REQUEST_ERROR",ie="SHOW_REQUEST_ERROR",ue="USER_PAGE_ERROR",le="RESET_PASSWORD_ERROR",de="CONFIRM_PASSWORD_ERROR",be=n(199),je=Object(be.a)({auth:{loggedIn:!1},user:{username:"",email:"",id:null},content:{game:{main_info:{rawg:{name:"",background_image:"",background_image_additional:"",developers:[{}]},hltb:{game_image_url:""}},user_info:{status:null,review:"",score:0,spent_time:0,friends_info:[]}},movie:{main_info:{tmdb:{title:"",poster_path:"",developers:[{}]}},user_info:{status:null,review:"",score:0,friends_info:[]}},show:{main_info:{tmdb:{title:"",poster_path:"",developers:[{}],episode_run_time:[]}},user_info:{status:null,review:"",score:0,friends_info:[]}},showSeasons:{}},searchContent:{games:[],movies:[],shows:[],users:[]},userPageContent:{user:{stats:{}},userLogs:{log:[]},userFriendsLogs:{log:[]}},userCalendar:{},userSettings:{},userUnwatched:[],openedPages:{LoginForm:!1,RegistrateForm:!1,ResetPasswordForm:!1},errors:{auth:!1,registrate:!1,gameRequest:!1,movieRequest:!1,userPage:!1,resetPassword:!1,confirmPassword:!1},isLoading:{contentGame:!1,contentGameUserInfo:!1,contentMovie:!1,contentMovieUserInfo:!1,contentShow:!1,contentShowUserInfo:!1,contentShowSeasons:{},userPageContent:!1,userPageLogs:!1,userPageFriendsLogs:!1,userCalendar:!1,userSettings:!1,userUnwatched:!1,searchGames:!1,searchMovies:!1,searchShows:!1,searchUsers:!1}});function he(e){return e.get("auth").loggedIn}function pe(e){return e.get("user")}function fe(e){return e.get("userCalendar")}function me(e){return e.get("userSettings")}function ge(e){return e.get("userUnwatched")}function Oe(e){return e.get("content").game.main_info}function ve(e){return e.get("content").game.user_info}function xe(e){return e.get("content").movie.main_info}function we(e){return e.get("content").movie.user_info}function _e(e){return e.get("content").show.main_info}function Se(e){return e.get("content").show.user_info}function ye(e,t){var n;return null===(n=e.get("content").showSeasons[t])||void 0===n?void 0:n.main_info}function ke(e,t){var n;return null===(n=e.get("content").showSeasons[t])||void 0===n?void 0:n.user_info}function Ie(e){return e.get("searchContent").games}function Ne(e){return e.get("searchContent").movies}function Ee(e){return e.get("searchContent").shows}function Ce(e){return e.get("searchContent").users}function Re(e){return e.get("userPageContent").user}function Le(e){return e.get("userPageContent").userLogs}function Te(e){return e.get("userPageContent").userFriendsLogs}function Ue(e){return e.get("errors").auth}function Ae(e){return e.get("errors").registrate}function Be(e){return e.get("errors").gameRequest}function De(e){return e.get("errors").movieRequest}function Pe(e){return e.get("errors").showRequest}function Fe(e){return e.get("errors").resetPassword}function Me(e){return e.get("errors").confirmPassword}function Ge(e){return e.get("openedPages").LoginForm}function ze(e){return e.get("openedPages").RegistrateForm}function qe(e){return e.get("openedPages").ResetPasswordForm}function We(e){return e.get("isLoading").contentGame}function He(e){return e.get("isLoading").contentGameUserInfo}function Xe(e){return e.get("isLoading").contentMovie}function Ke(e){return e.get("isLoading").contentMovieUserInfo}function Ve(e){return e.get("isLoading").contentShow}function Ye(e){return e.get("isLoading").contentShowUserInfo}function Qe(e,t){return e.get("isLoading").contentShowSeasons[t]}function Je(e){return e.get("isLoading").searchGames}function $e(e){return e.get("isLoading").searchMovies}function Ze(e){return e.get("isLoading").searchShows}function et(e){return e.get("isLoading").searchUsers}function tt(e){return e.get("isLoading").userPageContent}function nt(e){return e.get("isLoading").userPageLogs}function rt(e){return e.get("isLoading").userPageFriendsLogs}function st(e){return e.get("isLoading").userCalendar}function at(e){return e.get("isLoading").userSettings}function ct(e){return e.get("isLoading").userUnwatched}var ot=Object(u.b)((function(e){return{user:pe(e)}}),(function(){return{}}))((function(e){var t=e.user;return Object(r.jsxs)("div",{className:"bg",children:[Object(r.jsx)("h2",{style:{marginTop:"70px",marginLeft:"30px"},children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 Interests!"}),Object(r.jsxs)("h4",{style:{marginLeft:"30px"},children:["\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0435\u0449\u0451 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u0430, \u043e\u0434\u043d\u0430\u043a\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"," ",Object(r.jsx)("a",{href:"/search/example",style:{fontWeight:"600"},children:"\u043f\u043e\u0438\u0441\u043a\u043e\u043c"})," ","\u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0432\u043e\u0439"," ",Object(r.jsx)("a",{href:"/user/"+t.id,style:{fontWeight:"600"},children:"\u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),", \u0435\u0441\u043b\u0438 \u0432\u044b \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b"]}),Object(r.jsx)("img",{src:"images/logo192.png",style:{marginLeft:"20px"},alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})]})})),it=n(6),ut=n(5),lt=(n(272),n(15)),dt=n.n(lt),bt=n(23),jt=n(24),ht=n(4),pt=n.n(ht),ft=n(7),mt=n(11),gt=n.n(mt),Ot=n(64),vt=n.n(Ot),xt="http://35.193.124.214:8001/",wt=xt+"users/auth/login/",_t=xt+"users/auth/refresh-token/",St=xt+"users/auth/signup/",yt=xt+"users/auth/confirm_email/",kt=xt+"users/auth/password_reset/",It=xt+"users/auth/confirm_password_reset/",Nt=xt+"users/user/user_settings/",Et=xt+"games/game/",Ct=xt+"games/search/",Rt=xt+"movies/movie/",Lt=xt+"movies/search/",Tt=xt+"shows/show/",Ut=xt+"shows/search/",At=xt+"shows/show/unwatched_episodes/",Bt=xt+"users/user/",Dt=xt+"users/user/release_calendar/",Pt=xt+"users/search/",Ft={headers:{"Content-Type":"application/json;charset=UTF-8"}};function Mt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.post(wt,{username:t,password:n},Ft);case 3:return r=e.sent,s=vt()(r.data.access),a={username:s.username,id:s.user_id,email:s.email},e.abrupt("return",{token:r.data.access,refreshToken:r.data.refresh,user:a});case 9:return e.prev=9,e.t0=e.catch(0),console.log("axios error: "+e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function zt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(ft.a)(pt.a.mark((function e(t){var n,r,s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"!==typeof t&null!=t)){e.next=14;break}return e.prev=1,e.next=4,gt.a.post(_t,{refresh:t},Ft);case 4:return n=e.sent,r=vt()(n.data.access),s={username:r.username,id:r.user_id,email:r.email},e.abrupt("return",{token:n.data.access,user:s});case 10:return e.prev=10,e.t0=e.catch(1),console.log("exios error: "+e.t0),e.abrupt("return",null);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Wt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.post(St,{username:t,email:n,password:r},Ft);case 3:return s=e.sent,(a=s.data).status=s.status,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Xt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(ft.a)(pt.a.mark((function e(t,n){var r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.patch(yt+"?uid64="+t+"&token="+n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Vt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(ft.a)(pt.a.mark((function e(t){var n;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.put(kt,{email:t},Ft);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Qt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(ft.a)(pt.a.mark((function e(t,n){var r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.patch(It+"?reset_token="+t,{password:n},Ft);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0.response),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $t(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,gt.a.get(Bt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Bt+n+"/");case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=Object(ft.a)(pt.a.mark((function e(t){var n;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.get(Pt,{params:{query:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function nn(e,t,n){return rn.apply(this,arguments)}function rn(){return(rn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.put(Bt+r+"/follow/",n,{headers:{Authorization:s}});case 4:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function sn(e,t,n,r){return an.apply(this,arguments)}function an(){return(an=Object(ft.a)(pt.a.mark((function e(t,n,r,s){var a,c,o,i;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return c="Bearer "+t,e.next=5,gt.a.get(Bt+n+"/log/",{params:{page:r,page_size:s}},{headers:{Authorization:c}});case 5:o=e.sent,a=o.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Bt+n+"/log/",{params:{page:r,page_size:s}});case 11:i=e.sent,a=i.data;case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function cn(e,t,n,r){return on.apply(this,arguments)}function on(){return(on=Object(ft.a)(pt.a.mark((function e(t,n,r,s){var a,c,o;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="Bearer "+t,e.next=4,gt.a.get(Bt+n+"/friends_log/",{params:{page:r,page_size:s},headers:{Authorization:c}});case 4:return o=e.sent,a=o.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function un(e){return ln.apply(this,arguments)}function ln(){return(ln=Object(ft.a)(pt.a.mark((function e(t){var n,r,s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="Bearer "+t,e.next=4,gt.a.get(Dt,{headers:{Authorization:r}});case 4:return s=e.sent,n=s.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function dn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(ft.a)(pt.a.mark((function e(t){var n,r,s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="Bearer "+t,e.next=4,gt.a.get(Nt,{headers:{Authorization:r}});case 4:return s=e.sent,n=s.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function jn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.patch(Nt,n,{headers:{Authorization:s}});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function pn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,gt.a.get(Et+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Et+n+"/");case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function mn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.put(Et+n+"/",r,{headers:{Authorization:s}});case 4:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function On(e,t,n){return vn.apply(this,arguments)}function vn(){return(vn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.get(Ct,{params:{query:t,page:n,page_size:r}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function xn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.get(Et+n+"/user_info/",{headers:{Authorization:s}});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function _n(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,gt.a.get(Rt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Rt+n+"/");case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function yn(e,t,n){return kn.apply(this,arguments)}function kn(){return(kn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.put(Rt+n+"/",r,{headers:{Authorization:s}});case 4:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function In(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(ft.a)(pt.a.mark((function e(t,n){var r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.get(Lt,{params:{query:t,page:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function En(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.get(Rt+n+"/user_info/",{headers:{Authorization:s}});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Rn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return s="Bearer "+t,e.next=5,gt.a.get(Tt+n+"/",{headers:{Authorization:s}});case 5:a=e.sent,r=a.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Tt+n+"/");case 11:c=e.sent,r=c.data;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Tn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a,c,o;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return a="Bearer "+t,e.next=5,gt.a.get(Tt+n+"/season/"+r,{headers:{Authorization:a}});case 5:c=e.sent,s=c.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Tt+n+"/season/"+r);case 11:o=e.sent,s=o.data;case 13:return e.abrupt("return",s);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function An(e,t,n,r){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(ft.a)(pt.a.mark((function e(t,n,r,s){var a,c,o,i;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return c="Bearer "+t,e.next=5,gt.a.get(Tt+n+"/season/"+r+"/episode/"+s,{headers:{Authorization:c}});case 5:o=e.sent,a=o.data,e.next=13;break;case 9:return e.next=11,gt.a.get(Tt+n+"/season/"+r+"/episode/"+s);case 11:i=e.sent,a=i.data;case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Dn(e,t,n){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.put(Tt+n+"/",r,{headers:{Authorization:s}});case 4:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Fn(e,t,n,r){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(ft.a)(pt.a.mark((function e(t,n,r,s){var a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,gt.a.put(Tt+n+"/season/"+r+"/",s,{headers:{Authorization:a}});case 4:if(204!==(c=e.sent).status&&200!==c.status&&201!==c.status){e.next=9;break}return e.abrupt("return",c.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Gn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.put(Tt+n+"/episodes/",r,{headers:{Authorization:s}});case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function qn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(ft.a)(pt.a.mark((function e(t,n){var r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.get(Ut,{params:{query:t,page:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Hn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(ft.a)(pt.a.mark((function e(t,n){var r,s,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="Bearer "+t,e.next=4,gt.a.get(Tt+n+"/user_info/",{headers:{Authorization:s}});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Kn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(ft.a)(pt.a.mark((function e(t,n,r){var s,a,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Bearer "+t,e.next=4,gt.a.get(Tt+n+"/season/"+r+"/user_info/",{headers:{Authorization:a}});case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Yn(e,t,n,r){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(ft.a)(pt.a.mark((function e(t,n,r,s){var a,c,o;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="Bearer "+t,e.next=4,gt.a.get(Tt+n+"/season/"+r+"/episode/"+s+"/user_info/",{headers:{Authorization:c}});case 4:return o=e.sent,a=o.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Jn(e){return $n.apply(this,arguments)}function $n(){return($n=Object(ft.a)(pt.a.mark((function e(t){var n,r,s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="Bearer "+t,e.next=4,gt.a.get(At,{headers:{Authorization:r}});case 4:return s=e.sent,n=s.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log("AXIOS ERROR: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Zn(){return function(){var e=Object(ft.a)(pt.a.mark((function e(t){var n,r,s;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===localStorage.getItem("token")|Date.now()-localStorage.getItem("tokenTime")>29e4)){e.next=16;break}return e.next=3,zt(localStorage.getItem("refreshToken"));case 3:if(null===(n=e.sent)){e.next=12;break}return t({type:m,auth:{loggedIn:!0}}),t({type:f,user:n.user}),localStorage.setItem("token",n.token),localStorage.setItem("tokenTime",Date.now()),e.abrupt("return",!0);case 12:return t(er()),e.abrupt("return",!1);case 14:e.next=21;break;case 16:return r=vt()(localStorage.getItem("token")),s={username:r.username,id:r.user_id,email:r.email},t({type:f,user:s}),t({type:m,auth:{loggedIn:!0}}),e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function er(){return function(){var e=Object(ft.a)(pt.a.mark((function e(t){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),localStorage.removeItem("tokenTime"),t({type:m,auth:{loggedIn:!1}}),t({type:f,user:{username:"",id:null,email:""}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function tr(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(Zn());case 2:if(!n.sent){n.next=5;break}r({type:K,seasonNumber:t,isLoading:!0}),Kn(localStorage.getItem("token"),e,t).then((function(e){if(null!=e){var n=Object(jt.a)(Object(jt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show,episodes:e.episodes_user_info,friends_info:e.friends_info});r({type:E,seasonNumber:t,user_info:n})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0435\u0437\u043e\u043d\u0430!");r({type:K,seasonNumber:t,isLoading:!1})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function nr(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:if(!r.sent){r.next=4;break}Fn(localStorage.getItem("token"),t,n,e).then((function(e){e||p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:if(!r.sent){r.next=4;break}Gn(localStorage.getItem("token"),t,e).then((function(r){if(204!==r.status&200!==r.status&201!==r.status)p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430");else if(n){var a=[];for(var c in e.episodes)-1===a.indexOf(e.episodes[c].season_number)&&a.push(e.episodes[c].season_number);for(var o in a)s(tr(t,a[o]))}}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function sr(){return{type:x,isOpen:!0}}function ar(e,t,n){e({type:t,isLoading:n})}function cr(e,t,n){e({type:t,error:n})}gt.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},gt.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},gt.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},gt.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"};n(148);var or=function(e){var t=e.statuses,n=e.activeColor,s=e.onChangeStatus,a=e.userStatus;return Object(r.jsx)("div",{className:"contentStatuses",children:t.map((function(e){return Object(r.jsx)("button",{className:"contentStatus",style:{backgroundColor:a===e?n:"#000000"},onClick:function(){s(e)},children:e},e)}))})};function ir(e){return 11<=e&&e<=14?"\u0447\u0430\u0441\u043e\u0432":e%10===1?"\u0447\u0430\u0441":2<=e%10&&e%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432"}var ur=function(e){var t=e.info,n=Object(h.f)();return Object(r.jsxs)("div",{className:"fActivityBlock",children:[Object(r.jsx)("h5",{className:"fActivityUser",children:Object(r.jsx)("a",{href:window.location.origin+"/user/"+t.user.id,onClick:function(e){n.push("/user/"+t.user.id),e.preventDefault()},children:t.user.username})}),Object(r.jsxs)("div",{className:"fActivityInfo",children:[Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",title:e})})),initialRating:t.score,className:"fActivityInfoText",readonly:!0}),Object(r.jsxs)("p",{className:"fActivityInfoText",children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",t.status," "]}),Object(r.jsxs)("p",{className:"fActivityInfoText",hidden:!t.spent_time,children:["\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0434\u0435\u043d\u0438\u044f: ",t.spent_time," ",ir(t.spent_time)]}),Object(r.jsxs)("p",{className:"fActivityInfoText",hidden:""===t.review,children:["\u041e\u0442\u0437\u044b\u0432: ",t.review]})]})]})};var lr=function(e){var t=e.info;return Object(r.jsx)("div",{className:"friendsBlock",children:"undefined"!==typeof t?null===t||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(ur,{info:e},e.user.id)})):""})};var dr=function(e){var t=e.hltbInfo;return Object(r.jsxs)("div",{hidden:t.gameplay_main<0&t.gameplay_main_extra<0&t.gameplay_completionist<0,children:[Object(r.jsx)("p",{style:{display:"inline"},children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "}),Object(r.jsxs)("div",{hidden:t.gameplay_main<0,style:{display:"inline"},children:[Object(r.jsx)(ut.l,{far:!0,icon:"clock",className:"light-green-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442"}),Object(r.jsx)("span",{className:"hs"}),t.gameplay_main," ",t.gameplay_main_unit,Object(r.jsx)("span",{className:"hs"})]})," ",Object(r.jsx)("p",{style:{display:"inline"},children:" "}),Object(r.jsxs)("div",{hidden:t.gameplay_main_extra<0,style:{display:"inline"},children:[Object(r.jsx)(ut.l,{far:!0,icon:"clock",className:"yellow-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442 + \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"}),Object(r.jsx)("span",{className:"hs"}),t.gameplay_main_extra," ",t.gameplay_main_extra_unit,Object(r.jsx)("span",{className:"hs"})]})," ",Object(r.jsx)("p",{style:{display:"inline"},children:" "}),Object(r.jsxs)("div",{hidden:t.gameplay_completionist<0,style:{display:"inline"},children:[Object(r.jsx)(ut.l,{far:!0,icon:"clock",className:"red-text",title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435"}),Object(r.jsx)("span",{className:"hs"}),t.gameplay_completionist," ",t.gameplay_completionist_unit]})]})};var br=function(e){var t=e.score,n=e.text,s=e.className;return Object(r.jsxs)("div",{hidden:!t,className:s,children:[Object(r.jsx)("div",{className:"metacritic "+function(e){switch(!0){case e>=80:return"metacriticGreen";case e>=60&&e<80:return"metacriticYellow";case e<60:return"metacriticRed";default:return"metacriticGreen"}}(t),children:Object(r.jsx)("p",{children:t})}),Object(r.jsx)("p",{className:"metacriticText",children:n})]})};var jr=Object(u.b)((function(e){return{loggedIn:he(e),requestError:Be(e),game:Oe(e),gameIsLoading:We(e),gameUserInfo:ve(e),gameUserInfoIsLoading:He(e)}}),(function(e){return{requestGame:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:ar(n,G,!0),cr(n,ce,!1),pn(localStorage.getItem("token"),e).then((function(e){null!=e?n({type:S,game:e}):(p.b.error("\u0418\u0433\u0440\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),cr(n,ce,!0)),ar(n,G,!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},requestGameUserInfo:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:ar(n,z,!0),xn(localStorage.getItem("token"),e).then((function(e){if(null!=e){var t=Object(jt.a)(Object(jt.a)({},e.user_info),{},{friends_info:e.friends_info});n({type:y,user_info:t})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!");ar(n,z,!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},openLoginForm:function(){e(sr())},setGameStatus:function(t){var n;e((n=t,function(){var e=Object(ft.a)(pt.a.mark((function e(t,r){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=4;break}mn(localStorage.getItem("token"),Oe(r()).rawg.slug,n).then((function(e){e||p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}}))((function(e){var t,n,a=e.requestGame,c=e.openLoginForm,o=e.setGameStatus,i=e.requestGameUserInfo,u=e.loggedIn,l=e.game,d=e.gameIsLoading,b=e.gameUserInfo,j=e.gameUserInfoIsLoading,p=Object(h.g)().id,f=Object(s.useState)(""),m=Object(it.a)(f,2),g=m[0],O=m[1],v=Object(s.useState)(""),x=Object(it.a)(v,2),w=x[0],_=x[1],S=Object(s.useState)(""),y=Object(it.a)(S,2),k=y[0],I=y[1],N=Object(s.useState)("\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"),E=Object(it.a)(N,2),C=E[0],R=E[1],L=Object(s.useState)(0),T=Object(it.a)(L,2),U=T[0],A=T[1],B=Object(s.useState)(""),D=Object(it.a)(B,2),P=D[0],F=D[1],M=Object(s.useState)(""),G=Object(it.a)(M,2),z=G[0],q=G[1],W=Object(s.useState)(""),H=Object(it.a)(W,2),X=H[0],K=H[1],V=Object(s.useState)({gameplay_main_extra:-1,gameplay_main:-1,gameplay_comletionist:-1}),Y=Object(it.a)(V,2),Q=Y[0],J=Y[1];function $(){O(""),J({gameplay_main_extra:-1,gameplay_main:-1,gameplay_completionist:-1}),F(""),q(""),K("")}function Z(){_(""),I(""),R("\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"),A(0)}function ee(e){if(e&-1!==e)return e.indexOf("\xbd")+1?parseFloat(e)+.5:parseFloat(e)}return Object(s.useEffect)((function(){$(),Z(),a(p)}),[p,a]),Object(s.useEffect)((function(){u?i(p):Z()}),[p,u]),Object(s.useEffect)((function(){if($(),l.rawg.genres){for(var e="",t=0;t<l.rawg.genres.length;t++)e+=l.rawg.genres[t].name,t!==l.rawg.genres.length-1&&(e+=", ");O(e)}if(l.hltb?J(l.hltb):l.rawg.playtime&&J({gameplay_main_extra:l.rawg.playtime,gameplay_main:-1,gameplay_completionist:-1}),l.rawg.developers){for(var n="",r=0;r<l.rawg.developers.length;r++)n+=l.rawg.developers[r].name,r!==l.rawg.developers.length-1&&(n+=", ");F(n)}if(l.rawg.platforms){for(var s="",a=0;a<l.rawg.platforms.length;a++)s+=l.rawg.platforms[a].platform.name,a!==l.rawg.platforms.length-1&&(s+=", ");q(s)}if(l.rawg.released){var c=l.rawg.released.split("-"),o=c[2]+"."+c[1]+"."+c[0];K(o)}document.title=l.rawg.name}),[l]),Object(s.useEffect)((function(){(null===b||void 0===b?void 0:b.status)?(_(b.review),I(b.spent_time),R(b.status),A(b.score)):Z()}),[b]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(l.rawg.background_image_additional?l.rawg.background_image_additional:l.rawg.background_image,")")}}),Object(r.jsx)(dt.a,{active:d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsxs)("div",{className:"gameContentPage",children:[Object(r.jsxs)("div",{className:"gameContentHeader",children:[Object(r.jsx)("div",{className:"posterBlock",children:Object(r.jsx)("img",{src:l.rawg.background_image,className:"img-fluid",alt:""})}),Object(r.jsxs)("div",{className:"gameInfoBlock",children:[Object(r.jsx)("h1",{className:"header",children:l.rawg.name}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438: ",P]}),Object(r.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",X]}),Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",g]}),Object(r.jsxs)("p",{children:["\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b: ",z]}),Object(r.jsx)(dr,{hltbInfo:Q})]}),Object(r.jsxs)(dt.a,{active:j&&!d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:U,readonly:!u|"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===C,onChange:function(e){u?(A(e),o({score:e})):c()},style:{marginBottom:"10px"}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(or,{statuses:["\u041d\u0435 \u0438\u0433\u0440\u0430\u043b","\u0411\u0443\u0434\u0443 \u0438\u0433\u0440\u0430\u0442\u044c","\u0418\u0433\u0440\u0430\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u0440\u043e\u0448\u0435\u043b"],activeColor:"#4527a0",userStatus:C,onChangeStatus:function(e){u?(R(e),o({status:e}),"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===e&&(_(""),A(0))):c()}})]}),Object(r.jsx)(br,{score:null===l||void 0===l||null===(t=l.rawg)||void 0===t?void 0:t.metacritic,text:"Metascore",className:"scoreBlock"})]})]}),Object(r.jsxs)("div",{className:"gameContentBody",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:l.rawg.description}})]}),Object(r.jsxs)("div",{className:"gameReviewBody",hidden:!u,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsxs)(dt.a,{active:j&&!d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(ut.n,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:w,onChange:function(e){return _(e.target.value)},outline:!0}),Object(r.jsx)(ut.n,{type:"number",id:"spentTimeInput",label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f (\u0447\u0430\u0441\u044b)",list:"timesList",value:k,onChange:function(e){return I(e.target.value)}}),function(){var e,t,n;return l.hltb?Object(r.jsxs)("datalist",{id:"timesList",children:[Object(r.jsx)("option",{value:ee(null===(e=l.hltb)||void 0===e?void 0:e.gameplay_main_extra),className:"testil"}),Object(r.jsx)("option",{value:ee(null===(t=l.hltb)||void 0===t?void 0:t.gameplay_main)}),Object(r.jsx)("option",{value:ee(null===(n=l.hltb)||void 0===n?void 0:n.gameplay_completionist)})]}):l.rawg.playtime?Object(r.jsx)("datalist",{id:"timesList",children:Object(r.jsx)("option",{value:ee(l.rawg.playtime)})}):null}(),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!u|"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===C,onClick:function(){u?o({review:document.getElementById("reviewInput").value,spent_time:document.getElementById("spentTimeInput").value}):c()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"gameFriendsBlock",hidden:!u|(null===b||void 0===b||null===(n=b.friends_info)||void 0===n?void 0:n.length)<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(lr,{info:null===b||void 0===b?void 0:b.friends_info})]})]})]})})]})}));n(302);var hr=Object(u.b)((function(e){return{loggedIn:he(e),requestError:De(e),movie:xe(e),movieIsLoading:Xe(e),movieUserInfo:we(e),movieUserInfoIsLoading:Ke(e)}}),(function(e){return{requestMovie:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:ar(n,q,!0),cr(n,oe,!1),_n(localStorage.getItem("token"),e).then((function(e){null!=e?n({type:k,movie:e}):(p.b.error("\u0424\u0438\u043b\u044c\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),cr(n,oe,!0)),ar(n,q,!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},openLoginForm:function(){e(sr())},setMovieStatus:function(t){var n;e((n=t,function(){var e=Object(ft.a)(pt.a.mark((function e(t,r){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=4;break}yn(localStorage.getItem("token"),xe(r()).tmdb.id,n).then((function(e){e||p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},requestMovieUserInfo:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:ar(n,W,!0),En(localStorage.getItem("token"),e).then((function(e){if(null!=e){var t=Object(jt.a)(Object(jt.a)({},e.user_info),{},{friends_info:e.friends_info});n({type:I,user_info:t})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!");ar(n,W,!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t,n=e.requestMovie,a=e.movie,c=e.movieIsLoading,o=e.setMovieStatus,i=e.requestMovieUserInfo,u=e.movieUserInfo,l=e.movieUserInfoIsLoading,d=e.loggedIn,b=e.openLoginForm,j=Object(h.g)().id,p=Object(s.useState)(""),f=Object(it.a)(p,2),m=f[0],g=f[1],O=Object(s.useState)(""),v=Object(it.a)(O,2),x=v[0],w=v[1],_=Object(s.useState)(""),S=Object(it.a)(_,2),y=S[0],k=S[1],I=Object(s.useState)(""),N=Object(it.a)(I,2),E=N[0],C=N[1],R=Object(s.useState)(""),L=Object(it.a)(R,2),T=L[0],U=L[1],A=Object(s.useState)("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),B=Object(it.a)(A,2),D=B[0],P=B[1],F=Object(s.useState)(0),M=Object(it.a)(F,2),G=M[0],z=M[1];function q(){C(""),k(""),w(""),g("")}return Object(s.useEffect)((function(){q(),U(""),P("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),z(0),n(j)}),[j,n]),Object(s.useEffect)((function(){d?i(j):(U(""),z(0),P("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[d,j]),Object(s.useEffect)((function(){if(q(),a.tmdb.genres){for(var e="",t=0;t<a.tmdb.genres.length;t++)e+=a.tmdb.genres[t].name,t!==a.tmdb.genres.length-1&&(e+=", ");g(e)}if(a.tmdb.production_companies){for(var n="",r=0;r<a.tmdb.production_companies.length;r++)n+=a.tmdb.production_companies[r].name,r!==a.tmdb.production_companies.length-1&&(n+=", ");w(n)}if(a.tmdb.cast){for(var s="",c=a.tmdb.cast.length>5?5:a.tmdb.cast.length,o=0;o<c;o++)s+=a.tmdb.cast[o].name,o!==c-1&&(s+=", ");k(s)}if(a.tmdb.crew){for(var i="",u=0;u<a.tmdb.crew.length;u++)if("Director"===a.tmdb.crew[u].job){i=a.tmdb.crew[u].name;break}C(i)}document.title=a.tmdb.title}),[a]),Object(s.useEffect)((function(){(null===u||void 0===u?void 0:u.status)?(U(u.review),P(u.status),z(u.score)):(U(""),z(0),P("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+a.tmdb.backdrop_path,")")}}),Object(r.jsx)(dt.a,{active:c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsxs)("div",{className:"movieContentPage",children:[Object(r.jsxs)("div",{className:"movieContentHeader",children:[Object(r.jsx)("div",{className:"moviePosterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+a.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)("div",{className:"movieInfoBlock",children:[Object(r.jsx)("h1",{className:"header",children:a.tmdb.title}),Object(r.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:a.tmdb.original_title}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",a.tmdb.release_date]}),Object(r.jsxs)("p",{children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",a.tmdb.runtime]}),Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",m]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",x]}),Object(r.jsxs)("p",{children:["\u0421\u043b\u043e\u0433\u0430\u043d: ",a.tmdb.tagline]}),Object(r.jsxs)("p",{children:["\u0412 \u0440\u043e\u043b\u044f\u0445: ",y]}),Object(r.jsxs)("p",{children:["\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440: ",E]})]}),Object(r.jsxs)(dt.a,{active:l&!c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:G,readonly:!d|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===D,onChange:function(e){d?(z(e),o({score:e})):b()}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(or,{statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:D,onChangeStatus:function(e){d?(P(e),o({status:e}),"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===e&&(U(""),z(0))):b()}})]}),Object(r.jsx)(br,{score:10*a.tmdb.vote_average,text:"TMDB score",className:"scoreBlock"})]})]}),Object(r.jsxs)("div",{className:"movieContentBody",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:a.tmdb.overview}})]}),Object(r.jsxs)("div",{className:"movieReviewBody",hidden:!d,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsxs)(dt.a,{active:l&!c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(ut.n,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:T,onChange:function(e){return U(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!d|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===D,onClick:function(){d?o({review:document.getElementById("reviewInput").value}):b()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:!d|(null===u||void 0===u||null===(t=u.friends_info)||void 0===t?void 0:t.length)<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(lr,{info:null===u||void 0===u?void 0:u.friends_info})]})]})]})})]})}));n(46);var pr=function(e){var t,n=e.episode,a=e.showID,c=e.setShowEpisodeUserStatus,o=e.loggedIn,i=e.userInfo,u=e.onChangeStatus,l=e.checkAll,d=e.userWatchedShow,b=Object(h.f)(),j=Object(s.useState)(0),p=Object(it.a)(j,2),f=p[0],m=p[1],g=Object(s.useState)(!1),O=Object(it.a)(g,2),v=O[0],x=O[1];return Object(s.useEffect)((function(){m(null===i||void 0===i?void 0:i.score),x((null===i||void 0===i?void 0:i.score)>-1)}),[i]),Object(s.useEffect)((function(){-1===l?(x(!1),u({addEpisode:f>-1,episode:{season_number:n.season_number,episode_number:n.episode_number,score:-1}})):1===l&&(x(!0),u({addEpisode:!(f>-1),episode:{season_number:n.season_number,episode_number:n.episode_number,score:0}}))}),[l]),Object(r.jsxs)("div",{className:"episodeRow detailRow",children:[Object(r.jsxs)("div",{className:"episodeRowCheckDate",children:[Object(r.jsx)("div",{className:"episodeRowCheck",hidden:!o||"undefined"===typeof u||!d,children:Object(r.jsx)("input",{type:"checkbox",checked:v,onChange:function(e){x(e.target.checked),u({addEpisode:e.target.checked===!(f>-1),episode:{season_number:n.season_number,episode_number:n.episode_number,score:e.target.checked?0:-1}})}})}),Object(r.jsx)("p",{className:"episodeRowDate",children:(t=n.air_date,new Date(t).toLocaleDateString("ru-RU"))})]}),Object(r.jsx)("div",{hidden:!o||!d,className:"episodeRowRate",children:Object(r.jsx)(bt.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(ut.l,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(r.jsx)(ut.l,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",title:e})}))),readonly:!o,initialRating:f,onChange:function(e){m(e),x(e>-1),c({episodes:[{season_number:n.season_number,episode_number:n.episode_number,score:e}]},a)}})}),Object(r.jsxs)("a",{className:"episodeRowName episodeLink detailRow",href:window.location.origin+"/show/"+a+"/season/"+n.season_number+"/episode/"+n.episode_number,onClick:function(e){b.push("/show/"+a+"/season/"+n.season_number+"/episode/"+n.episode_number),e.preventDefault()},title:n.name,children:["\u0421\u0435\u0440\u0438\u044f ",n.episode_number," - ",n.name]})]})};var fr=Object(u.b)((function(e,t){return{loggedIn:he(e),showSeason:ye(e,t.seasonNumber),showSeasonIsLoading:Qe(e,t.seasonNumber),showUserInfo:ke(e,t.seasonNumber)}}),(function(e){return{requestShowSeason:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(Zn());case 2:r({type:K,seasonNumber:t,isLoading:!0}),Tn(localStorage.getItem("token"),e,t).then((function(e){null!=e?r({type:N,seasonNumber:t,info:e}):p.b.error("\u0421\u0435\u0440\u0438\u0430\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),r({type:K,seasonNumber:t,isLoading:!1})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},requestShowSeasonUserInfo:function(t,n){e(tr(t,n))},setShowSeasonUserStatus:function(t,n,r){e(nr(t,n,r))},setShowEpisodeUserStatus:function(t,n){e(rr(t,n))},openLoginForm:function(){e(sr())}}}))((function(e){var t,n,a,c,o=e.showID,i=e.seasonNumber,u=e.loggedIn,l=e.openLoginForm,d=e.showSeason,b=e.showSeasonIsLoading,j=e.showUserInfo,p=e.requestShowSeason,f=e.requestShowSeasonUserInfo,m=e.setShowEpisodeUserStatus,g=e.onChangeStatus,O=e.setShowSeasonUserStatus,v=e.userWatchedShow,x=Object(h.f)(),w=Object(s.useState)(0),_=Object(it.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(0),I=Object(it.a)(k,2),N=I[0],E=I[1];function C(e,t){for(var n in e)if(e[n].episode_number===t)return e[n]}return Object(s.useEffect)((function(){y(0),E(0),p(o,i)}),[o,i,p]),Object(s.useEffect)((function(){y(0),E(0),u&&f(o,i)}),[u,o,i]),Object(s.useEffect)((function(){(null===j||void 0===j?void 0:j.score)?E(j.score):E(0)}),[j]),Object(r.jsx)(dt.a,{active:b,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsxs)("div",{className:"seasonBlock",children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+o+"/season/"+i,onClick:function(e){x.push("/show/"+o+"/season/"+i),e.preventDefault()},className:"seasonBlockName",children:Object(r.jsxs)("h5",{children:[" ",null===d||void 0===d||null===(n=d.tmdb)||void 0===n?void 0:n.name," "]})}),Object(r.jsx)("div",{hidden:!u||!v,className:"seasonBlockName",children:Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",title:e})})),initialRating:N,onChange:function(e){u?(E(e),O({score:e},o,i)):l()}})}),Object(r.jsx)("br",{}),Object(r.jsxs)("details",{open:!0,className:"episodeRows",children:[Object(r.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(r.jsxs)("div",{style:{marginLeft:"5px"},hidden:!u||!v,children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\xa0",Object(r.jsx)("input",{type:"checkbox",checked:S>0,onChange:function(e){y(e.target.checked?1:-1)}})]}),Object(r.jsx)("ul",{children:null===d||void 0===d||null===(a=d.tmdb)||void 0===a||null===(c=a.episodes)||void 0===c?void 0:c.map((function(e,t){return Object(r.jsx)("li",{className:"episode",children:Object(r.jsx)(pr,{episode:e,showID:o,loggedIn:u,userInfo:C(null===j||void 0===j?void 0:j.episodes,null===e||void 0===e?void 0:e.episode_number),setShowEpisodeUserStatus:m,onChangeStatus:function(e){return g(e)},checkAll:S,userWatchedShow:v})},t)})).reverse()})]})]},null===d||void 0===d||null===(t=d.tmdb)||void 0===t?void 0:t.id)})}));var mr=function(e){var t=e.showID,n=e.seasons,a=e.setShowEpisodeUserStatus,c=e.userWatchedShow,o=Object(s.useState)(!1),i=Object(it.a)(o,2),u=i[0],l=i[1],d=Object(s.useState)([]),b=Object(it.a)(d,2),j=b[0],h=b[1];return Object(r.jsxs)("div",{children:[null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(fr,{showID:t,seasonNumber:e.season_number,onChangeEpisodes:function(e){console.log(e)},onChangeStatus:function(e){return function(e){var t=j;if(e.addEpisode)t.push(e.episode);else{var n=t.findIndex((function(t){return t.episode_number===e.episode.episode_number&&t.season_number===e.episode.season_number}));n>-1&&t.splice(n,1)}l(t.length>0),h(t),console.log(t)}(e)},userWatchedShow:c},e.season_number)})).reverse(),Object(r.jsx)("div",{className:"saveEpisodesHeader",hidden:!u,children:Object(r.jsx)("button",{className:"saveEpisodesButton",onClick:function(){a({episodes:j},t),l(!1),h([])},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})};var gr=Object(u.b)((function(e){return{loggedIn:he(e),requestError:Pe(e),show:_e(e),showIsLoading:Ve(e),showUserInfo:Se(e),showUserInfoIsLoading:Ye(e)}}),(function(e){return{requestShow:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:ar(n,H,!0),cr(n,ie,!1),Rn(localStorage.getItem("token"),e).then((function(e){null!=e?n({type:R,show:e}):(p.b.error("\u0421\u0435\u0440\u0438\u0430\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),cr(n,ie,!0)),ar(n,H,!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},setShowUserStatus:function(t){var n;e((n=t,function(){var e=Object(ft.a)(pt.a.mark((function e(t,r){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=4;break}Dn(localStorage.getItem("token"),_e(r()).tmdb.id,n).then((function(e){e||p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},openLoginForm:function(){e(sr())},requestShowUserInfo:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:if(!t.sent){t.next=5;break}ar(n,X,!0),Hn(localStorage.getItem("token"),e).then((function(e){if(null!=e){var t=Object(jt.a)(Object(jt.a)({},e.user_info),{},{friends_info:e.friends_info});n({type:L,user_info:t})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!");ar(n,X,!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},setShowEpisodeUserStatus:function(t,n){e(rr(t,n,!0))}}}))((function(e){var t=e.requestShow,n=e.show,a=e.showIsLoading,c=e.setShowUserStatus,o=e.setShowEpisodeUserStatus,i=e.requestShowUserInfo,u=e.showUserInfo,l=e.showUserInfoIsLoading,d=e.loggedIn,b=e.openLoginForm,j=Object(h.g)().id,p=Object(s.useState)(""),f=Object(it.a)(p,2),m=f[0],g=f[1],O=Object(s.useState)(""),v=Object(it.a)(O,2),x=v[0],w=v[1],_=Object(s.useState)(""),S=Object(it.a)(_,2),y=S[0],k=S[1],I=Object(s.useState)(""),N=Object(it.a)(I,2),E=N[0],C=N[1],R=Object(s.useState)(""),L=Object(it.a)(R,2),T=L[0],U=L[1],A=Object(s.useState)(""),B=Object(it.a)(A,2),D=B[0],P=B[1],F=Object(s.useState)("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),M=Object(it.a)(F,2),G=M[0],z=M[1],q=Object(s.useState)(0),W=Object(it.a)(q,2),H=W[0],X=W[1];function K(){U(""),C(""),k(""),w(""),g("")}return Object(s.useEffect)((function(){K(),P(""),z("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),X(0),t(j)}),[j,t]),Object(s.useEffect)((function(){d?i(j):(P(""),X(0),z("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[d,j]),Object(s.useEffect)((function(){if(K(),n.tmdb.genres){for(var e="",t=0;t<n.tmdb.genres.length;t++)e+=n.tmdb.genres[t].name,t!==n.tmdb.genres.length-1&&(e+=", ");g(e)}if(n.tmdb.production_companies){for(var r="",s=0;s<n.tmdb.production_companies.length;s++)r+=n.tmdb.production_companies[s].name,s!==n.tmdb.production_companies.length-1&&(r+=", ");w(r)}switch(n.tmdb.status){case"Ended":k("\u041e\u043a\u043e\u043d\u0447\u0435\u043d");break;case"Returning Series":k("\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f");break;case"Pilot":k("\u041f\u0438\u043b\u043e\u0442");break;case"Canceled":k("\u041e\u0442\u043c\u0435\u043d\u0435\u043d");break;case"In Production":k("\u0412 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435");break;case"Planned":k("\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d");break;default:k(n.tmdb.status)}if(n.tmdb.first_air_date){var a=n.tmdb.first_air_date.split("-"),c=a[2]+"."+a[1]+"."+a[0];C(c)}if(n.tmdb.last_air_date){var o=n.tmdb.last_air_date.split("-"),i=o[2]+"."+o[1]+"."+o[0];U(i)}document.title=n.tmdb.name}),[n]),Object(s.useEffect)((function(){(null===u||void 0===u?void 0:u.status)?(P(u.review),z(u.status),X(u.score)):(P(""),X(0),z("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(dt.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsxs)("div",{className:"showContentPage",children:[Object(r.jsxs)("div",{className:"showContentHeader",children:[Object(r.jsx)("div",{className:"showPosterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)("div",{className:"showInfoBlock",children:[Object(r.jsx)("h1",{className:"header",children:n.tmdb.name}),Object(r.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:n.tmdb.original_name}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",m]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",x]}),Object(r.jsxs)("p",{hidden:""===E,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0435\u0440\u0438\u0438: ",E]}),Object(r.jsxs)("p",{hidden:""===T,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0441\u0435\u0440\u0438\u0438: ",T]}),Object(r.jsxs)("p",{hidden:!n.tmdb.episode_run_time,children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",n.tmdb.episode_run_time?n.tmdb.episode_run_time[0]:0]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0437\u043e\u043d\u043e\u0432: ",n.tmdb.number_of_seasons]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",n.tmdb.number_of_episodes]}),Object(r.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",y]})]}),Object(r.jsxs)(dt.a,{active:l&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:H,readonly:!d|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===G,onChange:function(e){d?(X(e),c({score:e})):b()}})," ",Object(r.jsx)("br",{}),Object(r.jsx)(or,{loggedIn:d,statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0421\u043c\u043e\u0442\u0440\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:G,onChangeStatus:function(e){d?(z(e),c({status:e}),"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===e&&(P(""),X(0))):b()}})]}),Object(r.jsx)(br,{score:10*n.tmdb.vote_average,text:"TMDB score",className:"scoreBlock"})]})]}),Object(r.jsxs)("div",{className:"showContentBody",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]}),Object(r.jsxs)("div",{className:"showSeasonsBody",children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(r.jsx)(mr,{showID:n.tmdb.id,seasons:n.tmdb.seasons,setShowEpisodeUserStatus:o,userWatchedShow:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"!==G})]}),Object(r.jsxs)("div",{className:"showReviewBody",hidden:!d,children:[Object(r.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(r.jsxs)(dt.a,{active:l&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(ut.n,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:D,onChange:function(e){return P(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",disabled:!d|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===G,onClick:function(){d?c({review:document.getElementById("reviewInput").value}):b()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"showFriendsBlock",hidden:u.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(lr,{info:u.friends_info})]})]})]})})]})})),Or=n(10);var vr=Object(u.b)((function(e){return{loggedIn:he(e),requestError:Pe(e),showSeason:_e(e),showSeasonIsLoading:Ve(e),showUserInfo:Se(e),showUserInfoIsLoading:Ye(e)}}),(function(e){return{requestShowSeason:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(Zn());case 2:ar(r,H,!0),cr(r,ie,!1),Tn(localStorage.getItem("token"),e,t).then((function(e){null!=e?r({type:R,show:e}):(p.b.error("\u0421\u0435\u0440\u0438\u0430\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),cr(r,ie,!0)),ar(r,H,!1)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},setShowUserStatus:function(t,n,r){e(nr(t,n,r))},setShowEpisodeUserStatus:function(t,n){e(rr(t,n))},openLoginForm:function(){e(sr())},requestShowSeasonUserInfo:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(Zn());case 2:if(!n.sent){n.next=5;break}ar(r,X,!0),Kn(localStorage.getItem("token"),e,t).then((function(e){if(null!=e){var t=Object(jt.a)(Object(jt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show,episodes:e.episodes_user_info,friends_info:e.friends_info});r({type:L,user_info:t})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!");ar(r,X,!1)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.requestShowSeason,n=e.showSeason,a=e.showSeasonIsLoading,c=e.setShowUserStatus,o=e.setShowEpisodeUserStatus,i=e.requestShowSeasonUserInfo,u=e.showUserInfo,l=e.showUserInfoIsLoading,d=e.loggedIn,b=e.openLoginForm,j=Object(h.f)(),p=Object(h.g)(),f=p.show_id,m=p.number,g=Object(s.useState)(""),O=Object(it.a)(g,2),v=O[0],x=O[1],w=Object(s.useState)(""),_=Object(it.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(0),I=Object(it.a)(k,2),N=I[0],E=I[1],C=Object(s.useState)([]),R=Object(it.a)(C,2),L=R[0],T=R[1];function U(){x("")}function A(e,t){for(var n in e)if(e[n].episode_number===t)return e[n]}return Object(s.useEffect)((function(){U(),y(""),E(0),t(f,m)}),[f,m,t]),Object(s.useEffect)((function(){d?i(f,m):(y(""),E(0))}),[d,f,m]),Object(s.useEffect)((function(){if(U(),n.tmdb.air_date){var e=n.tmdb.air_date.split("-"),t=e[2]+"."+e[1]+"."+e[0];x(t)}document.title=n.tmdb.show_name+" - "+n.tmdb.name}),[n]),Object(s.useEffect)((function(){if(T([]),n.tmdb.episodes&&n.tmdb.episodes.length>0){var e=[];for(var t in n.tmdb.episodes)n.tmdb.episodes[t].vote_average>0&&e.push({name:"Ep "+n.tmdb.episodes[t].episode_number,"\u041e\u0446\u0435\u043d\u043a\u0430":n.tmdb.episodes[t].vote_average});T(e)}}),[n]),Object(s.useEffect)((function(){(null===u||void 0===u?void 0:u.review)?y(u.review):y(""),(null===u||void 0===u?void 0:u.score)?E(u.score):E(0)}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(dt.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)("div",{className:"showContentPage",children:Object(r.jsxs)("div",{className:"showContentHeader",children:[Object(r.jsx)("div",{className:"showPosterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.poster_path,className:"img-fluid",alt:""})}),Object(r.jsxs)("div",{className:"showInfoBlock",children:[Object(r.jsxs)("h1",{className:"header",children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+f,onClick:function(e){j.push("/show/"+f),e.preventDefault()},children:n.tmdb.show_name})," - "+n.tmdb.name]}),Object(r.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:n.tmdb.show_original_name+" - Season "+n.tmdb.season_number}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{hidden:""===v,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",v]}),Object(r.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",n.tmdb.episodes?n.tmdb.episodes.length:0]})]}),Object(r.jsx)("div",{hidden:!d|!(null===u||void 0===u?void 0:u.user_watched_show),children:Object(r.jsxs)(dt.a,{active:l&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:N,onChange:function(e){d?(E(e),c({score:e},f,n.tmdb.season_number)):b()}}),Object(r.jsx)(ut.n,{type:"textarea",id:"reviewSeasonInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:S,onChange:function(e){return y(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",hidden:!d|!(null===u||void 0===u?void 0:u.user_watched_show),onClick:function(){d?c({review:document.getElementById("reviewSeasonInput").value},f,n.tmdb.season_number):b()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})]}),Object(r.jsxs)("div",{className:"showContentBody",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]}),Object(r.jsxs)("div",{className:"showSeasonsBody",children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(r.jsxs)("details",{open:!1,className:"episodeRows",style:{marginBottom:"15px"},children:[Object(r.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(r.jsx)("ul",{children:n.tmdb.episodes?n.tmdb.episodes.map((function(e){return Object(r.jsx)("li",{className:"episode",children:Object(r.jsx)(pr,{episode:e,showID:f,loggedIn:d,userInfo:A(u.episodes,e.episode_number),setShowEpisodeUserStatus:o,userWatchedShow:null===u||void 0===u?void 0:u.user_watched_show})},n.tmdb.id+e.episode_number)})):""})]}),Object(r.jsx)("div",{hidden:!(L.length>0),children:document.body.clientHeight<document.body.clientWidth?Object(r.jsx)(Or.i,{width:"100%",height:200,children:Object(r.jsxs)(Or.b,{data:L,margin:{top:10,right:20,left:0,bottom:0},children:[Object(r.jsx)("defs",{children:Object(r.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(r.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(r.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(r.jsx)(Or.k,{dataKey:"name",interval:0,tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Or.l,{tickLine:!1,domain:[0,10],tick:{fill:"rgb(238, 238, 238)"},tickCount:2}),Object(r.jsx)(Or.j,{contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"}}),Object(r.jsx)(Or.a,{type:"monotone",dataKey:"\u041e\u0446\u0435\u043d\u043a\u0430",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})}):Object(r.jsx)(Or.i,{width:"100%",height:30*L.length,children:Object(r.jsxs)(Or.b,{data:L,margin:{top:10,right:20,left:0,bottom:0},layout:"vertical",children:[Object(r.jsx)("defs",{children:Object(r.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(r.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(r.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(r.jsx)(Or.l,{dataKey:"name",interval:0,tick:{fill:"rgb(238, 238, 238)"},type:"category"}),Object(r.jsx)(Or.k,{tickLine:!1,domain:[0,10],tick:{fill:"rgb(238, 238, 238)"},tickCount:2,type:"number"}),Object(r.jsx)(Or.j,{contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"}}),Object(r.jsx)(Or.a,{type:"monotone",dataKey:"\u041e\u0446\u0435\u043d\u043a\u0430",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})})})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:u.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(lr,{info:u.friends_info})]})]})]})})})]})}));var xr=Object(u.b)((function(e){return{loggedIn:he(e),requestError:Pe(e),showEpisode:_e(e),showEpisodeIsLoading:Ve(e),showUserInfo:Se(e),showUserInfoIsLoading:Ye(e)}}),(function(e){return{requestShowEpisode:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:ar(s,H,!0),cr(s,ie,!1),An(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:R,show:e}):(p.b.error("\u0421\u0435\u0440\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"),cr(s,ie,!0)),ar(s,H,!1)}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},setEpisodeUserStatus:function(t,n){e(rr(t,n))},openLoginForm:function(){e(sr())},requestShowEpisodeUserInfo:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:if(!r.sent){r.next=5;break}ar(s,X,!0),Yn(localStorage.getItem("token"),e,t,n).then((function(e){if(null!=e){var t=Object(jt.a)(Object(jt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show,friends_info:e.friends_info});s({type:L,user_info:t})}else p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!");ar(s,X,!1)}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.requestShowEpisode,n=e.showEpisode,a=e.showEpisodeIsLoading,c=e.setEpisodeUserStatus,o=e.requestShowEpisodeUserInfo,i=e.showUserInfo,u=e.showUserInfoIsLoading,l=e.loggedIn,d=e.openLoginForm,b=Object(h.f)(),j=Object(h.g)(),p=j.show_id,f=j.season_number,m=j.episode_number,g=Object(s.useState)(""),O=Object(it.a)(g,2),v=O[0],x=O[1],w=Object(s.useState)(""),_=Object(it.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(-1),I=Object(it.a)(k,2),N=I[0],E=I[1];function C(){x("")}return Object(s.useEffect)((function(){C(),y(""),E(-1),t(p,f,m)}),[p,f,m,t]),Object(s.useEffect)((function(){l?o(p,f,m):(y(""),E(-1))}),[l,p,f,m]),Object(s.useEffect)((function(){if(C(),n.tmdb.air_date){var e=n.tmdb.air_date.split("-"),t=e[2]+"."+e[1]+"."+e[0];x(t)}document.title=n.tmdb.show_name+" - "+n.tmdb.name}),[n]),Object(s.useEffect)((function(){(null===i||void 0===i?void 0:i.review)?y(i.review):y(""),(null===i||void 0===i?void 0:i.score)?E(i.score):E(-1)}),[i]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+n.tmdb.backdrop_path,")")}}),Object(r.jsx)(dt.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsxs)("div",{className:"showContentPage",children:[Object(r.jsxs)("div",{className:"showContentHeader",children:[Object(r.jsx)("div",{className:"showPosterBlock",children:Object(r.jsx)("img",{src:"http://image.tmdb.org/t/p/w600_and_h900_bestv2"+n.tmdb.still_path,className:"img-fluid",alt:""})}),Object(r.jsxs)("div",{className:"showInfoBlock",children:[Object(r.jsxs)("h1",{className:"header",children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+p,onClick:function(e){b.push("/show/"+p),e.preventDefault()},children:n.tmdb.show_name})," - "+n.tmdb.name]}),Object(r.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:[n.tmdb.show_original_name+" - Season "+n.tmdb.season_number+" - Episode "+n.tmdb.episode_number," "]}),Object(r.jsxs)("div",{className:"mainInfo",children:[Object(r.jsxs)("p",{hidden:""===v,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",v]}),Object(r.jsxs)("a",{href:window.location.origin+"/show/"+p+"/season/"+f,onClick:function(e){b.push("/show/"+p+"/season/"+f),e.preventDefault()},children:["\u0421\u0435\u0437\u043e\u043d: ",n.tmdb.season_number]})]}),Object(r.jsx)("div",{hidden:!l|!(null===i||void 0===i?void 0:i.user_watched_show),children:Object(r.jsxs)(dt.a,{active:u&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsx)(bt.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(ut.l,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}})}))),fullSymbol:[Object(r.jsx)(ut.l,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})}))),initialRating:N,onChange:function(e){l?(E(e),c({episodes:[{season_number:f,episode_number:m,score:e}]},p)):d()}}),Object(r.jsx)(ut.n,{type:"textarea",id:"reviewSeasonInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:S,onChange:function(e){return y(e.target.value)},outline:!0}),Object(r.jsx)("button",{className:"savePreviewButton",hidden:!l|!(null===i||void 0===i?void 0:i.user_watched_show),onClick:function(){l?c({episodes:[{season_number:f,episode_number:m,review:document.getElementById("reviewSeasonInput").value}]},p):d()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}),Object(r.jsx)(br,{score:10*n.tmdb.vote_average,text:"TMDB score",className:"scoreBlock"})]})]}),Object(r.jsxs)("div",{className:"showContentBody",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{paddingTop:"15px"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.tmdb.overview}})]}),Object(r.jsxs)("div",{className:"movieFriendsBlock",hidden:i.friends_info.length<1,children:[Object(r.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(r.jsx)(lr,{info:i.friends_info})]})]})]})})]})}));n(477);var wr=function(e){var t=e.game,n=Object(h.f)(),a=Object(s.useState)(""),c=Object(it.a)(a,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){if(t.released){var e=t.released.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("")}),[t]),Object(r.jsxs)("div",{className:"searchCardGame",children:[Object(r.jsx)("div",{className:"searchCardGameImage",style:{backgroundImage:"url(".concat(t.background_image,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardGameText",children:[Object(r.jsx)("div",{className:"searchCardGameName",children:Object(r.jsx)("a",{href:window.location.origin+"/game/"+t.slug,onClick:function(e){n.push("/game/"+t.slug),e.preventDefault()},title:t.name,children:Object(r.jsx)("h4",{children:t.name})})}),Object(r.jsx)("p",{children:o})]})]})};var _r=function(e){var t=e.movie,n=Object(h.f)(),a=Object(s.useState)(""),c=Object(it.a)(a,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){if(t.release_date){var e=t.release_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("")}),[t]),Object(r.jsxs)("div",{className:"searchCardMovie",children:[Object(r.jsx)("div",{className:"searchCardMovieImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardMovieText",children:[Object(r.jsx)("div",{className:"searchCardMovieName",children:Object(r.jsx)("a",{href:window.location.origin+"/movie/"+t.id,onClick:function(e){n.push("/movie/"+t.id),e.preventDefault()},title:t.title,children:Object(r.jsx)("h4",{children:t.title})})}),Object(r.jsx)("p",{children:o})]})]})};var Sr=function(e){var t=e.show,n=Object(h.f)(),a=Object(s.useState)(""),c=Object(it.a)(a,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){if(t.first_air_date){var e=t.first_air_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];i(n)}else i("")}),[t]),Object(r.jsxs)("div",{className:"searchCardMovie",children:[Object(r.jsx)("div",{className:"searchCardMovieImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")},children:" "}),Object(r.jsxs)("div",{className:"searchCardMovieText",children:[Object(r.jsx)("div",{className:"searchCardMovieName",children:Object(r.jsx)("a",{href:window.location.origin+"/show/"+t.id,onClick:function(e){n.push("/show/"+t.id),e.preventDefault()},title:t.name,children:Object(r.jsx)("h4",{children:t.name})})}),Object(r.jsx)("p",{children:o})]})]})};var yr=function(e){var t=e.user,n=Object(h.f)();return Object(r.jsx)("a",{href:window.location.origin+"/user/"+t.id,onClick:function(e){n.push("/user/"+t.id),e.preventDefault()},children:Object(r.jsxs)("div",{className:"cardUser",children:[Object(r.jsx)("div",{className:"cardUserImage",style:{backgroundImage:"url(".concat("http://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png",")")},children:" "}),Object(r.jsx)("div",{className:"cardUserText",children:Object(r.jsx)("h4",{children:t.username})})]})})};var kr=function(e){var t=e.categories,n=e.activeColor,s=e.onChangeCategory,a=e.activeCategory,c=e.hidden;return Object(r.jsxs)("div",{hidden:c,children:[t.map((function(e,t){return Object(r.jsx)("button",{className:"categoriesTab",style:{color:a===e?n:"rgb(207, 207, 207)"},onClick:function(){s(e)},children:e},t)})),Object(r.jsx)("hr",{style:{backgroundColor:n,height:2.5,marginTop:"0px",marginBottom:"10px"}})]})};var Ir=Object(u.b)((function(e){return{loggedIn:he(e),gamesIsLoading:Je(e),moviesIsLoading:$e(e),showsIsLoading:Ze(e),usersIsLoading:et(e),games:Ie(e),movies:Ne(e),shows:Ee(e),users:Ce(e)}}),(function(e){return{searchGame:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:ar(s,V,!0),On(e,t,n).then((function(e){e?s({type:T,games:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"),ar(s,V,!1)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},searchMovie:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ar(r,Y,!0),In(e,t).then((function(e){e?r({type:U,movies:e.results}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),ar(r,Y,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},searchShow:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ar(r,Q,!0),qn(e,t).then((function(e){e?r({type:A,shows:e.results}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432"),ar(r,Q,!1)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},searchUsers:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ar(n,J,!0),en(e).then((function(e){e?n({type:B,users:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"),ar(n,J,!1)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){e.loggedIn;var t=e.gamesIsLoading,n=e.moviesIsLoading,a=e.showsIsLoading,c=e.usersIsLoading,o=e.searchGame,i=e.games,u=e.searchMovie,l=e.movies,d=e.searchShow,b=e.shows,j=e.searchUsers,p=e.users,f=Object(h.f)(),m=Object(h.g)().query,g=Object(s.useState)(""),O=Object(it.a)(g,2),v=O[0],x=O[1],w=Object(s.useState)(""),_=Object(it.a)(w,2),S=_[0],y=_[1],k=Object(s.useState)(""),I=Object(it.a)(k,2),N=I[0],E=I[1],C=Object(s.useState)(""),R=Object(it.a)(C,2),L=R[0],T=R[1],U=Object(s.useState)(""),A=Object(it.a)(U,2),B=A[0],D=A[1],P=Object(s.useState)(1),F=Object(it.a)(P,2),M=F[0],G=F[1],z=Object(s.useState)(1),q=Object(it.a)(z,2),W=q[0],H=q[1],X=Object(s.useState)(1),K=Object(it.a)(X,2),V=K[0],Y=K[1],Q=Object(s.useState)("\u0412\u0441\u0451"),J=Object(it.a)(Q,2),$=J[0],Z=J[1];return Object(s.useEffect)((function(){o(m,1,6),u(m,1),d(m,1),j(m),x(m),document.title="\u041f\u043e\u0438\u0441\u043a",G(1),H(1),Y(1)}),[m,o,u,j,d]),Object(s.useEffect)((function(){y(Object(r.jsx)("div",{className:"searchCardsGroup",children:i.map((function(e){return Object(r.jsx)(wr,{game:e},e.id)}))}))}),[i]),Object(s.useEffect)((function(){E(Object(r.jsx)("div",{className:"searchCardsGroup",children:l.map((function(e){return Object(r.jsx)(_r,{movie:e},e.id)}))}))}),[l]),Object(s.useEffect)((function(){T(Object(r.jsx)("div",{className:"searchCardsGroup",children:b.map((function(e){return Object(r.jsx)(Sr,{show:e},e.id)}))}))}),[b]),Object(s.useEffect)((function(){D(Object(r.jsx)("div",{className:"searchCardsGroup",children:p.map((function(e){return Object(r.jsx)(yr,{user:e},e.username)}))}))}),[p]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)(ut.e,{children:Object(r.jsxs)(ut.y,{children:[Object(r.jsx)(ut.c,{md:"0.5"}),Object(r.jsxs)(ut.c,{className:"searchPage",children:[Object(r.jsx)("h1",{children:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsxs)(ut.k,{className:"md-form",onSubmit:function(e){return e.preventDefault(),f.push("/search/"+document.getElementById("searchInput2").value),!1},children:[Object(r.jsx)(ut.l,{icon:"search"}),Object(r.jsx)("input",{className:"form-control form-control-sm ml-3 w-50",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438","aria-label":"Search",id:"searchInput2",value:v,onChange:function(e){return x(e.target.value)}})]}),Object(r.jsx)("h1",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(r.jsx)(kr,{categories:["\u0412\u0441\u0451","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"],activeColor:"#7654de",activeCategory:$,onChangeCategory:function(e){Z(e)}}),Object(r.jsx)(dt.a,{active:t,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0438\u0433\u0440\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==$&&"\u0418\u0433\u0440\u044b"!==$,children:[Object(r.jsx)("h3",{children:"\u0418\u0433\u0440\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===M,onClick:function(){o(m,M-1,6),G(M-1)},children:"<"}),S,Object(r.jsx)("button",{className:"paginationButton",disabled:i.length<6,onClick:function(){o(m,M+1,6),G(M+1)},children:">"})]})]})}),Object(r.jsx)(dt.a,{active:n,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==$&&"\u0424\u0438\u043b\u044c\u043c\u044b"!==$,children:[Object(r.jsx)("h3",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===W,onClick:function(){u(m,W-1),H(W-1)},children:"<"}),N,Object(r.jsx)("button",{className:"paginationButton",disabled:l.length<20,onClick:function(){u(m,W+1),H(W+1)},children:">"})]})]})}),Object(r.jsx)(dt.a,{active:a,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0441\u0435\u0440\u0438\u0430\u043b\u044b...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==$&&"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==$,children:[Object(r.jsx)("h3",{children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(r.jsxs)("div",{className:"reslutsBlock",children:[Object(r.jsx)("button",{className:"paginationButton",disabled:1===V,onClick:function(){d(m,V-1),Y(V-1)},children:"<"}),L,Object(r.jsx)("button",{className:"paginationButton",disabled:b.length<20,onClick:function(){d(m,V+1),Y(V+1)},children:">"})]})]})}),Object(r.jsx)(dt.a,{active:c,spinner:!0,text:"\u0418\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439...",children:Object(r.jsxs)("div",{hidden:"\u0412\u0441\u0451"!==$&&"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"!==$,children:[Object(r.jsx)("h3",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),B]})})]}),Object(r.jsx)(ut.c,{md:"0.5"})]})})]})}));n(107);var Nr=Object(u.b)((function(e){return{isOpen:Ge(e),authError:Ue(e)}}),(function(e){return{closeForm:function(){e({type:x,isOpen:!1})},logIn:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){var s;return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return cr(r,se,!1),n.prev=1,n.next=4,Mt(e,t);case 4:null!==(s=n.sent)?(localStorage.setItem("refreshToken",s.refreshToken),localStorage.setItem("token",s.token),localStorage.setItem("tokenTime",Date.now()),r({type:m,auth:{loggedIn:!0}}),r({type:f,user:s.user}),r({type:x,isOpen:!1})):cr(r,se,!0),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),cr(r,se,!0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},openResetPasswordForm:function(){e({type:_,isOpen:!0})}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.logIn,c=e.authError,o=e.openResetPasswordForm,i=Object(s.useState)(""),u=Object(it.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(it.a)(b,2),h=j[0],p=j[1];return Object(r.jsx)(ut.o,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(ut.p,{className:"loginBody",children:Object(r.jsx)(ut.e,{children:Object(r.jsx)(ut.y,{children:Object(r.jsx)(ut.c,{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(h,l)},children:[Object(r.jsx)("p",{className:"h4 text-center mb-4",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!c,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"}),Object(r.jsx)("label",{htmlFor:"loginInput",className:"grey-text",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:h,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordInput",className:"grey-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:l,onChange:function(e){return d(e.target.value)}}),Object(r.jsxs)("div",{className:"text-center mt-4",children:[Object(r.jsx)(ut.b,{type:"submit",className:"confirmButton",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(r.jsx)("label",{className:"passwordResetLabel",onClick:function(){n(),o()},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})})})})})}));var Er=Object(u.b)((function(e){return{isOpen:ze(e),registrateArror:Ae(e),user:pe(e)}}),(function(e){return{closeForm:function(){e({type:w,isOpen:!1})},registrate:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:cr(s,ae,!1),Wt(e,t,n).then((function(e){if(201===e.status|200===e.status)s({type:f,user:{login:e.username,email:e.email}});else{for(var t in e.data)p.b.error(e.data[t][0]);cr(s,ae,!0)}}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.registrate,c=e.registrateArror,o=e.user,i=Object(s.useState)(""),u=Object(it.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(it.a)(b,2),h=j[0],p=j[1],f=Object(s.useState)(""),m=Object(it.a)(f,2),g=m[0],O=m[1],v=Object(s.useState)(""),x=Object(it.a)(v,2),w=x[0],_=x[1];return Object(r.jsx)(ut.o,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(ut.p,{className:"registrationBody",children:Object(r.jsx)(ut.e,{children:Object(r.jsx)(ut.y,{children:Object(r.jsx)(ut.c,{children:Object(r.jsxs)("form",{children:[Object(r.jsx)("p",{className:"note note-danger",hidden:!c,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438!"}),Object(r.jsxs)("p",{className:"note note-success",hidden:""===o.email,children:[o.login,", \u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443"]}),Object(r.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(r.jsx)("label",{htmlFor:"loginInput",children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),Object(r.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:w,onChange:function(e){return _(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"emailInput",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(r.jsx)("input",{type:"email",id:"emailInput",className:"form-control",value:g,onChange:function(e){return O(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordInput",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:h,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"passwordConfirmInput",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(r.jsx)("input",{type:"password",id:"passwordConfirmInput",className:"form-control",style:l===h?{outlineColor:"green"}:{outlineColor:"red"},value:l,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)("div",{className:"text-center mt-4",children:Object(r.jsx)(ut.b,{type:"button",className:"confirmButton",disabled:h!==l||w.length<1||g.length<1||h.length<1,onClick:function(){return a(w,g,h)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})})})})}));var Cr=Object(u.b)((function(e){return{isOpen:qe(e),resetPasswordError:Fe(e)}}),(function(e){return{closeForm:function(){e({type:_,isOpen:!1})},resetPassword:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:le,error:!1}),Vt(e).then((function(e){200!==e.status?n({type:le,error:e.data.error}):n({type:le,error:"ok"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.closeForm,a=e.resetPassword,c=e.resetPasswordError,o=Object(s.useState)(""),i=Object(it.a)(o,2),u=i[0],l=i[1];return Object(r.jsx)(ut.o,{isOpen:t,toggle:n,size:"sm",centered:!0,children:Object(r.jsx)(ut.p,{className:"loginBody",children:Object(r.jsx)(ut.e,{children:Object(r.jsx)(ut.y,{children:Object(r.jsx)(ut.c,{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(u)},children:[Object(r.jsx)("p",{className:"h4 text-center mb-4",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!c|"ok"===c,children:c}),Object(r.jsx)("p",{className:"note note-success",hidden:"ok"!==c,children:"\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e"}),Object(r.jsx)("label",{htmlFor:"emailInput",className:"grey-text",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(r.jsx)("input",{type:"text",id:"emailInput",className:"form-control",value:u,onChange:function(e){return l(e.target.value)}}),Object(r.jsx)("div",{className:"text-center mt-4",children:Object(r.jsx)(ut.b,{type:"submit",className:"confirmButton",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]})})})})})})}));var Rr=Object(u.b)((function(e){return{loggedIn:he(e)}}),(function(e){return{confirmEmailRequest:function(t,n){e(function(e,t){return Object(ft.a)(pt.a.mark((function n(){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Xt(e,t).then((function(e){200===e.status?p.b.success("\u041f\u043e\u0447\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430!"):e.data&&p.b.error(e.data.error)}));case 1:case"end":return n.stop()}}),n)})))}(t,n))}}}))((function(e){var t=e.confirmEmailRequest,n=window.location.search,a=new URLSearchParams(n),c=a.get("uid64"),o=a.get("token");return Object(s.useEffect)((function(){t(c,o)}),[]),Object(r.jsx)("div",{className:"bg"})}));n(478);var Lr=Object(u.b)((function(e){return{confirmPasswordError:Me(e)}}),(function(e){return{confirmPassword:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:de,error:!1}),Qt(e,t).then((function(e){200!==e.status?r({type:de,error:e.data.error?e.data.error:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):r({type:de,error:"ok"})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.confirmPassword,n=e.confirmPasswordError,a=Object(s.useState)(""),c=Object(it.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(it.a)(u,2),d=l[0],b=l[1],j=window.location.search,h=new URLSearchParams(j).get("token");return Object(r.jsx)("div",{className:"bg",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(h,o)},className:"confirmPasswordForm",children:[Object(r.jsx)("p",{className:"h4",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("p",{className:"note note-danger",hidden:!n|"ok"===n,children:n}),Object(r.jsx)("p",{className:"note note-success",hidden:"ok"!==n,children:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!"}),Object(r.jsx)("label",{htmlFor:"passwordInput",className:"confirmPasswordLabel",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",id:"passwordInput",className:"confirmPasswordInput",value:o,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"passwordConfurmInput",className:"confirmPasswordLabel",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",id:"passwordConfurmInput",className:"confirmPasswordInput",value:d,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",className:"confirmPasswordButton",disabled:o!==d|o.length<1,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})})),Tr=["rgb(43,206,72)","rgb(240,163,255)","rgb(0,117,220)","rgb(153,63,0)","rgb(76,0,92)","rgb(225,225,225)","rgb(0,92,49)","rgb(255,204,153)","rgb(128,128,128)","rgb(148,255,181)","rgb(143,124,0)","rgb(157,204,0)","rgb(194,0,136)","rgb(0,51,128)","rgb(255,164,5)","rgb(255,168,187)","rgb(66,102,0)","rgb(255,0,16)","rgb(94,241,242)","rgb(0,153,143)","rgb(224,255,102)","rgb(116,10,255)","rgb(153,0,0)","rgb(255,255,128)","rgb(255,255,0)","rgb(255,80,)"];n(108);var Ur=function(e){var t=e.games,n=e.stats,a=Object(s.useState)([]),c=Object(it.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"},{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f",field:"spent_time",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(it.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/game/"+e.game.rawg_slug,children:e.game.rawg_name}),name2:e.game.rawg_name,status:e.status,score:e.score,review:e.review,spent_time:parseFloat(e.spent_time)}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var r in n.genres)n.genres[r].spent_time_percent>2&&t<11&&(e.push({name:n.genres[r].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[r].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0418\u0433\u0440 \u0441\u044b\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0438\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(ut.f,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0433\u0440 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",className:"dataTable",responsive:!0}),Object(r.jsx)("div",{hidden:o.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(r.jsxs)(Or.d,{width:document.body.clientWidth-25,height:40*o.length,data:o,margin:{top:5,right:0,left:25,bottom:20},layout:"vertical",children:[Object(r.jsx)(Or.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(r.jsx)(Or.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]}):Object(r.jsxs)(Or.d,{width:Math.min(100*o.length,document.body.clientWidth),height:300,data:o,margin:{top:5,right:10,left:10,bottom:20},children:[Object(r.jsx)(Or.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(r.jsx)(Or.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]})})]})};var Ar=function(e){var t=e.users;return Object(r.jsx)("div",{className:"friendsBlock",children:t.map((function(e){return Object(r.jsx)(yr,{user:e},e.id)}))})};var Br=function(e){var t=e.movies,n=e.stats,a=Object(s.useState)([]),c=Object(it.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(it.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/movie/"+e.movie.tmdb_id,children:e.movie.tmdb_name}),name2:e.movie.tmdb_name,status:e.status,score:e.score,review:e.review}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var r in n.genres)n.genres[r].spent_time_percent>2&&t<11&&(e.push({name:n.genres[r].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[r].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(ut.f,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",responsive:!0}),Object(r.jsx)("div",{hidden:o.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(r.jsxs)(Or.d,{width:document.body.clientWidth-25,height:40*o.length,data:o,margin:{top:5,right:0,left:45,bottom:20},layout:"vertical",children:[Object(r.jsx)(Or.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(r.jsx)(Or.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]}):Object(r.jsxs)(Or.d,{width:Math.min(100*o.length,document.body.clientWidth),height:300,data:o,margin:{top:5,right:10,left:10,bottom:15},children:[Object(r.jsx)(Or.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(r.jsx)(Or.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]})})]})};var Dr=function(e){var t,n,a,c=e.log,o=e.showUsername,i=Object(h.f)();return Object(s.useEffect)((function(){}),[c]),Object(r.jsxs)("div",{className:"logRow",children:[(a=c.created,new Date(a).toLocaleTimeString("ru-RU")),"\u2009",o?(t=c.user,n=c.user_id,Object(r.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:t})):"","\u2009",function(e,t){switch(e){case"score":switch(t){case"0":return"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430)";case"-1":return"\u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0430(\u0430)";default:return"\u043e\u0446\u0435\u043d\u0438\u043b(\u0430)"}case"status":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0441\u0442\u0430\u0442\u0443\u0441";case"review":return"\u043e\u0441\u0442\u0430\u0432\u0438\u043b(\u0430) \u043e\u0442\u0437\u044b\u0432 \u043d\u0430";case"spent_time":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f";case"episodes":return t>0?"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430) "+t+" \u0441\u0435\u0440\u0438\u0439":"\u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430) "+-1*t+" \u0441\u0435\u0440\u0438\u0439";case"is_following":return"True"===t?"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d(\u0430) \u043d\u0430":"\u043e\u0442\u043f\u0438\u0441\u0430\u043d(\u0430) \u043e\u0442";default:return e}}(c.action_type,c.action_result),"\u2009",function(e,t){switch(e){case"game":return"score"===t||"review"===t?"\u0438\u0433\u0440\u0443":"\u0438\u0433\u0440\u044b";case"movie":return"score"===t||"review"===t?"\u0444\u0438\u043b\u044c\u043c":"\u0444\u0438\u043b\u044c\u043c\u0430";case"show":return"score"===t||"review"===t?"\u0441\u0435\u0440\u0438\u0430\u043b":"\u0441\u0435\u0440\u0438\u0430\u043b\u0430";case"season":case"episode":return"";case"user":return"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";default:return e}}(c.type,c.action_type),"\u2009",function(e,t,n){switch(t){case"game":return Object(r.jsx)("a",{href:window.location.origin+"/game/"+n,className:"logLink",onClick:function(e){i.push("/game/"+n),e.preventDefault()},children:e});case"movie":return Object(r.jsx)("a",{href:window.location.origin+"/movie/"+n,className:"logLink",onClick:function(e){i.push("/movie/"+n),e.preventDefault()},children:e});case"show":return Object(r.jsx)("a",{href:window.location.origin+"/show/"+n,className:"logLink",onClick:function(e){i.push("/show/"+n),e.preventDefault()},children:e});case"season":return Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number),e.preventDefault()},children:e.name}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"episode":return Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsxs)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number),e.preventDefault()},children:["[s",n.season_number,"e",n.episode_number,"] \u0441\u0435\u0440\u0438\u044e"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"user":return Object(r.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:e});default:return e}}(c.target,c.type,c.target_id),"user"===c.type|"episodes"===c.action_type|"0"===c.action_result|"-1"===c.action_result?"":":","\u2009",function(e,t,n){switch(e){case"score":return"episode"!==n|t>0?Object(r.jsx)(bt.a,{stop:10,emptySymbol:Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",title:e})})),initialRating:t,readonly:!0}):"";case"status":case"review":return'"'+t+'"';case"spent_time":return t+" "+(11<=(s=t)&&s<=14?"\u0447\u0430\u0441\u043e\u0432":s%10===1?"\u0447\u0430\u0441":2<=s%10&&s%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432");case"episodes":case"is_following":return"";default:return t}var s}(c.action_type,c.action_result,c.type)]})};var Pr=function(e){var t=e.logs,n=e.showUsername,a=e.onChangePage,c=Object(s.useState)([]),o=Object(it.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(1),d=Object(it.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){u(function(e){var t=[];for(var n in e){var r=new Date(e[n].created);0===t.length?t.push({date:r,logs:[e[n]]}):r.getDay()===t[t.length-1].date.getDay()?t[t.length-1].logs.push(e[n]):t.push({date:r,logs:[e[n]]})}return t}(t.log))}),[t]),Object(r.jsxs)("div",{children:[i.map((function(e){return Object(r.jsxs)("div",{className:"logDay",children:[Object(r.jsx)("h5",{className:"logDate",children:e.date.toLocaleDateString("ru-RU")}),Object(r.jsx)("div",{className:"logRows",children:e.logs.map((function(e){return Object(r.jsx)(Dr,{log:e,showUsername:n},e.id+e.created)}))})]},e.logs[0].id)})),Object(r.jsx)("button",{className:"logPaginationButton",disabled:!t.has_next_page,onClick:function(){t.has_next_page&&(a(b+1),j(b+1))},children:Object(r.jsx)(ut.l,{icon:"arrow-down"})}),Object(r.jsx)("button",{className:"logPaginationButton",disabled:1===b,onClick:function(){b>1&&(a(b-1),j(b-1))},children:Object(r.jsx)(ut.l,{icon:"arrow-up"})})]})};var Fr=function(e){var t=e.shows,n=e.stats,a=Object(s.useState)([]),c=Object(it.a)(a,2),o=c[0],i=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"},{label:"\u0427\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",field:"spentTime",sort:"asc"}],l=Object(s.useState)({columns:u,rows:[]}),d=Object(it.a)(l,2),b=d[0],j=d[1];return Object(s.useEffect)((function(){t&&j({columns:u,rows:t.map((function(e){return{name:Object(r.jsx)("a",{className:"dataTable",href:window.location.origin+"/show/"+e.show.tmdb_id,children:e.show.tmdb_name}),name2:e.show.tmdb_name,status:e.status,score:e.score,review:e.review,spentTime:e.spent_time}}))})}),[t]),Object(s.useEffect)((function(){if(i([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var r in n.genres)n.genres[r].spent_time_percent>2&&t<11&&(e.push({name:n.genres[r].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[r].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),i(e)}}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["\u0421\u0435\u0440\u0438\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(r.jsx)(ut.f,{striped:!0,bordered:!0,small:!0,data:b,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",responsive:!0}),Object(r.jsx)("div",{hidden:o.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(r.jsxs)(Or.d,{width:document.body.clientWidth-25,height:40*o.length,data:o,margin:{top:5,right:0,left:45,bottom:20},layout:"vertical",children:[Object(r.jsx)(Or.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(r.jsx)(Or.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]}):Object(r.jsxs)(Or.d,{width:Math.min(100*o.length,document.body.clientWidth),height:300,data:o,margin:{top:5,right:10,left:10,bottom:20},children:[Object(r.jsx)(Or.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(r.jsx)(Or.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:o.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))})]})})]})};var Mr=Object(u.b)((function(e){return{loggedIn:he(e),userIsLoading:tt(e),userInfo:Re(e),userLogs:Le(e),userLogsIsLoading:nt(e),userFriendsLogs:Te(e),userFriendsLogsIsLoading:rt(e),currentUserInfo:pe(e)}}),(function(e){return{openLoginForm:function(){e(sr())},getUserInfo:function(t){var n;e((n=t,function(){var e=Object(ft.a)(pt.a.mark((function e(t){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:ar(t,$,!0),cr(t,ue,!1),$t(localStorage.getItem("token"),n).then((function(e){null!=e?t({type:D,content:e}):(p.b.error("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),cr(t,ue,!0)),ar(t,$,!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},setUserStatus:function(t,n){e(function(e,t){return function(){var n=Object(ft.a)(pt.a.mark((function n(r){return pt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(Zn());case 2:if(!n.sent){n.next=4;break}nn(localStorage.getItem("token"),e,t).then((function(e){e?r({type:P,is_following:e.is_following}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getUserLogs:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:ar(s,Z,!0),sn(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:F,logs:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043b\u043e\u0433\u043e\u0432!"),ar(s,Z,!1)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},getUserFriendsLogs:function(t,n,r){e(function(e,t,n){return function(){var r=Object(ft.a)(pt.a.mark((function r(s){return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s(Zn());case 2:ar(s,ee,!0),cn(localStorage.getItem("token"),e,t,n).then((function(e){null!=e?s({type:M,logs:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439!"),ar(s,ee,!1)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.loggedIn,n=e.userInfo,a=e.userIsLoading,c=e.getUserInfo,o=e.currentUserInfo,i=e.setUserStatus,u=e.getUserLogs,l=e.userLogs,d=e.userLogsIsLoading,b=e.getUserFriendsLogs,j=e.userFriendsLogs,p=e.userFriendsLogsIsLoading,f=Object(h.g)().userID,m=Object(s.useState)("\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),g=Object(it.a)(m,2),O=g[0],v=g[1],x=Object(s.useState)(""),w=Object(it.a)(x,2),_=w[0],S=w[1],y=Object(s.useState)([]),k=Object(it.a)(y,2),I=k[0],N=k[1];return Object(s.useEffect)((function(){c(f),u(f,1,20)}),[f,c,u]),Object(s.useEffect)((function(){t&&b(f,1,20)}),[t,f]),Object(s.useEffect)((function(){if(N([]),document.title="\u041f\u0440\u043e\u0444\u0438\u043b\u044c "+n.username,n.stats.games){var e=[];n.stats.games.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0438\u0433\u0440\u0430\u0445",value:n.stats.games.total_spent_time}),n.stats.movies.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0444\u0438\u043b\u044c\u043c\u0430\u0445",value:n.stats.movies.total_spent_time}),n.stats.episodes.total_spent_time>0&&e.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u0445",value:n.stats.episodes.total_spent_time}),N(e)}if(n.last_activity){var t=new Date(n.last_activity);Date.now(),S(t.toLocaleString())}else S("")}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)(dt.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(r.jsx)(ut.e,{children:Object(r.jsxs)(ut.y,{children:[Object(r.jsx)(ut.c,{md:"0.5"}),Object(r.jsxs)(ut.c,{className:"userPage",children:[Object(r.jsxs)("h1",{children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 ",n.username]}),Object(r.jsxs)("p",{children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c ",_]}),Object(r.jsx)("button",{hidden:o.username===n.username,className:"addFriendButton",onClick:function(){i({is_following:!n.is_followed},n.id)},children:n.is_followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}),Object(r.jsx)(kr,{categories:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u0414\u0440\u0443\u0437\u044c\u044f"],activeColor:"#7654de",activeCategory:O,onChangeCategory:function(e){v(e)}}),Object(r.jsxs)("div",{hidden:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"!==O,children:[Object(r.jsx)("h4",{children:"\u041c\u043e\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: "}),Object(r.jsxs)(dt.a,{active:d&&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:[Object(r.jsx)("div",{hidden:I.length<1,children:Object(r.jsxs)(Or.h,{width:350,height:250,hidden:I.length<1,children:[Object(r.jsx)(Or.g,{dataKey:"value",data:I,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",labelLine:!0,label:!0,minAngle:5,children:I.map((function(e,t){return Object(r.jsx)(Or.e,{fill:Tr[t]},t)}))}),Object(r.jsx)(Or.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(r.jsx)(Or.f,{verticalAlign:"bottom",horizontalAlign:"center"})]})}),Object(r.jsx)(Pr,{logs:l,onChangePage:function(e){return u(f,e,20)}})]})]}),Object(r.jsx)("div",{hidden:"\u0418\u0433\u0440\u044b"!==O,children:Object(r.jsx)(Ur,{games:n.games,stats:n.stats.games})}),Object(r.jsx)("div",{hidden:"\u0424\u0438\u043b\u044c\u043c\u044b"!==O,children:Object(r.jsx)(Br,{movies:n.movies,stats:n.stats.movies})}),Object(r.jsx)("div",{hidden:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==O,children:Object(r.jsx)(Fr,{shows:n.shows,stats:n.stats.episodes})}),Object(r.jsxs)("div",{hidden:"\u0414\u0440\u0443\u0437\u044c\u044f"!==O,children:[Object(r.jsx)(Ar,{users:n.followed_users?n.followed_users:[]}),Object(r.jsx)("h4",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439: "}),Object(r.jsx)(dt.a,{active:p&&!a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:Object(r.jsx)(Pr,{logs:j,onChangePage:function(e){return b(f,e,20)},showUsername:!0})})]})]}),Object(r.jsx)(ut.c,{md:"0.5"})]})})})]})}));var Gr=Object(u.b)((function(e){return{loggedIn:he(e),user:pe(e)}}),(function(e){return{onLoginClick:function(){e(sr())},onLogoutClick:function(){e(er())},onRegistrationClick:function(){e({type:w,isOpen:!0})}}}))((function(e){var t,n=e.loggedIn,a=e.onLoginClick,c=e.onLogoutClick,o=e.onRegistrationClick,i=e.user,u=Object(h.f)(),l=Object(s.useState)(""),d=Object(it.a)(l,2),b=d[0],j=d[1];return Object(r.jsxs)(ut.s,{style:{backgroundColor:"#4527a0"},dark:!0,expand:"md",fixed:"top",children:[Object(r.jsx)(ut.t,{onClick:function(e){return e.preventDefault(),u.push("/"),!1},children:Object(r.jsx)("strong",{className:"white-text",style:{cursor:"pointer"},children:"Interests"})}),Object(r.jsx)(ut.u,{left:!0}),Object(r.jsx)(ut.v,{onClick:(t="navbarCollapse1",function(){j(t!==b?t:"")})}),Object(r.jsx)(ut.d,{id:"navbarCollapse1",isOpen:b,navbar:!0,children:Object(r.jsxs)(ut.u,{right:!0,children:[Object(r.jsx)(ut.q,{children:Object(r.jsx)(ut.k,{onSubmit:function(e){return e.preventDefault(),u.push("/search/"+document.getElementById("searchInput").value),!1},children:Object(r.jsx)("div",{className:"md-form my-0",children:Object(r.jsx)("input",{className:"form-control mr-sm-2",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438","aria-label":"\u041d\u0430\u0439\u0442\u0438",id:"searchInput"})})})}),Object(r.jsx)(ut.q,{className:"font-weight-bold",hidden:n,children:Object(r.jsxs)(ut.r,{to:"#",onClick:a,children:[Object(r.jsx)(ut.l,{icon:"sign-in-alt"})," \u0412\u043e\u0439\u0442\u0438"]})}),Object(r.jsx)(ut.q,{className:"font-weight-bold",hidden:n,children:Object(r.jsxs)(ut.r,{to:"#",onClick:o,children:[Object(r.jsx)(ut.l,{icon:"user-plus"})," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]})}),Object(r.jsx)(ut.q,{hidden:!n,className:"font-weight-bold",children:Object(r.jsxs)(ut.g,{children:[Object(r.jsx)(ut.j,{nav:!0,caret:!0,children:Object(r.jsx)("span",{className:"mr-2",children:i.username})}),Object(r.jsxs)(ut.i,{children:[Object(r.jsx)(ut.h,{children:Object(r.jsxs)("a",{href:"/user/".concat(i.id),className:"navDropdownItem",onClick:function(e){return e.preventDefault(),u.push("/user/".concat(i.id)),!1},children:[Object(r.jsx)(ut.l,{icon:"user-circle"})," \u041f\u0440\u043e\u0444\u0438\u043b\u044c"]})}),Object(r.jsx)(ut.h,{children:Object(r.jsxs)("a",{href:"/calendar",className:"navDropdownItem",onClick:function(e){return e.preventDefault(),u.push("/calendar"),!1},children:[Object(r.jsx)(ut.l,{icon:"calendar-day"})," \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"]})}),Object(r.jsx)(ut.h,{children:Object(r.jsxs)("a",{href:"/unwatched",className:"navDropdownItem",onClick:function(e){return e.preventDefault(),u.push("/unwatched"),!1},children:[Object(r.jsx)(ut.l,{icon:"tv"})," \u041d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435"]})}),Object(r.jsx)(ut.h,{children:Object(r.jsxs)("a",{href:"/settings",className:"navDropdownItem",onClick:function(e){return e.preventDefault(),u.push("/settings"),!1},children:[Object(r.jsx)(ut.l,{icon:"cog"})," \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"]})}),Object(r.jsx)(ut.h,{onClick:c,children:Object(r.jsxs)("a",{className:"navDropdownItem",href:"/",onClick:function(e){return e.preventDefault()},children:[Object(r.jsx)(ut.l,{icon:"sign-out-alt"})," \u0412\u044b\u0439\u0442\u0438"]})})]})]})})]})})]})})),zr=n(217);n(479);var qr=function(e){var t,n,s,a,c,o,i=e.day,u=e.date,l=Object(h.f)();return Object(r.jsxs)("div",{className:"dayInfoBlock",children:[Object(r.jsx)("h3",{className:"dayInfoDate",children:u?u.toLocaleDateString("ru-RU",{year:u.getFullYear()===(new Date).getFullYear()?void 0:"numeric",month:"long",day:"numeric",weekday:"long"}):""}),Object(r.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===i||void 0===i||null===(t=i.games)||void 0===t?void 0:t.length)>0),children:[Object(r.jsx)("h3",{children:"\u0418\u0433\u0440\u044b"}),null===(n=i.games)||void 0===n?void 0:n.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("a",{href:window.location.origin+"/game/"+e.rawg_slug,className:"dayInfoLink",onClick:function(t){l.push("/game/"+e.rawg_slug),t.preventDefault()},children:e.rawg_name})},e.rawg_id)}))]}),Object(r.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===i||void 0===i||null===(s=i.movies)||void 0===s?void 0:s.length)>0),children:[Object(r.jsx)("h3",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),null===(a=i.movies)||void 0===a?void 0:a.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("a",{href:window.location.origin+"/movie/"+e.tmdb_id,className:"dayInfoLink",onClick:function(t){l.push("/movie/"+e.tmdb_id),t.preventDefault()},children:e.tmdb_name})},e.tmdb_id)}))]}),Object(r.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===i||void 0===i||null===(c=i.episodes)||void 0===c?void 0:c.length)>0),children:[Object(r.jsx)("h3",{children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),null===(o=i.episodes)||void 0===o?void 0:o.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsxs)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number,className:"dayInfoLink",onClick:function(t){l.push("/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number),t.preventDefault()},children:["[s",e.tmdb_season_number,"e",e.tmdb_episode_number,"] \u0441\u0435\u0440\u0438\u044f"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(r.jsx)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id,className:"dayInfoLink",onClick:function(t){l.push("/show/"+e.tmdb_show.tmdb_id),t.preventDefault()},children:e.tmdb_show.tmdb_name})]})},e.tmdb_id)}))]})]})},Wr=n(119);var Hr=function(e){var t=e.calendar,n=Object(h.f)(),s={backgroundColor:"rgb(30, 30, 30)",color:"rgb(207, 207, 207)",border:"none"};function a(e){var t,s,a;return Object(r.jsxs)("div",{children:[null===(t=e.games)||void 0===t?void 0:t.map((function(e){return Object(r.jsxs)("div",{className:"timelineEvent",children:["\u0418\u0433\u0440\u0430"," ",Object(r.jsx)("a",{href:window.location.origin+"/game/"+e.rawg_slug,className:"dayInfoLink",onClick:function(t){n.push("/game/"+e.rawg_slug),t.preventDefault()},children:e.rawg_name})]},e.rawg_id)})),null===(s=e.movies)||void 0===s?void 0:s.map((function(e){return Object(r.jsxs)("div",{children:["\u0424\u0438\u043b\u044c\u043c"," ",Object(r.jsx)("a",{href:window.location.origin+"/movie/"+e.tmdb_id,className:"dayInfoLink",onClick:function(t){n.push("/movie/"+e.tmdb_id),t.preventDefault()},children:e.tmdb_name})]},e.tmdb_id)})),null===(a=e.episodes)||void 0===a?void 0:a.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{style:{display:"inline-block"},children:[Object(r.jsxs)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number,className:"dayInfoLink",onClick:function(t){n.push("/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number),t.preventDefault()},children:["[s",e.tmdb_season_number,"e",e.tmdb_episode_number,"] \u0441\u0435\u0440\u0438\u044f"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(r.jsx)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id,className:"dayInfoLink",onClick:function(t){n.push("/show/"+e.tmdb_show.tmdb_id),t.preventDefault()},children:e.tmdb_show.tmdb_name})]})},e.tmdb_id)}))]})}function c(e){var t,n,s,a,c,o,i,u,l;return(null===(t=e.games)||void 0===t?void 0:t.length)>0&!((null===(n=e.movies)||void 0===n?void 0:n.length)>0)&!((null===(s=e.episodes)||void 0===s?void 0:s.length)>0)?Object(r.jsx)(ut.l,{icon:"gamepad"}):(null===(a=e.movies)||void 0===a?void 0:a.length)>0&!((null===(c=e.games)||void 0===c?void 0:c.length)>0)&!((null===(o=e.episodes)||void 0===o?void 0:o.length)>0)?Object(r.jsx)(ut.l,{icon:"film"}):(null===(i=e.episodes)||void 0===i?void 0:i.length)>0&!((null===(u=e.movies)||void 0===u?void 0:u.length)>0)&!((null===(l=e.games)||void 0===l?void 0:l.length)>0)?Object(r.jsx)(ut.l,{icon:"tv"}):Object(r.jsx)(ut.l,{icon:"dice-d6"})}return Object(r.jsx)(Wr.Timeline,{className:"releasesList",style:s,lineColor:"rgb(100, 100, 100)",children:null===t||void 0===t?void 0:t.map((function(e){var t=new Date(e[0]);return Object(r.jsx)(Wr.TimelineEvent,{title:t.toLocaleDateString("ru-RU",{year:t.getFullYear()===(new Date).getFullYear()?void 0:"numeric",month:"long",day:"numeric",weekday:"long"}),className:"timelineEvent",icon:c(e[1]),cardHeaderStyle:s,iconStyle:Object(jt.a)(Object(jt.a)({},s),{},{fontSize:"1.2rem"}),bubbleStyle:s,contentStyle:Object(jt.a)(Object(jt.a)({},s),{},{fontSize:"1.1rem",marginTop:"0.2rem",marginBottom:"0.2rem"}),titleStyle:Object(jt.a)(Object(jt.a)({},s),{},{fontSize:"1.1rem"}),subtitleStyle:s,children:a(e[1])},e[0])}))})};n(483);var Xr=Object(u.b)((function(e){return{loggedIn:he(e),calendar:fe(e),calendarIsLoading:st(e)}}),(function(e){return{getUserCalendar:function(){e(function(){var e=Object(ft.a)(pt.a.mark((function e(t){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=5;break}ar(t,te,!0),un(localStorage.getItem("token")).then((function(e){null!=e?t({type:g,data:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f!"),ar(t,te,!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loggedIn,n=e.calendar,a=e.getUserCalendar,c=e.calendarIsLoading,o=Object(s.useState)(new Date),i=Object(it.a)(o,2),u=i[0],l=i[1],d=Object(s.useState)({}),b=Object(it.a)(d,2),j=b[0],h=b[1];return Object(s.useEffect)((function(){t&&a()}),[t,a]),Object(s.useEffect)((function(){n&&(Vr(u)in n?h(n[Vr(u)]):h({}))}),[u,n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)("div",{className:"calendarPage",children:Object(r.jsxs)("div",{className:"calendarBlock",children:[Object(r.jsx)("h1",{className:"calendarHeader",children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0440\u0435\u043b\u0438\u0437\u043e\u0432"}),Object(r.jsxs)(dt.a,{active:c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(r.jsx)(qr,{day:j,date:u}):"",Object(r.jsx)(zr.a,{className:"calendar",onChange:l,value:u,defaultView:"month",minDetail:"decade",locale:"ru-RU",minDate:new Date,tileContent:function(e){e.activeStartDate;var t=e.date;if("month"===e.view&&Vr(t)in n){var s,a,c,o,i,u,l=n[Vr(t)];return Object(r.jsxs)("div",{className:"calendarDay",children:[Object(r.jsx)("div",{className:"calendarDayTile Games",hidden:!((null===l||void 0===l||null===(s=l.games)||void 0===s?void 0:s.length)>0),children:null===l||void 0===l||null===(a=l.games)||void 0===a?void 0:a.length}),Object(r.jsx)("div",{className:"calendarDayTile Movies",hidden:!((null===l||void 0===l||null===(c=l.movies)||void 0===c?void 0:c.length)>0),children:null===l||void 0===l||null===(o=l.movies)||void 0===o?void 0:o.length}),Object(r.jsx)("div",{className:"calendarDayTile Episodes",hidden:!((null===l||void 0===l||null===(i=l.episodes)||void 0===i?void 0:i.length)>0),children:null===l||void 0===l||null===(u=l.episodes)||void 0===u?void 0:u.length})]})}return null}}),/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"":Object(r.jsx)(qr,{day:j,date:u}),Object(r.jsx)(Hr,{calendar:Object.entries(n)})]})]})})]})}));function Kr(e){return e<10?"0"+e:e}function Vr(e){return e.getFullYear()+"-"+Kr(e.getMonth()+1)+"-"+Kr(e.getDate())}n(484);var Yr=Object(u.b)((function(e){return{loggedIn:he(e),user:pe(e),settings:me(e),settingsIsLoading:at(e)}}),(function(e){return{getUserSettings:function(){e(function(){var e=Object(ft.a)(pt.a.mark((function e(t){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=5;break}ar(t,ne,!0),dn(localStorage.getItem("token")).then((function(e){null!=e?t({type:O,data:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a!"),ar(t,ne,!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},saveSettings:function(t){e(function(e){return function(){var t=Object(ft.a)(pt.a.mark((function t(n,r){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Zn());case 2:if(!t.sent){t.next=5;break}ar(n,ne,!0),jn(localStorage.getItem("token"),e).then((function(e){e?p.b.success("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),ar(n,ne,!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loggedIn,n=e.settings,a=e.getUserSettings,c=e.saveSettings,o=e.settingsIsLoading,i=e.user,u=Object(s.useState)(!1),l=Object(it.a)(u,2),d=l[0],b=l[1],j=Object(s.useState)(!1),h=Object(it.a)(j,2),p=h[0],f=h[1],m=Object(s.useState)(!1),g=Object(it.a)(m,2),O=g[0],v=g[1];return Object(s.useEffect)((function(){t&&a()}),[t]),Object(s.useEffect)((function(){n.receive_games_releases&&b(n.receive_games_releases),n.receive_movies_releases&&f(n.receive_movies_releases),n.receive_episodes_releases&&v(n.receive_episodes_releases)}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)("div",{className:"settingsPage",children:Object(r.jsxs)("div",{className:"settingsBlock",children:[Object(r.jsx)("h1",{className:"calendarHeader",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(r.jsx)("h3",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:"}),Object(r.jsxs)(dt.a,{active:o,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(r.jsxs)("div",{className:"settingsRow",onClick:function(){return b(!d)},children:[Object(r.jsx)("input",{type:"checkbox",className:"settingsCheckbox",id:"gameNotificationsInput",checked:d,onChange:function(e){return b(e.target.checked)}})," ","\u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440"]}),Object(r.jsxs)("div",{className:"settingsRow",onClick:function(){return f(!p)},children:[Object(r.jsx)("input",{type:"checkbox",className:"settingsCheckbox",id:"movieNotificationsInput",checked:p,onChange:function(e){return f(e.target.checked)}})," ","\u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"]}),Object(r.jsxs)("div",{className:"settingsRow",onClick:function(){return v(!O)},children:[Object(r.jsx)("input",{type:"checkbox",className:"settingsCheckbox",id:"episodeNotificationsInput",checked:O,onChange:function(e){return v(e.target.checked)}})," ","\u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0441\u0435\u0440\u0438\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432"]}),Object(r.jsx)("button",{className:"saveSettingsButton",disabled:!t,onClick:function(){c({receive_games_releases:d,receive_movies_releases:p,receive_episodes_releases:O})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(r.jsxs)("p",{children:["\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430 ",i.email]})]})})]})}));n(195);var Qr=function(e){var t,n=e.episode,s=e.showID,a=e.seasonNumber,c=e.setShowEpisodeUserStatus,o=e.loggedIn,i=Object(h.f)();return Object(r.jsxs)("div",{className:"episodeRow detailRow",children:[Object(r.jsx)("div",{className:"episodeRowCheckDate",children:Object(r.jsx)("p",{className:"episodeRowDate",children:(t=n.tmdb_release_date,new Date(t).toLocaleDateString("ru-RU"))})}),Object(r.jsx)("div",{hidden:!o,className:"episodeRowRate",children:Object(r.jsx)(bt.a,{start:-1,stop:10,emptySymbol:[Object(r.jsx)(ut.l,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(r.jsx)(ut.l,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(r.jsx)(ut.l,{icon:"star",size:"1x",title:e})}))),readonly:!o,initialRating:-1,onChange:function(e){c({episodes:[{season_number:a,episode_number:n.tmdb_episode_number,score:e}]},s)}})}),Object(r.jsxs)("a",{className:"episodeRowName episodeLink detailRow",href:window.location.origin+"/show/"+s+"/season/"+a+"/episode/"+n.tmdb_episode_number,onClick:function(e){i.push("/show/"+s+"/season/"+a+"/episode/"+n.tmdb_episode_number),e.preventDefault()},title:n.tmdb_name,children:["\u0421\u0435\u0440\u0438\u044f ",n.tmdb_episode_number," - ",n.tmdb_name]})]})};var Jr=function(e){var t=e.loggedIn,n=e.show,a=e.setShowEpisodeUserStatus,c=Object(h.f)();return Object(s.useEffect)((function(){}),[n]),Object(r.jsxs)("div",{className:"unwatchedShowBlock",children:[Object(r.jsx)("a",{href:window.location.origin+"/show/"+n.tmdb_id,onClick:function(e){c.push("/show/"+n.tmdb_id),e.preventDefault()},children:Object(r.jsx)("h4",{children:null===n||void 0===n?void 0:n.tmdb_name})}),null===n||void 0===n?void 0:n.seasons.map((function(e,s){return Object(r.jsxs)("details",{open:!0,className:"unwatchedSeasonBlock",children:[Object(r.jsx)("summary",{children:e.tmdb_name}),Object(r.jsx)("ul",{children:e.episodes.map((function(s,c){return Object(r.jsx)("li",{className:"episode",children:Object(r.jsx)(Qr,{episode:s,showID:n.tmdb_id,seasonNumber:e.tmdb_season_number,setShowEpisodeUserStatus:a,loggedIn:t})},c)}))})]},s)}))]})};var $r=Object(u.b)((function(e){return{loggedIn:he(e),episodes:ge(e),episodesIsLoading:ct(e)}}),(function(e){return{getEpisodes:function(){e(function(){var e=Object(ft.a)(pt.a.mark((function e(t){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zn());case 2:if(!e.sent){e.next=5;break}ar(t,re,!0),Jn(localStorage.getItem("token")).then((function(e){null!=e?t({type:v,data:e}):p.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u0439!"),ar(t,re,!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setShowEpisodeUserStatus:function(t,n){e(rr(t,n))}}}))((function(e){var t=e.loggedIn,n=e.episodes,a=e.getEpisodes,c=e.episodesIsLoading,o=e.setShowEpisodeUserStatus;return Object(s.useEffect)((function(){t&&a()}),[t]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"bg searchBG"}),Object(r.jsx)("div",{className:"unwatchedPage",children:Object(r.jsxs)("div",{className:"unwatchedBlock",children:[Object(r.jsx)("h1",{children:"\u041d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0438\u0438"}),Object(r.jsx)(dt.a,{active:c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:n.map((function(e){return Object(r.jsx)(Jr,{show:e,setShowEpisodeUserStatus:o,loggedIn:t},e.id)}))})]})})]})})),Zr=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Gr,{}),Object(r.jsx)("div",{className:"navbar"}),Object(r.jsxs)(h.c,{children:[Object(r.jsx)(h.a,{exact:!0,path:"/",component:ot}),Object(r.jsx)(h.a,{exact:!0,path:"/game/:id",component:jr}),Object(r.jsx)(h.a,{exact:!0,path:"/movie/:id",component:hr}),Object(r.jsx)(h.a,{exact:!0,path:"/show/:id",component:gr}),Object(r.jsx)(h.a,{exact:!0,path:"/show/:show_id/season/:number",component:vr}),Object(r.jsx)(h.a,{exact:!0,path:"/show/:show_id/season/:season_number/episode/:episode_number",component:xr}),Object(r.jsx)(h.a,{exact:!0,path:"/search/:query",component:Ir}),Object(r.jsx)(h.a,{exact:!0,path:"/confirm/",component:Rr}),Object(r.jsx)(h.a,{exact:!0,path:"/confirm_password/",component:Lr}),Object(r.jsx)(h.a,{exact:!0,path:"/user/:userID",component:Mr}),Object(r.jsx)(h.a,{exact:!0,path:"/calendar",component:Xr}),Object(r.jsx)(h.a,{exact:!0,path:"/settings",component:Yr}),Object(r.jsx)(h.a,{exact:!0,path:"/unwatched",component:$r}),Object(r.jsx)(h.a,{render:function(){return Object(r.jsx)("h1",{children:"Not Found"})}})]}),Object(r.jsx)(p.a,{position:"top-center",hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,autoClose:1500}),Object(r.jsx)(Nr,{}),Object(r.jsx)(Er,{}),Object(r.jsx)(Cr,{})]})}}]),n}(a.a.Component);var es=Object(u.b)(null,(function(e){return{onLoad:function(){e(Zn())}}}))((function(e){var t=e.onLoad;return Object(s.useEffect)((function(){t()}),[]),Object(r.jsx)(i.a,{children:Object(r.jsx)("div",{className:"flyout",children:Object(r.jsx)("main",{children:Object(r.jsx)(Zr,{})})})})})),ts=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ns(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rs=n(55),ss=n(216),as=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rs.c,cs=Object(rs.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e.setIn(["user"],t.user);case m:return e.setIn(["auth"],t.auth);case g:return e.setIn(["userCalendar"],t.data);case O:return e.setIn(["userSettings"],t.data);case v:return e.setIn(["userUnwatched"],t.data);case S:return e.setIn(["content","game","main_info"],t.game);case y:return e.setIn(["content","game","user_info"],t.user_info);case k:return e.setIn(["content","movie","main_info"],t.movie);case I:return e.setIn(["content","movie","user_info"],t.user_info);case R:return e.setIn(["content","show","main_info"],t.show);case L:return e.setIn(["content","show","user_info"],t.user_info);case N:return e.setIn(["content","showSeasons",t.seasonNumber,"main_info"],t.info);case E:return e.setIn(["content","showSeasons",t.seasonNumber,"user_info"],t.user_info);case C:return e.setIn(["content","showSeasons",t.seasonNumber,"user_info","episodes",t.episodeNumber,"score"],t.score);case T:return e.setIn(["searchContent","games"],t.games);case U:return e.setIn(["searchContent","movies"],t.movies);case A:return e.setIn(["searchContent","shows"],t.shows);case B:return e.setIn(["searchContent","users"],t.users);case D:return e.setIn(["userPageContent","user"],t.content);case P:return e.setIn(["userPageContent","user","is_followed"],t.is_following);case F:return e.setIn(["userPageContent","userLogs"],t.logs);case M:return e.setIn(["userPageContent","userFriendsLogs"],t.logs);case x:return e.setIn(["openedPages","LoginForm"],t.isOpen);case w:return e.setIn(["openedPages","RegistrateForm"],t.isOpen);case _:return e.setIn(["openedPages","ResetPasswordForm"],t.isOpen);case se:return e.setIn(["errors","auth"],t.error);case ae:return e.setIn(["errors","registrate"],t.error);case ce:return e.setIn(["errors","gameRequest"],t.error);case oe:return e.setIn(["errors","movieRequest"],t.error);case ie:return e.setIn(["errors","showRequest"],t.error);case ue:return e.setIn(["errors","userPage"],t.error);case le:return e.setIn(["errors","resetPassword"],t.error);case de:return e.setIn(["errors","confirmPassword"],t.error);case G:return e.setIn(["isLoading","contentGame"],t.isLoading);case z:return e.setIn(["isLoading","contentGameUserInfo"],t.isLoading);case q:return e.setIn(["isLoading","contentMovie"],t.isLoading);case W:return e.setIn(["isLoading","contentMovieUserInfo"],t.isLoading);case H:return e.setIn(["isLoading","contentShow"],t.isLoading);case X:return e.setIn(["isLoading","contentShowUserInfo"],t.isLoading);case K:return e.setIn(["isLoading","contentShowSeasons",t.seasonNumber],t.isLoading);case V:return e.setIn(["isLoading","searchGames"],t.isLoading);case Y:return e.setIn(["isLoading","searchMovies"],t.isLoading);case Q:return e.setIn(["isLoading","searchShows"],t.isLoading);case J:return e.setIn(["isLoading","searchUsers"],t.isLoading);case $:return e.setIn(["isLoading","userPageContent"],t.isLoading);case Z:return e.setIn(["isLoading","userPageLogs"],t.isLoading);case ee:return e.setIn(["isLoading","userPageFriendsLogs"],t.isLoading);case te:return e.setIn(["isLoading","userCalendar"],t.isLoading);case ne:return e.setIn(["isLoading","userSettings"],t.isLoading);case re:return e.setIn(["isLoading","userUnwatched"],t.isLoading);default:return e}}),as(Object(rs.a)(ss.a)));o.a.render(Object(r.jsx)(u.a,{store:cs,children:Object(r.jsx)(es,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ts?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ns(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ns(t,e)}))}}();t.default=cs}},[[485,1,2]]]);
//# sourceMappingURL=main.eecebbd8.chunk.js.map