(this.webpackJsonpinterests=this.webpackJsonpinterests||[]).push([[0],{241:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n(1),a=n.n(r),c=n(22),i=n.n(c),o=(n(238),n(239),n(240),n(241),n(17)),u=n(13),l=n(4),d=n.n(l),h=n(6),j=n(24),b=n(39),f=n(10),p=n(12),m=n.n(p),g=n(64),v=n.n(g),O="http://35.193.124.214:8001/",x=O+"users/auth/login/",w=O+"users/auth/refresh-token/",S=O+"users/auth/signup/",y=O+"users/auth/confirm_email/",k=O+"users/auth/password_reset/",_=O+"users/auth/confirm_password_reset/",I=O+"users/user/user_settings/",N=O+"games/game/",C=O+"games/search/rawg/",E=O+"games/search/",F=O+"movies/movie/",B=O+"movies/search/tmdb/",U=O+"movies/search/",q=O+"shows/show/",L=O+"shows/search/tmdb/",D=O+"shows/search/",R=O+"shows/show/unwatched_episodes/",z=O+"users/user/",A=O+"users/user/release_calendar/",P=O+"users/search/",T={headers:{"Content-Type":"application/json;charset=UTF-8"}};function M(e,t){return W.apply(this,arguments)}function W(){return(W=Object(h.a)(d.a.mark((function e(t,n){var s,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(x,{username:t,password:n},T);case 2:return s=e.sent,r=v()(s.data.access),a={username:r.username,id:r.user_id,email:r.email},e.abrupt("return",{token:s.data.access,refreshToken:s.data.refresh,user:a});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return(H=Object(h.a)(d.a.mark((function e(t){var n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"!==typeof t&null!=t)){e.next=14;break}return e.prev=1,e.next=4,m.a.post(w,{refresh:t},T);case 4:return n=e.sent,s=v()(n.data.access),r={username:s.username,id:s.user_id,email:s.email},e.abrupt("return",{token:n.data.access,user:r});case 10:return e.prev=10,e.t0=e.catch(1),console.log("axios error: "+e.t0),e.abrupt("return",null);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function K(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(S,{username:t,email:n,password:s},T);case 2:return r=e.sent,(a=r.data).status=r.status,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.patch(y+"?uid64="+t+"&token="+n);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return X.apply(this,arguments)}function X(){return(X=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put(k,{email:t},T);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(h.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.patch(_+"?reset_token="+t,{password:n},T);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=new(function(){function e(){var t=this;Object(j.a)(this,e),this.loggedIn=!1,this.user={username:"",email:"",id:null},this.authState="",this.registrateState="",this.confirmEmailState="",this.resetPasswordState="",this.confirmPasswordState="",this.tryAuth=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authState="pending",M(n,s).then(t.authSuccess,t.authFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.authSuccess=function(e){localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("token",e.token),localStorage.setItem("tokenTime",Date.now()),t.loggedIn=!0,t.user=e.user,t.authState="done"},this.authFailure=function(e){t.authState="error: "+e.response.data.detail},this.checkAuthorization=Object(h.a)(d.a.mark((function e(){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===localStorage.getItem("token")|Date.now()-localStorage.getItem("tokenTime")>29e4)){e.next=16;break}return e.next=3,G(localStorage.getItem("refreshToken"));case 3:if(null===(n=e.sent)){e.next=12;break}return localStorage.setItem("token",n.token),localStorage.setItem("tokenTime",Date.now()),t.loggedIn=!0,t.user=n.user,e.abrupt("return",!0);case 12:return t.resetAuthorization(),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return s=v()(localStorage.getItem("token")),t.user={username:s.username,id:s.user_id,email:s.email},t.loggedIn=!0,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)}))),this.resetAuthorization=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loggedIn=!1,t.user={username:"",id:null,email:""},localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),localStorage.removeItem("tokenTime");case 5:case"end":return e.stop()}}),e)}))),this.register=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.registrateState="pending",K(n,s,r).then(t.registerSuccess,t.registerFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.registerSuccess=function(e){t.user={login:e.username,email:e.email},t.registrateState="done"},this.registerFailure=function(e){var n="";for(var s in e.response.data)n+=e.response.data[s]+"\n";t.registrateState="error: "+n},this.confirmEmail=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.confirmEmailState="pending",Q(n,s).then(t.confirmEmailSuccess,t.confirmEmailFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.confirmEmailSuccess=function(e){t.confirmEmailState="done"},this.confirmEmailFailure=function(e){var n="";for(var s in e.response.data)n+=e.response.data[s]+"\n";t.confirmEmailState="error: "+n},this.resetPassword=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.resetPasswordState="pending",V(n).then(t.resetPasswordSuccess,t.resetPasswordFailure);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetPasswordSuccess=function(e){t.resetPasswordState="done"},this.resetPasswordFailure=function(e){t.resetPasswordState="error: "+e},this.confirmPassword=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.confirmPasswordState="",$(n,s).then(t.confirmPasswordSuccess,t.confirmPasswordFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.confirmPasswordSuccess=function(e){t.confirmPasswordState="done"},this.confirmPasswordFailure=function(e){var n="";for(var s in e.response.data)n+=e.response.data[s]+"\n";t.confirmPasswordState="error: "+n},Object(f.m)(this)}return Object(b.a)(e,[{key:"currentUser",get:function(){return this.user}}]),e}()),te=n(7),ne=n(21),se=new function e(){var t=this;Object(j.a)(this,e),this.LoginFormIsOpen=!1,this.RegistrateFormIsOpen=!1,this.ResetPasswordFormIsOpen=!1,this.saveEpisodesBlockIsOpen=!1,this.sidebarIsToggled="true"===localStorage.getItem("sidebarToggled"),this.sidebarIsCollapsed="true"===localStorage.getItem("sidebarCollapsed"),this.toggleSidebar=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.sidebarIsToggled=!t.sidebarIsToggled,t.sidebarIsToggled||(t.sidebarIsCollapsed=!1),localStorage.setItem("sidebarToggled",t.sidebarIsToggled);case 3:case"end":return e.stop()}}),e)}))),this.collapseSidebar=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(localStorage.getItem("sidebarToggled")),t.sidebarIsCollapsed=!t.sidebarIsCollapsed,localStorage.setItem("sidebarCollapsed",t.sidebarIsCollapsed);case 3:case"end":return e.stop()}}),e)}))),this.openLoginForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.LoginFormIsOpen=!0;case 1:case"end":return e.stop()}}),e)}))),this.closeLoginForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.LoginFormIsOpen=!1;case 1:case"end":return e.stop()}}),e)}))),this.openRegistrateForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.RegistrateFormIsOpen=!0;case 1:case"end":return e.stop()}}),e)}))),this.closeRegistrateForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.RegistrateFormIsOpen=!1;case 1:case"end":return e.stop()}}),e)}))),this.openResetPasswordForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ResetPasswordFormIsOpen=!0;case 1:case"end":return e.stop()}}),e)}))),this.closeResetPasswordForm=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ResetPasswordFormIsOpen=!1;case 1:case"end":return e.stop()}}),e)}))),this.setSaveEpisodes=function(e){return t.saveEpisodesBlockIsOpen=e},Object(f.m)(this)};function re(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function ae(){var e=Object(r.useState)(re()),t=Object(te.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){function e(){s(re())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}function ce(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(h.a)(d.a.mark((function e(t,n){var s,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return r="Bearer "+t,e.next=4,m.a.get(z+n+"/",{headers:{Authorization:r}});case 4:a=e.sent,s=a.data,e.next=12;break;case 8:return e.next=10,m.a.get(z+n+"/");case 10:c=e.sent,s=c.data;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(P,{params:{query:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,n){return de.apply(this,arguments)}function de(){return(de=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.put(z+s+"/follow/",n,{headers:{Authorization:r}});case 3:if(204!==(a=e.sent).status&&200!==a.status&&201!==a.status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t,n,s){return je.apply(this,arguments)}function je(){return(je=Object(h.a)(d.a.mark((function e(t,n,s,r){var a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return c="Bearer "+t,e.next=4,m.a.get(z+n+"/log/",{params:{page:s,page_size:r},headers:{Authorization:c}});case 4:i=e.sent,a=i.data,e.next=12;break;case 8:return e.next=10,m.a.get(z+n+"/log/",{params:{page:s,page_size:r}});case 10:o=e.sent,a=o.data;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,n,s){return fe.apply(this,arguments)}function fe(){return(fe=Object(h.a)(d.a.mark((function e(t,n,s,r){var a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="Bearer "+t,e.next=3,m.a.get(z+"friends_log/",{params:{page:s,page_size:r},headers:{Authorization:c}});case 3:return i=e.sent,a=i.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return me.apply(this,arguments)}function me(){return(me=Object(h.a)(d.a.mark((function e(t){var n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="Bearer "+t,e.next=3,m.a.get(A,{headers:{Authorization:s}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(h.a)(d.a.mark((function e(t){var n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="Bearer "+t,e.next=3,m.a.get(I,{headers:{Authorization:s}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(h.a)(d.a.mark((function e(t,n){var s,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.patch(I,n,{headers:{Authorization:r}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(h.a)(d.a.mark((function e(t,n){var s,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return r="Bearer "+t,e.next=4,m.a.get(N+n+"/",{headers:{Authorization:r}});case 4:a=e.sent,s=a.data,e.next=12;break;case 8:return e.next=10,m.a.get(N+n+"/");case 10:c=e.sent,s=c.data;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t,n){return ke.apply(this,arguments)}function ke(){return(ke=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.put(N+n+"/",s,{headers:{Authorization:r}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(h.a)(d.a.mark((function e(t,n,s){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(C,{params:{query:t,page:n,page_size:s}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(E,{params:{query:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(h.a)(d.a.mark((function e(t,n){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="Bearer "+t,e.next=3,m.a.get(N+n+"/user_info/",{headers:{Authorization:s}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(h.a)(d.a.mark((function e(t,n){var s,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return r="Bearer "+t,e.next=4,m.a.get(F+n+"/",{headers:{Authorization:r}});case 4:a=e.sent,s=a.data,e.next=12;break;case 8:return e.next=10,m.a.get(F+n+"/");case 10:c=e.sent,s=c.data;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t,n){return Le.apply(this,arguments)}function Le(){return(Le=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.put(F+n+"/",s,{headers:{Authorization:r}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(h.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(B,{params:{query:t,page:n}});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(U,{params:{query:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(h.a)(d.a.mark((function e(t,n){var s,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.get(F+n+"/user_info/",{headers:{Authorization:r}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){return We.apply(this,arguments)}function We(){return(We=Object(h.a)(d.a.mark((function e(t,n){var s,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return r="Bearer "+t,e.next=4,m.a.get(q+n+"/",{headers:{Authorization:r}});case 4:a=e.sent,s=a.data,e.next=12;break;case 8:return e.next=10,m.a.get(q+n+"/");case 10:c=e.sent,s=c.data;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,n){return He.apply(this,arguments)}function He(){return(He=Object(h.a)(d.a.mark((function e(t,n,s){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a="Bearer "+t,e.next=4,m.a.get(q+n+"/season/"+s,{headers:{Authorization:a}});case 4:c=e.sent,r=c.data,e.next=12;break;case 8:return e.next=10,m.a.get(q+n+"/season/"+s);case 10:i=e.sent,r=i.data;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,n,s){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(h.a)(d.a.mark((function e(t,n,s,r){var a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return c="Bearer "+t,e.next=4,m.a.get(q+n+"/season/"+s+"/episode/"+r,{headers:{Authorization:c}});case 4:i=e.sent,a=i.data,e.next=12;break;case 8:return e.next=10,m.a.get(q+n+"/season/"+s+"/episode/"+r);case 10:o=e.sent,a=o.data;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t,n){return Je.apply(this,arguments)}function Je(){return(Je=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.put(q+n+"/",s,{headers:{Authorization:r}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t,n,s){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(h.a)(d.a.mark((function e(t,n,s,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer "+t,e.next=3,m.a.put(q+n+"/season/"+s+"/",r,{headers:{Authorization:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t,n){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(h.a)(d.a.mark((function e(t,n,s){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.put(q+n+"/episodes/",s,{headers:{Authorization:r}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(h.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(L,{params:{query:t,page:n}});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return st.apply(this,arguments)}function st(){return(st=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(D,{params:{query:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(h.a)(d.a.mark((function e(t,n){var s,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Bearer "+t,e.next=3,m.a.get(q+n+"/user_info/",{headers:{Authorization:r}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t,n){return it.apply(this,arguments)}function it(){return(it=Object(h.a)(d.a.mark((function e(t,n,s){var r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer "+t,e.next=3,m.a.get(q+n+"/season/"+s+"/user_info/",{headers:{Authorization:a}});case 3:return c=e.sent,r=c.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t,n,s){return ut.apply(this,arguments)}function ut(){return(ut=Object(h.a)(d.a.mark((function e(t,n,s,r){var a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="Bearer "+t,e.next=3,m.a.get(q+n+"/season/"+s+"/episode/"+r+"/user_info/",{headers:{Authorization:c}});case 3:return i=e.sent,a=i.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(h.a)(d.a.mark((function e(t){var n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="Bearer "+t,e.next=3,m.a.get(R,{headers:{Authorization:s}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},m.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},m.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"},m.a.defaults.headers.common={"Content-Type":"application/json;charset=UTF-8"};var ht=new function e(){var t=this;Object(j.a)(this,e),this.games=[],this.movies=[],this.shows=[],this.users=[],this.hints={games:[],shows:[],movies:[]},this.currentQuery="",this.gamesState="done",this.moviesState="done",this.showsState="done",this.usersState="done",this.searchHints=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.currentQuery!==n&&(t.currentQuery=n,Ne(n).then(t.searchGamesHintsSuccess),ze(n).then(t.searchMoviesHintsSuccess),nt(n).then(t.searchShowsHintsSuccess));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.searchGamesHintsSuccess=function(e){t.hints.games=e},this.searchMoviesHintsSuccess=function(e){t.hints.movies=e},this.searchShowsHintsSuccess=function(e){t.hints.shows=e},this.searchGames=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.gamesState="pending",_e(n,s,r).then(t.searchGamesSuccess,t.searchGamesFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.searchGamesSuccess=function(e){t.games=e,t.gamesState="done"},this.searchGamesFailure=function(e){t.gamesState="error: "+e},this.searchMovies=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.moviesState="pending",De(n,s).then(t.searchMoviesSuccess,t.searchMoviesFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.searchMoviesSuccess=function(e){t.movies=e.results,t.moviesState="done"},this.searchMoviesFailure=function(e){t.moviesState="error: "+e},this.searchShows=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showsState="pending",et(n,s).then(t.searchShowsSuccess,t.searchShowsFailure);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.searchShowsSuccess=function(e){t.shows=e.results,t.showsState="done"},this.searchShowsFailure=function(e){t.showsState="error: "+e},this.searchUsers=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.usersState="pending",oe(n).then(t.searchUsersSuccess,t.searchUsersFailure);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.searchUsersSuccess=function(e){t.users=e,t.usersState="done"},this.searchUsersFailure=function(e){t.usersState="error: "+e},Object(f.m)(this)},jt=n(5),bt=Object(u.a)((function(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(te.a)(n,2),c=a[0],i=a[1],o=Object(ne.f)(),u=ht.searchHints,l=ht.hints;return Object(s.jsx)("form",{onSubmit:function(e){t(e),i("")},children:Object(s.jsxs)("div",{className:"searchInputDiv",children:[Object(s.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a","aria-label":"\u041f\u043e\u0438\u0441\u043a",id:"searchInput",value:c,onChange:function(e){i(e.target.value),u(e.target.value)}}),Object(s.jsxs)("div",{className:"searchHints",hidden:""===c||!(l.games.length>0||l.movies.length>0||l.shows.length>0),children:[Object(s.jsxs)("div",{hidden:!l.games.length>0,children:[Object(s.jsx)(jt.g,{icon:"gamepad"}),l.games.map((function(e,t){var n;return Object(s.jsxs)("a",{href:window.location.origin+"/game/"+e.rawg_slug,className:"searchHint",onClick:function(t){o.push("/game/"+e.rawg_slug),t.preventDefault(),i("")},children:[Object(s.jsx)("img",{src:e.rawg_backdrop_path,alt:""}),e.rawg_name,Object(s.jsx)("div",{children:null===e||void 0===e||null===(n=e.rawg_release_date)||void 0===n?void 0:n.substr(0,4)})]},t)}))]}),Object(s.jsxs)("div",{hidden:!l.movies.length>0,children:[Object(s.jsx)(jt.g,{icon:"film"}),l.movies.map((function(e,t){var n;return Object(s.jsxs)("a",{href:window.location.origin+"/movie/"+e.tmdb_id,className:"searchHint",onClick:function(t){o.push("/movie/"+e.tmdb_id),t.preventDefault(),i("")},children:[Object(s.jsx)("img",{src:e.tmdb_backdrop_path,alt:""}),e.tmdb_name,Object(s.jsx)("div",{children:null===e||void 0===e||null===(n=e.tmdb_release_date)||void 0===n?void 0:n.substr(0,4)})]},t)}))]}),Object(s.jsxs)("div",{hidden:!l.shows.length>0,children:[Object(s.jsx)(jt.g,{icon:"tv"}),l.shows.map((function(e,t){var n;return Object(s.jsxs)("a",{href:window.location.origin+"/show/"+e.tmdb_id,className:"searchHint",onClick:function(t){o.push("/show/"+e.tmdb_id),t.preventDefault(),i("")},children:[Object(s.jsx)("img",{src:e.tmdb_backdrop_path,alt:""}),e.tmdb_name,Object(s.jsx)("div",{children:null===e||void 0===e||null===(n=e.tmdb_release_date)||void 0===n?void 0:n.substr(0,4)})]},t)}))]})]})]})})})),ft=Object(u.a)((function(e){var t=se.toggleSidebar,n=se.openLoginForm,a=ae().width,c=ee.loggedIn,i=ee.user,o=Object(ne.f)(),u=Object(r.useState)(!0),l=Object(te.a)(u,2),d=l[0],h=l[1];function j(){a<=600&&h(!0)}return Object(s.jsxs)("div",{className:"navbar",children:[Object(s.jsxs)("div",{className:"navbarLeft",children:[Object(s.jsx)("div",{onClick:t,className:"sidebarButton",children:Object(s.jsx)(jt.g,{icon:"bars"})}),Object(s.jsx)("div",{onClick:function(){return o.push("/")},className:"navLogo",children:"Interests"}),Object(s.jsx)("div",{onClick:function(){h(!d)},className:"collapseButton",children:d?Object(s.jsx)(jt.g,{icon:"angle-down"}):Object(s.jsx)(jt.g,{icon:"angle-up"})})]}),Object(s.jsx)("div",{className:"navbarCenter ".concat(d&&a<=600?" collapsed":""),children:Object(s.jsx)(bt,{onSubmit:function(e){e.preventDefault(),o.push("/search/"+document.getElementById("searchInput").value),j()}})}),Object(s.jsxs)("div",{className:"navbarRight ".concat(d&&a<=600?" collapsed":""),children:[Object(s.jsxs)("div",{onClick:function(){o.push("/user/".concat(i.id)),j()},className:"navUserButton",hidden:!c,children:[Object(s.jsx)(jt.g,{icon:"user-circle"})," ",i.username]}),Object(s.jsxs)("div",{onClick:n,className:"navUserButton",hidden:c,children:[Object(s.jsx)(jt.g,{icon:"sign-in-alt"})," \u0412\u043e\u0439\u0442\u0438"]})]})]})}));var pt=function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"footerName",children:"Interests"}),Object(s.jsx)("p",{children:"info@interests.fun"}),"2020-2021"]}),Object(s.jsxs)("div",{className:"socialBlock",children:[Object(s.jsx)("p",{children:"\u0421\u043b\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u043d\u0430\u043c\u0438 \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043a\u0443\u0440\u0441\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439!"}),Object(s.jsx)("a",{href:"https://vk.com/interests_fun",className:"footerSocialLink",children:Object(s.jsx)(jt.g,{fab:!0,icon:"vk"})}),Object(s.jsx)("a",{href:"https://discord.gg/wXkUF5tKee",className:"footerSocialLink",children:Object(s.jsx)(jt.g,{fab:!0,icon:"discord"})})]}),Object(s.jsxs)("div",{className:"socialBlock",children:[Object(s.jsx)("h5",{children:"\u0421\u0430\u0439\u0442 \u0431\u044b\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u043f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435"}),Object(s.jsx)("a",{href:"https://rawg.io/",className:"rawgLogo",children:"RAWG"}),Object(s.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(s.jsx)("div",{className:"tmdbLogo"})})]})]})},mt=n(29),gt=Object(u.a)((function(e){var t=Object(ne.f)(),n=ae().width,r=ee.loggedIn,a=ee.user,c=ee.resetAuthorization,i=se.sidebarIsCollapsed,o=se.sidebarIsToggled,u=se.collapseSidebar,l=se.toggleSidebar,d=se.openLoginForm,h=se.openRegistrateForm;function j(){n<1780&&n>1440&&!i&&u(),n<=1440&&l()}return Object(s.jsxs)(mt.c,{className:"sideNav",collapsed:i,hidden:!o,children:[Object(s.jsxs)(mt.a,{iconShape:"round",hidden:!r,children:[Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"user-circle"}),children:Object(s.jsx)("a",{href:"/user/".concat(a.id),onClick:function(e){e.preventDefault(),t.push("/user/".concat(a.id)),j()},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"user-friends"}),children:Object(s.jsx)("a",{href:"/user/".concat(a.id,"/\u0414\u0440\u0443\u0437\u044c\u044f"),onClick:function(e){e.preventDefault(),t.push("/user/".concat(a.id,"/\u0414\u0440\u0443\u0437\u044c\u044f")),j()},children:"\u0414\u0440\u0443\u0437\u044c\u044f"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"tv"}),children:Object(s.jsx)("a",{href:"/unwatched",onClick:function(e){e.preventDefault(),t.push("/unwatched"),j()},children:"\u041d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"calendar-day"}),children:Object(s.jsx)("a",{href:"/calendar",onClick:function(e){e.preventDefault(),t.push("/calendar"),j()},children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"cog"}),children:Object(s.jsx)("a",{href:"/settings",onClick:function(e){e.preventDefault(),t.push("/settings"),j()},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"sign-out-alt"}),children:Object(s.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),c()},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(s.jsxs)(mt.a,{iconShape:"round",hidden:r,children:[Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"sign-in-alt"}),children:Object(s.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),d(),j()},children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(s.jsx)(mt.b,{icon:Object(s.jsx)(jt.g,{icon:"user-plus"}),children:Object(s.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),h(),j()},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(s.jsx)(mt.d,{children:Object(s.jsx)(mt.a,{iconShape:"round",children:Object(s.jsx)(mt.b,{icon:i?Object(s.jsx)(jt.g,{icon:"arrow-right"}):Object(s.jsx)(jt.g,{icon:"arrow-left"}),onClick:u,children:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})})})]})})),vt=Object(u.a)((function(e){var t=ee.tryAuth,n=ee.authState,a=se.LoginFormIsOpen,c=se.closeLoginForm,i=se.openResetPasswordForm,o=se.openRegistrateForm,u=Object(r.useState)(""),l=Object(te.a)(u,2),d=l[0],h=l[1],j=Object(r.useState)(""),b=Object(te.a)(j,2),f=b[0],p=b[1];return Object(r.useEffect)((function(){"done"===n&&c()}),[n,c]),Object(s.jsx)(jt.j,{isOpen:a,toggle:c,size:"sm",centered:!0,children:Object(s.jsx)(jt.k,{className:"loginBody",children:Object(s.jsx)(jt.d,{children:Object(s.jsx)(jt.n,{children:Object(s.jsx)(jt.c,{children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(f,d)},children:[Object(s.jsx)("p",{className:"h4 text-center mb-4",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(s.jsx)("p",{className:"note note-danger",hidden:!n.startsWith("error:"),children:n}),Object(s.jsx)("label",{htmlFor:"loginInput",className:"grey-text",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(s.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:f,onChange:function(e){return p(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"passwordInput",className:"grey-text",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:d,onChange:function(e){return h(e.target.value)}}),Object(s.jsxs)("div",{className:"text-center mt-4",children:[Object(s.jsx)(jt.b,{type:"submit",className:"confirmButton",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(s.jsx)("label",{className:"passwordResetLabel",onClick:function(){c(),i()},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("label",{className:"passwordResetLabel",onClick:function(){c(),o()},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})})})})})})),Ot=Object(u.a)((function(e){var t=ee.register,n=ee.registrateState,a=ee.user,c=se.RegistrateFormIsOpen,i=se.closeRegistrateForm,o=Object(r.useState)(""),u=Object(te.a)(o,2),l=u[0],d=u[1],h=Object(r.useState)(""),j=Object(te.a)(h,2),b=j[0],f=j[1],p=Object(r.useState)(""),m=Object(te.a)(p,2),g=m[0],v=m[1],O=Object(r.useState)(""),x=Object(te.a)(O,2),w=x[0],S=x[1];return Object(s.jsx)(jt.j,{isOpen:c,toggle:i,size:"sm",centered:!0,children:Object(s.jsx)(jt.k,{className:"registrationBody",children:Object(s.jsx)(jt.d,{children:Object(s.jsx)(jt.n,{children:Object(s.jsx)(jt.c,{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"note note-danger",hidden:!n.startsWith("error:"),children:n}),Object(s.jsxs)("p",{className:"note note-success",hidden:""===a.email,children:[a.login,", \u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443"]}),Object(s.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(s.jsx)("label",{htmlFor:"loginInput",children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),Object(s.jsx)("input",{type:"text",id:"loginInput",className:"form-control",value:w,onChange:function(e){return S(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"emailInput",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(s.jsx)("input",{type:"email",id:"emailInput",className:"form-control",value:g,onChange:function(e){return v(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"passwordInput",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{type:"password",id:"passwordInput",className:"form-control",value:b,onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"passwordConfirmInput",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(s.jsx)("input",{type:"password",id:"passwordConfirmInput",className:"form-control",style:l===b?{outlineColor:"green"}:{outlineColor:"red"},value:l,onChange:function(e){return d(e.target.value)}}),Object(s.jsx)("div",{className:"text-center mt-4",children:Object(s.jsx)(jt.b,{type:"button",className:"confirmButton",disabled:b!==l||w.length<1||g.length<1||b.length<1,onClick:function(){return t(w,g,b)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})})})})})),xt=Object(u.a)((function(e){var t=ee.resetPassword,n=ee.resetPasswordState,a=se.ResetPasswordFormIsOpen,c=se.closeResetPasswordForm,i=Object(r.useState)(""),o=Object(te.a)(i,2),u=o[0],l=o[1];return Object(s.jsx)(jt.j,{isOpen:a,toggle:c,size:"sm",centered:!0,children:Object(s.jsx)(jt.k,{className:"loginBody",children:Object(s.jsx)(jt.d,{children:Object(s.jsx)(jt.n,{children:Object(s.jsx)(jt.c,{children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(u)},children:[Object(s.jsx)("p",{className:"h4 text-center mb-4",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("p",{className:"note note-danger",hidden:!n.startsWith("error:"),children:n}),Object(s.jsx)("p",{className:"note note-success",hidden:"done"!==n,children:"\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e"}),Object(s.jsx)("label",{htmlFor:"emailInput",className:"grey-text",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(s.jsx)("input",{type:"text",id:"emailInput",className:"form-control",value:u,onChange:function(e){return l(e.target.value)}}),Object(s.jsx)("div",{className:"text-center mt-4",children:Object(s.jsx)(jt.b,{type:"submit",className:"confirmButton",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]})})})})})})})),wt=n(16),St=n(211),yt=n(210),kt=(n(141),Object(u.a)((function(e){var t=Object(ne.f)(),n=ee.user,r=ee.loggedIn,a=se.openLoginForm;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg textureBG"}),Object(s.jsx)("div",{className:"contentPage",children:Object(s.jsxs)("div",{className:"contentBody header",children:[Object(s.jsx)("h2",{children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 Interests!"}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"\u0427\u0442\u043e \u044d\u0442\u043e?"}),Object(s.jsx)("h5",{children:"Interests - \u0441\u0430\u0439\u0442 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u043e\u0432, \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0438 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440. "}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"\u041a\u0430\u043a\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0443 \u0441\u0430\u0439\u0442\u0430?"}),Object(s.jsx)("h5",{children:"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0433\u043e \u0432\u0430\u043c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430, \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0435\u043c\u0443 \u043e\u0446\u0435\u043d\u043a\u0438 \u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0437\u044b\u0432\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439."}),Object(s.jsxs)("h5",{children:["\u0412"," ",Object(s.jsx)("a",{href:"/user/"+n.id,onClick:function(e){e.preventDefault(),r?t.push("/user/"+n.id):a()},children:"\u043f\u0440\u043e\u0444\u0438\u043b\u0435"})," ","\u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0433\u0440\u044b, \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u0430\u0448\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430."]}),Object(s.jsxs)("h5",{children:["C \u043f\u043e\u043c\u043e\u0449\u044c\u044e ",Object(s.jsx)("a",{href:"/search/example",children:"\u043f\u043e\u0438\u0441\u043a\u0430"})," \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0449\u0438\u0439 \u0432\u0430\u0441 \u0442\u0430\u0439\u0442\u043b \u0438\u043b\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430."]}),Object(s.jsxs)("h5",{children:["\u0412 ",Object(s.jsx)("a",{href:"/calendar/",children:"\u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0435"})," \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044b \u0432\u0441\u0435 \u0433\u0440\u044f\u0434\u0443\u0449\u0438\u0435 \u0440\u0435\u043b\u0438\u0437\u044b \u0438\u0437 \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 email \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043d\u043e\u0432\u044b\u0445 \u0440\u0435\u043b\u0438\u0437\u0430\u0445 \u0432"," ",Object(s.jsx)("a",{href:"/settings/",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445"})]}),Object(s.jsxs)("h5",{children:["\u0420\u0430\u0437\u0434\u0435\u043b ",Object(s.jsx)("a",{href:"/unwatched/",children:"\u043d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435"})," \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u043f\u0440\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0438\u0439 \u0432\u0430\u0448\u0438\u0445 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432."]}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430"}),Object(s.jsx)("h5",{children:'\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0444\u0438\u043b\u044c\u043c\u0430, \u0441\u0435\u0440\u0438\u0430\u043b\u0430 \u0438\u043b\u0438 \u0438\u0433\u0440\u044b \u0435\u0441\u0442\u044c \u0431\u043b\u043e\u043a \u043a\u043d\u043e\u043f\u043e\u043a, \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0438\u0437 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432. \u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430, \u043a\u0440\u043e\u043c\u0435 "\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b" \u0438\u043b\u0438 "\u041d\u0435 \u0438\u0433\u0440\u0430\u043b", \u0442\u0430\u0439\u0442\u043b \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0432\u0430\u043c \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c.'}),Object(s.jsx)("h5",{children:'\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430, \u0442\u0430\u0439\u0442\u043b \u0431\u0443\u0434\u0435\u0442 \u043f\u043e \u0440\u0430\u0437\u043d\u043e\u043c\u0443 \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0430\u0439\u0442\u043b\u044b \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c "\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c" \u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438. \u0418\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c "\u0414\u0440\u043e\u043f\u043d\u0443\u043b" \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0430\u0445 \u041d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435 \u0438 \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c.'}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"\u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(s.jsx)("h5",{children:"\u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0432\u0441\u0435\u0445 \u0441\u0432\u043e\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044c, \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0414\u0440\u0443\u0437\u044c\u044f."}),Object(s.jsx)("h5",{children:"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043b\u044e\u0431\u043e\u0433\u043e \u0442\u0430\u0439\u0442\u043b\u0430 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044b \u043e\u0442\u0437\u044b\u0432\u044b \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439, \u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u043e\u0446\u0435\u043d\u0438\u043b\u0438 \u0435\u0433\u043e \u0440\u0430\u043d\u0435\u0435."})]})})]})}))),_t=new(function(){function e(){var t=this;Object(j.a)(this,e),this.game={},this.gameState="done",this.userInfo={status:null,review:"",score:0,spent_time:0},this.friendsInfo=[],this.userInfoState="done",this.setStatusState="done",this.requestGame=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.gameState="pending",e.next=3,ee.checkAuthorization();case 3:we(localStorage.getItem("token"),n).then(t.requestGameSuccess,t.requestGameFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestGameSuccess=function(e){t.game=e,t.gameState="done"},this.requestGameFailure=function(e){console.log(e.response.statusText),t.gameState="error: "+e.response.statusText},this.requestUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userInfoState="pending",e.next=3,ee.checkAuthorization();case 3:Ee(localStorage.getItem("token"),n).then(t.requestUserInfoSuccess,t.requestUserInfoFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestUserInfoSuccess=function(e){t.userInfo=e.user_info,t.friendsInfo=e.friends_info,t.userInfoState="done"},this.requestUserInfoFailure=function(e){t.userInfoState="error: "+e},this.setGameStatus=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}t.setStatusState="pending",ye(localStorage.getItem("token"),t.game.slug,n).then(t.setGameStatusSuccess,t.setGameStatusFailure);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setGameStatusSuccess=function(e){t.setStatusState="done"},this.setGameStatusFailure=function(e){t.setStatusState="error: "+e},Object(f.m)(this)}return Object(b.a)(e,[{key:"anyError",get:function(){return this.gameState.startsWith("error:")?this.gameState:this.userInfoState.startsWith("error:")?this.userInfoState:this.setStatusState.startsWith("error:")?this.setStatusState:null}}]),e}()),It=new function e(){var t=this;Object(j.a)(this,e),this.calendar={},this.settings={},this.unwatched=[],this.calendarState="done",this.settingsState="done",this.unwatchedState="done",this.saveSettingsState="done",this.requestCalendar=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.checkAuthorization()&&(t.calendarState="pending",pe(localStorage.getItem("token")).then(t.requestCalendarSuccess,t.requestCalendarFailure));case 1:case"end":return e.stop()}}),e)}))),this.requestCalendarSuccess=function(e){t.calendar=e,t.calendarState="done"},this.requestCalendarFailure=function(e){t.calendarState="error: "+e},this.requestSettings=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.checkAuthorization()&&(t.settingsState="pending",ge(localStorage.getItem("token")).then(t.requestSettingsSuccess,t.requestSettingsFailure));case 1:case"end":return e.stop()}}),e)}))),this.requestSettingsSuccess=function(e){t.settings=e,t.settingsState="done"},this.requestSettingsFailure=function(e){t.settingsState="error: "+e},this.requestUnwatched=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.checkAuthorization()&&(t.unwatchedState="pending",lt(localStorage.getItem("token")).then(t.requestUnwatchedSuccess,t.requestUnwatchedFailure));case 1:case"end":return e.stop()}}),e)}))),this.requestUnwatchedSuccess=function(e){t.unwatched=e,t.unwatchedState="done"},this.requestUnwatchedFailure=function(e){t.unwatchedState="error: "+e},this.patchSettings=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.checkAuthorization()&&(t.saveSettingsState="pending",Oe(localStorage.getItem("token"),n).then(t.patchSettingsSuccess,t.patchSettingsFailure));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.patchSettingsReset=function(){t.saveSettingsState="done"},this.patchSettingsSuccess=function(e){t.saveSettingsState="saved",t.settings=e,setTimeout(t.patchSettingsReset,1e3)},this.patchSettingsFailure=function(e){t.saveSettingsState="error: "+e},Object(f.m)(this)},Nt=n(15),Ct=n.n(Nt);var Et=function(e){var t=e.statuses,n=(e.activeColor,e.onChangeStatus),r=e.userStatus;return Object(s.jsx)("div",{className:"contentStatuses",children:t.map((function(e,t){return Object(s.jsx)("button",{className:"contentStatus"+(r===e?" active":""),onClick:function(){n(e)},children:e},e)}))})},Ft=n(25);function Bt(e){return 11<=e&&e<=14?"\u0447\u0430\u0441\u043e\u0432":e%10===1?"\u0447\u0430\u0441":2<=e%10&&e%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432"}var Ut=function(e){var t=e.info,n=Object(ne.f)();return Object(s.jsxs)("div",{className:"fActivityBlock",children:[Object(s.jsx)("h5",{className:"fActivityUser",children:Object(s.jsx)("a",{href:window.location.origin+"/user/"+t.user.id,onClick:function(e){n.push("/user/"+t.user.id),e.preventDefault()},children:t.user.username})}),Object(s.jsxs)("div",{className:"fActivityInfo",children:[Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",title:e})})),initialRating:t.score,className:"fActivityInfoText",readonly:!0}),Object(s.jsxs)("p",{className:"fActivityInfoText",children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",t.status," "]}),Object(s.jsxs)("p",{className:"fActivityInfoText",hidden:!t.spent_time,children:["\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0434\u0435\u043d\u0438\u044f: ",t.spent_time," ",Bt(t.spent_time)]}),Object(s.jsxs)("p",{className:"fActivityInfoText",hidden:""===t.review,children:["\u041e\u0442\u0437\u044b\u0432: ",t.review]})]})]})};var qt=function(e){var t=e.info;return Object(s.jsx)("div",{children:"undefined"!==typeof t?null===t||void 0===t?void 0:t.map((function(e){return Object(s.jsx)(Ut,{info:e},e.user.id)})):""})};var Lt=function(e){var t=e.hltbInfo;return Object(s.jsxs)("div",{hidden:!t||(null===t||void 0===t?void 0:t.gameplay_main)<0&(null===t||void 0===t?void 0:t.gameplay_main_extra)<0&(null===t||void 0===t?void 0:t.gameplay_completionist)<0,children:[Object(s.jsx)("p",{style:{display:"inline"},children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: "}),Object(s.jsxs)("div",{hidden:(null===t||void 0===t?void 0:t.gameplay_main)<0,style:{display:"inline"},children:[Object(s.jsx)(jt.g,{far:!0,icon:"clock",className:"light-green-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442"}),Object(s.jsx)("span",{className:"hs"}),null===t||void 0===t?void 0:t.gameplay_main," ",null===t||void 0===t?void 0:t.gameplay_main_unit,Object(s.jsx)("span",{className:"hs"})]})," ",Object(s.jsx)("p",{style:{display:"inline"},children:" "}),Object(s.jsxs)("div",{hidden:(null===t||void 0===t?void 0:t.gameplay_main_extra)<0,style:{display:"inline"},children:[Object(s.jsx)(jt.g,{far:!0,icon:"clock",className:"yellow-text",title:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u044e\u0436\u0435\u0442 + \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"}),Object(s.jsx)("span",{className:"hs"}),null===t||void 0===t?void 0:t.gameplay_main_extra," ",null===t||void 0===t?void 0:t.gameplay_main_extra_unit,Object(s.jsx)("span",{className:"hs"})]})," ",Object(s.jsx)("p",{style:{display:"inline"},children:" "}),Object(s.jsxs)("div",{hidden:(null===t||void 0===t?void 0:t.gameplay_completionist)<0,style:{display:"inline"},children:[Object(s.jsx)(jt.g,{far:!0,icon:"clock",className:"red-text",title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435"}),Object(s.jsx)("span",{className:"hs"}),null===t||void 0===t?void 0:t.gameplay_completionist," ",null===t||void 0===t?void 0:t.gameplay_completionist_unit]})]})};var Dt=function(e){var t=e.score,n=e.text,r=e.className;return Object(s.jsxs)("div",{hidden:!t,className:r,children:[Object(s.jsx)("div",{className:"metacritic "+function(e){switch(!0){case e>=80:return"green";case e>=60&&e<80:return"yellow";case e<60:return"red";default:return"green"}}(t),children:Object(s.jsx)("p",{children:t})}),Object(s.jsx)("p",{className:"metacriticText",children:n})]})};var Rt=function(e){var t=e.initialRating,n=e.readonly,r=e.onChange,a=e.size;return Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x",style:{fontSize:a}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",style:{fontSize:a},title:e})})),initialRating:t,readonly:n,onChange:r,style:{marginBottom:"10px"}})},zt=Object(u.a)((function(e){var t=_t.game,n=_t.gameState,a=_t.requestGame,c=_t.setGameStatus,i=_t.userInfo,o=_t.friendsInfo,u=_t.userInfoState,l=_t.requestUserInfo,d=_t.anyError,h=It.patchSettings,j=It.saveSettingsState,b=ee.loggedIn,f=se.openLoginForm,p=Object(ne.g)().id,m=Object(r.useState)(""),g=Object(te.a)(m,2),v=g[0],O=g[1],x=Object(r.useState)(""),w=Object(te.a)(x,2),S=w[0],y=w[1],k=Object(r.useState)("\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"),_=Object(te.a)(k,2),I=_[0],N=_[1],C=Object(r.useState)(0),E=Object(te.a)(C,2),F=E[0],B=E[1];function U(){O(""),y(""),N("\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"),B(0)}function q(e){if(e&-1!==e)return e.indexOf("\xbd")+1?parseFloat(e)+.5:parseFloat(e)}return Object(r.useEffect)((function(){U(),a(p)}),[p,a]),Object(r.useEffect)((function(){b?l(p):U()}),[p,b]),Object(r.useEffect)((function(){document.title=t.name}),[t]),Object(r.useEffect)((function(){(null===i||void 0===i?void 0:i.status)?(O(i.review),y(i.spent_time),N(i.status),B(i.score)):U()}),[i]),Object(r.useEffect)((function(){d&&wt.b.error(d)}),[d]),Object(r.useEffect)((function(){j.startsWith("error:")?wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u043e\u043d\u0430! ".concat(j)):"saved"===j&&wt.b.success("\u0424\u043e\u043d \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d!")}),[j]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(t.background,")")}}),Object(s.jsx)(Ct.a,{active:"pending"===n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsxs)("div",{className:"contentHeader",children:[Object(s.jsx)("div",{className:"posterBlock widePoster",children:Object(s.jsx)("img",{src:t.poster,className:"img-fluid",alt:""})}),Object(s.jsxs)("div",{className:"infoBlock tightInfo",children:[Object(s.jsx)("h1",{className:"header",children:t.name}),Object(s.jsxs)("div",{className:"mainInfo",children:[Object(s.jsxs)("p",{children:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438: ",t.developers]}),Object(s.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",t.release_date]}),Object(s.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",t.genres]}),Object(s.jsxs)("p",{children:["\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b: ",t.platforms]}),Object(s.jsx)(Lt,{hltbInfo:t.hltb})]}),Object(s.jsxs)(Ct.a,{active:"pending"===u&&"pending"!==n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(Rt,{initialRating:F,readonly:!b|"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===I,onChange:function(e){B(e),c({score:e})},size:"1.5rem"}),Object(s.jsx)(Et,{statuses:["\u041d\u0435 \u0438\u0433\u0440\u0430\u043b","\u0411\u0443\u0434\u0443 \u0438\u0433\u0440\u0430\u0442\u044c","\u0418\u0433\u0440\u0430\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u0440\u043e\u0448\u0435\u043b"],activeColor:"#4527a0",userStatus:I,onChangeStatus:function(e){b?(N(e),c({status:e}),"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===e&&(O(""),B(0))):f()}})]}),Object(s.jsx)(Dt,{score:t.metacritic,text:"Metascore",className:"scoreBlock"})]})]}),Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.overview}}),Object(s.jsx)("button",{className:"saveReviewButton",hidden:!b,onClick:function(){h({backdrop_path:t.background})},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u043a \u0444\u043e\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]}),Object(s.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(s.jsx)("div",{className:"reviewBody",hidden:!b,children:Object(s.jsxs)(Ct.a,{active:"pending"===u&&"pending"!==n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(jt.i,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:v,onChange:function(e){return O(e.target.value)},outline:!0}),Object(s.jsx)(jt.i,{type:"number",id:"spentTimeInput",label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f (\u0447\u0430\u0441\u044b)",list:"timesList",value:S,onChange:function(e){return y(e.target.value)}}),function(){var e,n,r;return t.hltb?Object(s.jsxs)("datalist",{id:"timesList",children:[Object(s.jsx)("option",{value:q(null===(e=t.hltb)||void 0===e?void 0:e.gameplay_main_extra),className:"testil"}),Object(s.jsx)("option",{value:q(null===(n=t.hltb)||void 0===n?void 0:n.gameplay_main)}),Object(s.jsx)("option",{value:q(null===(r=t.hltb)||void 0===r?void 0:r.gameplay_completionist)})]}):null}(),Object(s.jsx)("button",{className:"saveReviewButton",disabled:!b|"\u041d\u0435 \u0438\u0433\u0440\u0430\u043b"===I,onClick:function(){b?c({review:v,spent_time:S}):f()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}),Object(s.jsx)("div",{className:"additionalBody"}),Object(s.jsxs)("div",{className:"friendsBlock",hidden:!b|(null===o||void 0===o?void 0:o.length)<1,children:[Object(s.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(s.jsx)(qt,{info:o})]})]})]})})]})})),At=new(function(){function e(){var t=this;Object(j.a)(this,e),this.movie={tmdb:{title:"",poster_path:"",developers:[{}]}},this.movieState="done",this.userInfo={status:null,review:"",score:0,friends_info:[]},this.friendsInfo=[],this.userInfoState="done",this.setStatusState="done",this.requestMovie=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.movieState="pending",e.next=3,ee.checkAuthorization();case 3:Be(localStorage.getItem("token"),n).then(t.requestMovieSuccess,t.requestMovieFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestMovieSuccess=function(e){t.movie=e,console.log(e),t.movieState="done"},this.requestMovieFailure=function(e){t.movieState="error: "+e},this.requestUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userInfoState="pending",e.next=3,ee.checkAuthorization();case 3:Pe(localStorage.getItem("token"),n).then(t.requestUserInfoSuccess,t.requestUserInfoFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestUserInfoSuccess=function(e){t.userInfo=e.user_info,t.friendsInfo=e.friends_info,t.userInfoState="done"},this.requestUserInfoFailure=function(e){t.userInfoState="error: "+e},this.setMovieStatus=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}t.setStatusState="pending",qe(localStorage.getItem("token"),t.movie.id,n).then(t.setMovieStatusSuccess,t.setMovieStatusFailure);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setMovieStatusSuccess=function(e){t.setStatusState="done"},this.setMovieStatusFailure=function(e){t.setStatusState="error: "+e},Object(f.m)(this)}return Object(b.a)(e,[{key:"anyError",get:function(){return this.movieState.startsWith("error:")?this.movieState:this.userInfoState.startsWith("error:")?this.userInfoState:this.setStatusState.startsWith("error:")?this.setStatusState:null}}]),e}()),Pt=Object(u.a)((function(e){var t=At.movie,n=At.movieState,a=At.requestMovie,c=At.setMovieStatus,i=At.userInfo,o=At.friendsInfo,u=At.userInfoState,l=At.requestUserInfo,d=At.anyError,h=ee.loggedIn,j=It.patchSettings,b=It.saveSettingsState,f=se.openLoginForm,p=Object(ne.g)().id,m=Object(r.useState)(""),g=Object(te.a)(m,2),v=g[0],O=g[1],x=Object(r.useState)("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),w=Object(te.a)(x,2),S=w[0],y=w[1],k=Object(r.useState)(0),_=Object(te.a)(k,2),I=_[0],N=_[1];return Object(r.useEffect)((function(){O(""),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),N(0),a(p)}),[p,a]),Object(r.useEffect)((function(){h?l(p):(O(""),N(0),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[h,p]),Object(r.useEffect)((function(){document.title=t.name}),[t]),Object(r.useEffect)((function(){(null===i||void 0===i?void 0:i.status)?(O(i.review),y(i.status),N(i.score)):(O(""),N(0),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[i]),Object(r.useEffect)((function(){d&&wt.b.error(d)}),[d]),Object(r.useEffect)((function(){b.startsWith("error:")?wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u043e\u043d\u0430! ".concat(b)):"saved"===b&&wt.b.success("\u0424\u043e\u043d \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d!")}),[b]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(t.backdrop_path,")")}}),Object(s.jsx)(Ct.a,{active:"pending"===n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsxs)("div",{className:"contentHeader",children:[Object(s.jsx)("div",{className:"posterBlock tightPoster",children:Object(s.jsx)("img",{src:t.poster_path,className:"img-fluid",alt:""})}),Object(s.jsxs)("div",{className:"infoBlock wideInfo",children:[Object(s.jsx)("h1",{className:"header",children:t.name}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:t.original_name}),Object(s.jsxs)("div",{className:"mainInfo",children:[Object(s.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430: ",t.release_date]}),Object(s.jsxs)("p",{children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",t.runtime]}),Object(s.jsxs)("p",{children:["\u0416\u0430\u043d\u0440: ",t.genres]}),Object(s.jsxs)("p",{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",t.production_companies]}),Object(s.jsxs)("p",{children:["\u0421\u043b\u043e\u0433\u0430\u043d: ",t.tagline]}),Object(s.jsxs)("p",{children:["\u0412 \u0440\u043e\u043b\u044f\u0445: ",t.cast]}),Object(s.jsxs)("p",{children:["\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440: ",t.directors]})]}),Object(s.jsxs)(Ct.a,{active:"pending"===u&&"pending"===!n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(Rt,{initialRating:I,readonly:!h|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===S,onChange:function(e){N(e),c({score:e})},size:"1.5rem"}),Object(s.jsx)(Et,{statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:S,onChangeStatus:function(e){h?(y(e),c({status:e}),"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===e&&(O(""),N(0))):f()}})]}),Object(s.jsx)(Dt,{score:t.score,text:"TMDB score",className:"scoreBlock"})]})]}),Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.overview}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"saveReviewButton",hidden:!h,onClick:function(){j({backdrop_path:t.backdrop_path})},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u043a \u0444\u043e\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]}),Object(s.jsxs)("div",{className:"reviewBody",hidden:!h,children:[Object(s.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(s.jsxs)(Ct.a,{active:"pending"===u&&"pending"===!n,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(jt.i,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:v,onChange:function(e){return O(e.target.value)},outline:!0}),Object(s.jsx)("button",{className:"saveReviewButton",disabled:!h|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===S,onClick:function(){c({review:v})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(s.jsxs)("div",{className:"friendsBlock",hidden:!h|(null===o||void 0===o?void 0:o.length)<1,children:[Object(s.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(s.jsx)(qt,{info:o})]})]})]})})]})})),Tt=n(28),Mt=new(function(){function e(){var t=this;Object(j.a)(this,e),this.show={},this.showState="done",this.userInfo={status:null,review:"",score:0},this.friendsInfo=[],this.userInfoState="done",this.showSeasons={},this.showSeasonsState={},this.showSeasonsUserInfo={},this.showSeasonsUserInfoState={},this.setStatusState="done",this.requestShow=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showState="pending",e.next=3,ee.checkAuthorization();case 3:Me(localStorage.getItem("token"),n).then(t.requestShowSuccess,t.requestShowFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestShowSuccess=function(e){t.show=e,t.showState="done"},this.requestShowFailure=function(e){t.showState="error: "+e},this.requestSeason=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showState="pending",e.next=3,ee.checkAuthorization();case 3:Ge(localStorage.getItem("token"),n,s).then(t.requestSeasonSuccess,t.requestSeasonFailure);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.requestSeasonSuccess=function(e){t.show=e,t.showState="done"},this.requestSeasonFailure=function(e){t.showState="error: "+e},this.requestSeasons=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showSeasonsState[s]="pending",t.showSeasons[s]={},e.next=4,ee.checkAuthorization();case 4:Ge(localStorage.getItem("token"),n,s).then((function(e){return t.requestSeasonsSuccess(e,s)}),(function(e){return t.requestSeasonsFailure(e,s)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.requestSeasonsSuccess=function(e,n){t.showSeasons[n]=e,t.showSeasonsState[n]="done"},this.requestSeasonsFailure=function(e,n){t.showSeasonsState[n]="error: "+e},this.requestEpisode=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showState="pending",e.next=3,ee.checkAuthorization();case 3:Ke(localStorage.getItem("token"),n,s,r).then(t.requestEpisodeSuccess,t.requestEpisodeFailure);case 4:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.requestEpisodeSuccess=function(e){t.show=e,t.showState="done"},this.requestEpisodeFailure=function(e){t.showState="error: "+e},this.requestShowUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userInfoState="pending",e.next=3,ee.checkAuthorization();case 3:if(!e.sent){e.next=5;break}rt(localStorage.getItem("token"),n).then(t.requestShowUserInfoSuccess,t.requestShowUserInfoFailure);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestShowUserInfoSuccess=function(e){t.userInfo=e.user_info,t.friendsInfo=e.friends_info,t.userInfoState="done"},this.requestShowUserInfoFailure=function(e){t.userInfoState="error: "+e},this.requestSeasonUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}Object(f.p)((function(){return t.userInfoState="pending"})),ct(localStorage.getItem("token"),n,s).then(t.requestSeasonUserInfoSuccess,t.requestSeasonUserInfoFailure);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.requestSeasonUserInfoSuccess=function(e){t.userInfo=Object(Tt.a)(Object(Tt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show,episodes:e.episodes_user_info}),t.friendsInfo=e.friends_info,t.userInfoState="done"},this.requestSeasonUserInfoFailure=function(e){t.userInfoState="error: "+e},this.requestSeasonsUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showSeasonsUserInfo[s]={},e.next=3,ee.checkAuthorization();case 3:if(!e.sent){e.next=6;break}Object(f.p)((function(){return t.showSeasonsUserInfoState[s]="pending"})),ct(localStorage.getItem("token"),n,s).then((function(e){return t.requestSeasonsUserInfoSuccess(e,s)}),(function(e){return t.requestSeasonsUserInfoFailure(e,s)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.requestSeasonsUserInfoSuccess=function(e,n){t.showSeasonsUserInfoState[n]="done",t.showSeasonsUserInfo[n]=Object(Tt.a)(Object(Tt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show,episodes:e.episodes_user_info,friends_info:e.friends_info})},this.requestSeasonsUserInfoFailure=function(e,n){t.showSeasonsUserInfoState[n]="error: "+e},this.requestEpisodeUserInfo=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}Object(f.p)((function(){return t.userInfoState="pending"})),ot(localStorage.getItem("token"),n,s,r).then(t.requestEpisodeUserInfoSuccess,t.requestEpisodeUserInfoFailure);case 5:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.requestEpisodeUserInfoSuccess=function(e){t.userInfoState="done",console.log(Object(Tt.a)(Object(Tt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show})),t.userInfo=Object(Tt.a)(Object(Tt.a)({},e.user_info),{},{user_watched_show:e.user_watched_show}),t.friendsInfo=e.friends_info},this.requestEpisodeUserInfoFailure=function(e){t.userInfoState="error: "+e},this.setShowStatus=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}t.setStatusState="pending",Qe(localStorage.getItem("token"),t.show.id,n).then(t.setShowStatusSuccess,t.setShowStatusFailure);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setShowStatusSuccess=function(e){t.setStatusState="done"},this.setShowStatusFailure=function(e){t.setStatusState="error: "+e},this.setSeasonStatus=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}Object(f.p)((function(){return t.setStatusState="pending"})),Ve(localStorage.getItem("token"),s,r,n).then(t.setShowStatusSuccess,t.setShowStatusFailure);case 5:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.setEpisodesStatus=function(){var e=Object(h.a)(d.a.mark((function e(n,s){var r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:[],e.next=3,ee.checkAuthorization();case 3:if(!e.sent){e.next=6;break}Object(f.p)((function(){return t.setStatusState="pending"})),$e(localStorage.getItem("token"),s,n).then((function(e){if(r)for(var n in r)t.requestSeasonsUserInfo(s,r[n]);t.setShowStatusSuccess()}),t.setShowStatusFailure);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getShowSeason=function(e){return t.showSeasons[e]},this.getShowSeasonState=function(e){return t.showSeasonsState[e]},this.getShowSeasonUserInfo=function(e){return t.showSeasonsUserInfo[e]},this.getEpisodesUserInfo=function(e,n){for(var s in t.showSeasonsUserInfo[e].episodes){var r=t.showSeasonsUserInfo[e].episodes[s];if(r.tmdb_id===n)return r}return null},Object(f.m)(this)}return Object(b.a)(e,[{key:"anySeasonLoading",get:function(){for(var e in this.showSeasonsState)if("pending"===this.showSeasonsState[e])return!0;return!1}},{key:"anyError",get:function(){return this.showState.startsWith("error:")?this.gameState:this.userInfoState.startsWith("error:")?this.userInfoState:this.setStatusState.startsWith("error:")?this.setStatusState:null}}]),e}());var Wt=function(e){var t=e.episode,n=e.showID,a=e.setEpisodeUserStatus,c=e.loggedIn,i=e.userInfo,o=e.checkAll,u=e.userWatchedShow,l=e.setSaveEpisodes,d=Object(ne.f)(),h=Object(r.useState)(0),j=Object(te.a)(h,2),b=j[0],f=j[1],p=Object(r.useState)(!1),m=Object(te.a)(p,2),g=m[0],v=m[1];return Object(r.useEffect)((function(){f(null===i||void 0===i?void 0:i.score),v((null===i||void 0===i?void 0:i.score)>-1)}),[i]),Object(r.useEffect)((function(){-1===o?v(!1):1===o&&v(!0)}),[o]),Object(s.jsxs)("div",{className:"episodeRow detailRow",children:[Object(s.jsxs)("div",{className:"episodeRowCheckDate",children:[Object(s.jsx)("div",{className:"episodeRowCheck",hidden:!c||!u,children:Object(s.jsx)("input",{type:"checkbox",id:"cbEpisode".concat(t.id),checked:g,onChange:function(e){l(!0),v(e.target.checked)}})}),Object(s.jsx)("p",{className:"episodeRowDate",children:function(e){var t=new Date(e).toLocaleDateString("ru-RU");return"Invalid Date"!==t?t:"TBA"}(t.air_date)})]}),Object(s.jsx)("div",{hidden:!c||!u,className:"episodeRowRate",children:Object(s.jsx)(Ft.a,{start:-1,stop:10,emptySymbol:[Object(s.jsx)(jt.g,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(s.jsx)(jt.g,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",title:e})}))),readonly:!c,initialRating:b,onChange:function(e){f(e),v(e>-1),a({episodes:[{tmdb_id:t.id,score:e}]},n)}})}),Object(s.jsxs)("a",{className:"episodeRowName detailRow",href:window.location.origin+"/show/"+n+"/season/"+t.season_number+"/episode/"+t.episode_number,onClick:function(e){d.push("/show/"+n+"/season/"+t.season_number+"/episode/"+t.episode_number),e.preventDefault()},title:t.name,children:["\u0421\u0435\u0440\u0438\u044f ",t.episode_number," - ",t.name]})]})},Gt=Object(u.a)((function(e){var t,n=e.showID,a=e.seasonNumber,c=e.userWatchedShow,i=ee.loggedIn,o=se.openLoginForm,u=se.setSaveEpisodes,l=Mt.requestSeasons,d=Mt.requestSeasonsUserInfo,h=Mt.setEpisodesStatus,j=Mt.setSeasonStatus,b=Object(f.f)((function(){return Mt.getShowSeason(a)})).get(),p=Object(f.f)((function(){return Mt.getShowSeasonState(a)})).get(),m=Object(f.f)((function(){return Mt.getShowSeasonUserInfo(a)})).get(),g=Object(ne.f)(),v=Object(r.useState)(0),O=Object(te.a)(v,2),x=O[0],w=O[1],S=Object(r.useState)(0),y=Object(te.a)(S,2),k=y[0],_=y[1];function I(e,t){for(var n in e)if(e[n].tmdb_id===t)return e[n]}return Object(r.useEffect)((function(){w(0),_(0),l(n,a)}),[n,a,l]),Object(r.useEffect)((function(){w(0),_(0),i&&d(n,a)}),[i,n,a]),Object(r.useEffect)((function(){(null===m||void 0===m?void 0:m.score)?_(m.score):_(0)}),[m]),Object(s.jsx)(Ct.a,{active:"pending"===p,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"seasonBlock",children:[Object(s.jsx)("a",{href:window.location.origin+"/show/"+n+"/season/"+a,onClick:function(e){g.push("/show/"+n+"/season/"+a),e.preventDefault()},className:"name",children:Object(s.jsxs)("h5",{children:[" ",null===b||void 0===b?void 0:b.name," "]})}),Object(s.jsx)("div",{hidden:!i||!c,className:"name",children:Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",title:e})})),initialRating:k,onChange:function(e){i?(_(e),j({score:e},n,a)):o()}})}),Object(s.jsx)("br",{}),Object(s.jsxs)("details",{open:!0,className:"episodeRows",children:[Object(s.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(s.jsxs)("div",{style:{marginLeft:"5px"},hidden:!i||!c,children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\xa0",Object(s.jsx)("input",{type:"checkbox",checked:x>0,onChange:function(e){u(!0),w(e.target.checked?1:-1)}})]}),Object(s.jsx)("ul",{className:"content",children:null===b||void 0===b||null===(t=b.episodes)||void 0===t?void 0:t.map((function(e,t){return Object(s.jsx)("li",{className:"episode",children:Object(s.jsx)(Wt,{episode:e,showID:n,loggedIn:i,userInfo:I(null===m||void 0===m?void 0:m.episodes,null===e||void 0===e?void 0:e.id),setEpisodeUserStatus:h,checkAll:x,userWatchedShow:c,setSaveEpisodes:u})},t)})).reverse()})]})]},null===b||void 0===b?void 0:b.id)})})),Ht=Object(u.a)((function(e){var t=e.showID,n=e.seasons,r=e.userWatchedShow,a=Mt.showSeasonsUserInfo,c=Mt.showSeasons,i=Mt.setEpisodesStatus,o=Mt.setStatusState,u=Mt.anySeasonLoading,l=se.saveEpisodesBlockIsOpen,d=se.setSaveEpisodes,h=ee.loggedIn;function j(e,t){for(var n in e)if(e[n].tmdb_id===t)return e[n]}return Object(s.jsxs)(Ct.a,{active:"pending"===o,spinner:!0,text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435...",children:[Object(s.jsx)("button",{className:"checkAllEpisodesButton",hidden:!h|!r,disabled:u,onClick:function(){!function(){var e=[],n=[];for(var s in c)if(console.log(Object(f.q)(c)),"\u0421\u043f\u0435\u0446\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"!==c[s].name)for(var r in c[s].episodes)e.push({tmdb_id:c[s].episodes[r].id,score:0}),-1===n.indexOf(s)&&n.push(s);i({episodes:e},t,n),d(!1)}()},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b \u0432\u0435\u0441\u044c \u0441\u0435\u0440\u0438\u0430\u043b"}),null===n||void 0===n?void 0:n.map((function(e){return Object(s.jsx)(Gt,{showID:t,seasonNumber:e.season_number,userWatchedShow:r},e.season_number)})).reverse(),Object(s.jsx)("div",{className:"saveEpisodesHeader",hidden:!l,children:Object(s.jsx)("button",{className:"saveEpisodesButton",onClick:function(){!function(){var e=[],n=[];for(var s in c)for(var r in c[s].episodes){var o=j(a[s].episodes,c[s].episodes[r].id),u=document.getElementById("cbEpisode".concat(c[s].episodes[r].id)).checked;u!==(null===o||void 0===o?void 0:o.score)>-1&&(e.push({tmdb_id:c[s].episodes[r].id,score:u?0:-1}),-1===n.indexOf(s)&&n.push(s))}i({episodes:e},t,n),d(!1)}()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})),Kt=Object(u.a)((function(e){var t=ee.loggedIn,n=se.openLoginForm,a=It.patchSettings,c=It.saveSettingsState,i=Mt.requestShow,o=Mt.show,u=Mt.showState,l=Mt.setShowStatus,d=Mt.requestShowUserInfo,h=Mt.userInfo,j=Mt.friendsInfo,b=Mt.userInfoState,f=Mt.anyError,p=Object(ne.g)().id,m=Object(r.useState)(""),g=Object(te.a)(m,2),v=g[0],O=g[1],x=Object(r.useState)("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),w=Object(te.a)(x,2),S=w[0],y=w[1],k=Object(r.useState)(0),_=Object(te.a)(k,2),I=_[0],N=_[1];return Object(r.useEffect)((function(){O(""),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"),N(0),i(p)}),[p,i]),Object(r.useEffect)((function(){t?d(p):(O(""),N(0),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[t,p]),Object(r.useEffect)((function(){document.title=o.name}),[o]),Object(r.useEffect)((function(){(null===h||void 0===h?void 0:h.status)?(O(h.review),y(h.status),N(h.score)):(O(""),N(0),y("\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"))}),[h]),Object(r.useEffect)((function(){f&&wt.b.error(f)}),[f]),Object(r.useEffect)((function(){c.startsWith("error:")?wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u043e\u043d\u0430! ".concat(c)):"saved"===c&&wt.b.success("\u0424\u043e\u043d \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d!")}),[c]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(o.backdrop_path,")")}}),Object(s.jsx)(Ct.a,{active:"pending"===u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsxs)("div",{className:"contentHeader",children:[Object(s.jsx)("div",{className:"posterBlock tightPoster",children:Object(s.jsx)("img",{src:o.poster_path,className:"img-fluid",alt:""})}),Object(s.jsxs)("div",{className:"infoBlock wideInfo",children:[Object(s.jsx)("h1",{className:"header",children:o.name}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:o.original_name}),Object(s.jsxs)("div",{className:"mainInfo",children:[Object(s.jsxs)("p",{hidden:!o.genres,children:["\u0416\u0430\u043d\u0440: ",o.genres]}),Object(s.jsxs)("p",{hidden:!o.production_companies,children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",o.production_companies]}),Object(s.jsxs)("p",{hidden:!o.first_air_date,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0435\u0440\u0438\u0438: ",o.first_air_date]}),Object(s.jsxs)("p",{hidden:!o.last_air_date,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0441\u0435\u0440\u0438\u0438: ",o.last_air_date]}),Object(s.jsxs)("p",{hidden:null===o.episode_runtime,children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d): ",o.episode_run_time]}),Object(s.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0437\u043e\u043d\u043e\u0432: ",o.seasons_count]}),Object(s.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",o.episodes_count]}),Object(s.jsxs)("p",{hidden:!o.status,children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",o.status]})]}),Object(s.jsxs)(Ct.a,{active:"pending"===b&&"pending"===!u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:I,readonly:!t|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===S,onChange:function(e){t?(N(e),l({score:e})):n()}})," ",Object(s.jsx)("br",{}),Object(s.jsx)(Et,{loggedIn:t,statuses:["\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b","\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u0421\u043c\u043e\u0442\u0440\u044e","\u0414\u0440\u043e\u043f\u043d\u0443\u043b","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b"],activeColor:"#4527a0",userStatus:S,onChangeStatus:function(e){t?(y(e),l({status:e}),"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===e&&(O(""),N(0))):n()}})]}),Object(s.jsx)(Dt,{score:o.score,text:"TMDB score",className:"scoreBlock"})]})]}),Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:o.overview}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"saveReviewButton",hidden:!t,onClick:function(){a({backdrop_path:o.backdrop_path})},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u043a \u0444\u043e\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]}),Object(s.jsxs)("div",{className:"showSeasonsBody",children:[Object(s.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(s.jsx)(Ht,{showID:o.id,seasons:o.seasons,userWatchedShow:"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"!==S})]}),Object(s.jsxs)("div",{className:"reviewBody",hidden:!t,children:[Object(s.jsx)("h3",{style:{paddingTop:"10px"},children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(s.jsxs)(Ct.a,{active:"pending"===b&&"pending"===!u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(jt.i,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:v,onChange:function(e){return O(e.target.value)},outline:!0}),Object(s.jsx)("button",{className:"saveReviewButton",disabled:!t|"\u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"===S,onClick:function(){t?l({review:document.getElementById("reviewInput").value}):n()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(s.jsxs)("div",{className:"friendsBlock",hidden:j.length<1,children:[Object(s.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(s.jsx)(qt,{info:j})]})]})]})})]})})),Yt=n(11),Qt=Object(u.a)((function(e){var t,n,a,c,i,o=ee.loggedIn,u=Mt.requestSeason,l=Mt.show,d=Mt.showState,h=Mt.setSeasonStatus,j=Mt.setEpisodesStatus,b=Mt.requestSeasonUserInfo,f=Mt.userInfo,p=Mt.userInfoState,m=Mt.friendsInfo,g=Mt.setStatusState,v=se.openLoginForm,O=se.setSaveEpisodes,x=se.saveEpisodesBlockIsOpen,w=Object(ne.f)(),S=Object(ne.g)(),y=S.show_id,k=S.number,_=Object(r.useState)(""),I=Object(te.a)(_,2),N=I[0],C=I[1],E=Object(r.useState)(0),F=Object(te.a)(E,2),B=F[0],U=F[1],q=Object(r.useState)([]),L=Object(te.a)(q,2),D=L[0],R=L[1],z=Object(r.useState)(0),A=Object(te.a)(z,2),P=A[0],T=A[1];function M(e,t){for(var n in e)if(e[n].tmdb_id===t)return e[n]}return Object(r.useEffect)((function(){C(""),U(0),T(0),u(y,k)}),[y,k,u]),Object(r.useEffect)((function(){o?b(y,k):(C(""),U(0),T(0))}),[o,y,k]),Object(r.useEffect)((function(){var e;document.title=(null===(e=l.show)||void 0===e?void 0:e.tmdb_name)+" - "+l.name}),[l]),Object(r.useEffect)((function(){if(R([]),l.episodes&&l.episodes.length>0){var e=[];for(var t in l.episodes)l.episodes[t].vote_average>0&&e.push({name:"Ep "+l.episodes[t].episode_number,"\u041e\u0446\u0435\u043d\u043a\u0430":l.episodes[t].vote_average});R(e)}}),[l]),Object(r.useEffect)((function(){(null===f||void 0===f?void 0:f.review)?C(f.review):C(""),(null===f||void 0===f?void 0:f.score)?U(f.score):U(0)}),[f]),Object(r.useEffect)((function(){d.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(d))}),[d]),Object(r.useEffect)((function(){p.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438! ".concat(p))}),[p]),Object(r.useEffect)((function(){g.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f! ".concat(g))}),[g]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(null===(t=l.show)||void 0===t?void 0:t.tmdb_backdrop_path,")")}}),Object(s.jsx)(Ct.a,{active:"pending"===d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsxs)("div",{className:"contentHeader",children:[Object(s.jsx)("div",{className:"posterBlock tightPoster",children:Object(s.jsx)("img",{src:l.poster_path,className:"img-fluid",alt:""})}),Object(s.jsxs)("div",{className:"infoBlock wideInfo",children:[Object(s.jsxs)("h1",{className:"header",children:[Object(s.jsx)("a",{href:window.location.origin+"/show/"+(null===(n=l.show)||void 0===n?void 0:n.id),onClick:function(e){var t;w.push("/show/"+(null===(t=l.show)||void 0===t?void 0:t.tmdb_id)),e.preventDefault()},children:null===(a=l.show)||void 0===a?void 0:a.tmdb_name})," - "+l.name]}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:(null===(c=l.show)||void 0===c?void 0:c.tmdb_original_name)+" - Season "+l.season_number}),Object(s.jsxs)("div",{className:"mainInfo",children:[Object(s.jsxs)("p",{hidden:!l.air_date,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",l.air_date]}),Object(s.jsxs)("p",{hidden:!l.episodes,children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0440\u0438\u0439: ",null===(i=l.episodes)||void 0===i?void 0:i.length]})]}),Object(s.jsx)("div",{hidden:!o|!(null===f||void 0===f?void 0:f.user_watched_show),children:Object(s.jsxs)(Ct.a,{active:"pending"===p&&"pending"===!d,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})})),initialRating:B,onChange:function(e){o?(U(e),h({score:e},y,l.season_number)):v()}}),Object(s.jsx)(jt.i,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:N,onChange:function(e){return C(e.target.value)},outline:!0}),Object(s.jsx)("button",{className:"saveReviewButton",hidden:!o|!(null===f||void 0===f?void 0:f.user_watched_show),onClick:function(){h({review:document.getElementById("reviewInput").value},y,l.season_number)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})]})]}),Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:l.overview}})]}),Object(s.jsxs)("div",{className:"showSeasonsBody",children:[Object(s.jsx)("h3",{style:{paddingTop:"15px"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"}),Object(s.jsxs)("details",{open:!1,className:"episodeRows",style:{marginBottom:"15px"},children:[Object(s.jsx)("summary",{children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(s.jsxs)("div",{style:{marginLeft:"5px"},hidden:!o||!(null===f||void 0===f?void 0:f.user_watched_show),children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\xa0",Object(s.jsx)("input",{type:"checkbox",checked:P>0,onChange:function(e){O(!0),T(e.target.checked?1:-1)}})]}),Object(s.jsx)("ul",{children:l.episodes?l.episodes.map((function(e,t){return Object(s.jsx)("li",{className:"episode",children:Object(s.jsx)(Wt,{episode:e,showID:y,loggedIn:o,userInfo:M(f.episodes,e.id),setEpisodeUserStatus:j,checkAll:P,userWatchedShow:null===f||void 0===f?void 0:f.user_watched_show,setSaveEpisodes:O})},t)})):""})]}),Object(s.jsx)("div",{hidden:!(D.length>0),children:document.body.clientHeight<document.body.clientWidth?Object(s.jsx)(Yt.i,{width:"100%",height:200,children:Object(s.jsxs)(Yt.b,{data:D,margin:{top:10,right:20,left:0,bottom:0},children:[Object(s.jsx)("defs",{children:Object(s.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(s.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(s.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(s.jsx)(Yt.k,{dataKey:"name",interval:0,tick:{fill:"rgb(238, 238, 238)"}}),Object(s.jsx)(Yt.l,{tickLine:!1,domain:[0,10],tick:{fill:"rgb(238, 238, 238)"},tickCount:2}),Object(s.jsx)(Yt.j,{contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"}}),Object(s.jsx)(Yt.a,{type:"monotone",dataKey:"\u041e\u0446\u0435\u043d\u043a\u0430",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})}):Object(s.jsx)(Yt.i,{width:"100%",height:30*D.length,children:Object(s.jsxs)(Yt.b,{data:D,margin:{top:10,right:20,left:0,bottom:0},layout:"vertical",children:[Object(s.jsx)("defs",{children:Object(s.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(s.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(s.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(s.jsx)(Yt.l,{dataKey:"name",interval:0,tick:{fill:"rgb(238, 238, 238)"},type:"category"}),Object(s.jsx)(Yt.k,{tickLine:!1,domain:[0,10],tick:{fill:"rgb(238, 238, 238)"},tickCount:2,type:"number"}),Object(s.jsx)(Yt.j,{contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"}}),Object(s.jsx)(Yt.a,{type:"monotone",dataKey:"\u041e\u0446\u0435\u043d\u043a\u0430",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})})})]}),Object(s.jsxs)("div",{className:"friendsBlock",hidden:m.length<1,children:[Object(s.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(s.jsx)(qt,{info:m})]})]})]})}),Object(s.jsx)("div",{className:"saveEpisodesHeader",hidden:!x,children:Object(s.jsx)("button",{className:"saveEpisodesButton",onClick:function(){!function(){var e=[];for(var t in f.episodes){var n=f.episodes[t],s=document.getElementById("cbEpisode".concat(n.tmdb_id)).checked;s!==(null===n||void 0===n?void 0:n.score)>-1&&e.push({tmdb_id:n.tmdb_id,score:s?0:-1})}j({episodes:e},y),b(y,k),O(!1)}()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})),Jt=Object(u.a)((function(e){var t,n,a,c=ee.loggedIn,i=se.openLoginForm,o=Mt.requestEpisode,u=Mt.show,l=Mt.showState,d=Mt.setEpisodesStatus,h=Mt.requestEpisodeUserInfo,j=Mt.userInfo,b=Mt.userInfoState,f=Mt.friendsInfo,p=Mt.setStatusState,m=Object(ne.f)(),g=Object(ne.g)(),v=g.show_id,O=g.season_number,x=g.episode_number,w=Object(r.useState)(""),S=Object(te.a)(w,2),y=S[0],k=S[1],_=Object(r.useState)(-1),I=Object(te.a)(_,2),N=I[0],C=I[1];return Object(r.useEffect)((function(){k(""),C(-1),o(v,O,x)}),[v,O,x,o]),Object(r.useEffect)((function(){c?h(v,O,x):(k(""),C(-1))}),[c,v,O,x]),Object(r.useEffect)((function(){var e;document.title=(null===(e=u.show)||void 0===e?void 0:e.tmdb_name)+" - "+u.name}),[u]),Object(r.useEffect)((function(){(null===j||void 0===j?void 0:j.review)?k(j.review):k(""),(null===j||void 0===j?void 0:j.score)>-1?C(j.score):C(-1)}),[j]),Object(r.useEffect)((function(){l.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(l))}),[l]),Object(r.useEffect)((function(){b.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438! ".concat(b))}),[b]),Object(r.useEffect)((function(){p.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f! ".concat(p))}),[p]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg",style:{backgroundImage:"url(".concat(null===(t=u.show)||void 0===t?void 0:t.tmdb_backdrop_path,")")}}),Object(s.jsx)(Ct.a,{active:"pending"===l,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsxs)("div",{className:"contentHeader",children:[Object(s.jsx)("div",{className:"posterBlock widePoster",children:Object(s.jsx)("img",{src:u.still_path,className:"img-fluid",alt:""})}),Object(s.jsxs)("div",{className:"infoBlock tightInfo",children:[Object(s.jsxs)("h1",{className:"header",children:[Object(s.jsx)("a",{href:window.location.origin+"/show/"+v,onClick:function(e){m.push("/show/"+v),e.preventDefault()},children:null===(n=u.show)||void 0===n?void 0:n.tmdb_name})," - "+u.name]}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"-10px"},children:(null===(a=u.show)||void 0===a?void 0:a.tmdb_original_name)+" - Season "+u.season_number+" - Episode "+u.episode_number}),Object(s.jsxs)("div",{className:"mainInfo",children:[Object(s.jsxs)("p",{hidden:!u.air_date,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",u.air_date]}),Object(s.jsxs)("a",{href:window.location.origin+"/show/"+v+"/season/"+O,onClick:function(e){m.push("/show/"+v+"/season/"+O),e.preventDefault()},children:["\u0421\u0435\u0437\u043e\u043d: ",u.season_number]})]}),Object(s.jsx)("div",{hidden:!c|!(null===j||void 0===j?void 0:j.user_watched_show),children:Object(s.jsxs)(Ct.a,{active:"pending"===b&&"pending"===!l,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsx)(Ft.a,{start:-1,stop:10,emptySymbol:[Object(s.jsx)(jt.g,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x",style:{fontSize:"25px"}})}))),fullSymbol:[Object(s.jsx)(jt.g,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",style:{fontSize:"25px"},title:e})}))),initialRating:N,onChange:function(e){c?(C(e),d({episodes:[{tmdb_id:u.id,score:e}]},v)):i()}}),Object(s.jsx)(jt.i,{type:"textarea",id:"reviewInput",label:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432",value:y,onChange:function(e){return k(e.target.value)},outline:!0}),Object(s.jsx)("button",{className:"saveReviewButton",hidden:!c|!(null===j||void 0===j?void 0:j.user_watched_show),onClick:function(){c?d({episodes:[{tmdb_id:u.id,review:y}]},v):i()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}),Object(s.jsx)(Dt,{score:u.score,text:"TMDB score",className:"scoreBlock"})]})]}),Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:u.overview}})]}),Object(s.jsxs)("div",{className:"friendsBlock",hidden:f.length<1,children:[Object(s.jsx)("h4",{children:"\u041e\u0442\u0437\u044b\u0432\u044b \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(s.jsx)(qt,{info:f})]})]})]})})]})}));var Vt=function(e){var t=e.game,n=Object(ne.f)(),a=Object(r.useState)(""),c=Object(te.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){if(t.released){var e=t.released.split("-"),n=e[2]+"."+e[1]+"."+e[0];o(n)}else o("")}),[t]),Object(s.jsxs)("div",{className:"searchCard",children:[Object(s.jsx)("div",{className:"searchCardImage",style:{backgroundImage:"url(".concat(t.background_image,")")}}),Object(s.jsxs)("div",{className:"searchCardText",children:[Object(s.jsx)("div",{className:"searchCardName",children:Object(s.jsx)("a",{href:window.location.origin+"/game/"+t.slug,onClick:function(e){n.push("/game/"+t.slug),e.preventDefault()},title:t.name,children:Object(s.jsx)("h4",{children:t.name})})}),Object(s.jsx)("p",{children:i})]})]})};var Xt=function(e){var t=e.games,n=e.gamesPage,r=e.onPaginate,a=e.hidden;return Object(s.jsxs)("div",{hidden:a,children:[Object(s.jsx)("h3",{children:"\u0418\u0433\u0440\u044b"}),Object(s.jsxs)("div",{className:"reslutsBlock",children:[Object(s.jsx)("button",{className:"paginationButton",disabled:1===n,onClick:function(){r(n-1)},children:"<"}),Object(s.jsxs)("div",{className:"searchCardsGroup",children:[t.map((function(e){return Object(s.jsx)(Vt,{game:e},e.id)})),t.length<1?"\u0418\u0433\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":""]}),Object(s.jsx)("button",{className:"paginationButton",disabled:t.length<6,onClick:function(){r(n+1)},children:">"})]})]})};var $t=function(e){var t=e.movie,n=Object(ne.f)(),a=Object(r.useState)(""),c=Object(te.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){if(t.release_date){var e=t.release_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];o(n)}else o("")}),[t]),Object(s.jsxs)("div",{className:"searchCard",children:[Object(s.jsx)("div",{className:"searchCardImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")}}),Object(s.jsxs)("div",{className:"searchCardText",children:[Object(s.jsx)("div",{className:"searchCardName",children:Object(s.jsx)("a",{href:window.location.origin+"/movie/"+t.id,onClick:function(e){n.push("/movie/"+t.id),e.preventDefault()},title:t.title,children:Object(s.jsx)("h4",{children:t.title})})}),Object(s.jsx)("p",{children:i})]})]})};var Zt=function(e){var t=e.movies,n=e.moviesPage,r=e.onPaginate,a=e.hidden;return Object(s.jsxs)("div",{hidden:a,children:[Object(s.jsx)("h3",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(s.jsxs)("div",{className:"reslutsBlock",children:[Object(s.jsx)("button",{className:"paginationButton",disabled:1===n,onClick:function(){r(n-1)},children:"<"}),Object(s.jsxs)("div",{className:"searchCardsGroup",children:[t.map((function(e){return Object(s.jsx)($t,{movie:e},e.id)})),t.length<1?"\u0424\u0438\u043b\u044c\u043c\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":""]}),Object(s.jsx)("button",{className:"paginationButton",disabled:t.length<20,onClick:function(){r(n+1)},children:">"})]})]})};var en=function(e){var t=e.show,n=Object(ne.f)(),a=Object(r.useState)(""),c=Object(te.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){if(t.first_air_date){var e=t.first_air_date.split("-"),n=e[2]+"."+e[1]+"."+e[0];o(n)}else o("")}),[t]),Object(s.jsxs)("div",{className:"searchCard",children:[Object(s.jsx)("div",{className:"searchCardImage",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,")")}}),Object(s.jsxs)("div",{className:"searchCardText",children:[Object(s.jsx)("div",{className:"searchCardName",children:Object(s.jsx)("a",{href:window.location.origin+"/show/"+t.id,onClick:function(e){n.push("/show/"+t.id),e.preventDefault()},title:t.name,children:Object(s.jsx)("h4",{children:t.name})})}),Object(s.jsx)("p",{children:i})]})]})};var tn=function(e){var t=e.shows,n=e.showsPage,r=e.onPaginate,a=e.hidden;return Object(s.jsxs)("div",{hidden:a,children:[Object(s.jsx)("h3",{children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(s.jsxs)("div",{className:"reslutsBlock",children:[Object(s.jsx)("button",{className:"paginationButton",disabled:1===n,onClick:function(){r(n-1)},children:"<"}),Object(s.jsxs)("div",{className:"searchCardsGroup",children:[t.map((function(e){return Object(s.jsx)(en,{show:e},e.id)})),t.length<1?"\u0421\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":""]}),Object(s.jsx)("button",{className:"paginationButton",disabled:t.length<20,onClick:function(){r(n+1)},children:">"})]})]})};var nn=function(e){var t=e.user,n=Object(ne.f)();return Object(s.jsxs)("a",{href:window.location.origin+"/user/"+t.id,onClick:function(e){n.push("/user/"+t.id),e.preventDefault()},className:"cardUser",children:[Object(s.jsx)("div",{className:"cardUserImage",style:{backgroundImage:"url(".concat("http://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png",")")}}),Object(s.jsx)("div",{className:"cardUserText",children:Object(s.jsx)("h4",{children:t.username})})]})};var sn=function(e){var t=e.users;return Object(s.jsxs)("div",{className:"friendsCards",children:[t.map((function(e){return Object(s.jsx)(nn,{user:e},e.id)})),t.length<1?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":""]})};var rn=function(e){var t=e.users,n=e.hidden;return Object(s.jsxs)("div",{hidden:n,children:[Object(s.jsx)("h3",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(s.jsx)(sn,{users:t})]})};var an=function(e){var t=e.categories,n=e.onChangeCategory,r=e.activeCategory,a=e.hidden,c=e.children;return Object(s.jsxs)("div",{hidden:a,className:"categoriesTabs",children:[Object(s.jsx)("div",{className:"tabs",children:t.map((function(e,t){return Object(s.jsx)("button",{className:"categoriesTab"+(r===e?" active":""),onClick:function(){n(e)},children:e},t)}))}),Object(s.jsx)("div",{className:"categoryContent",children:c})]})},cn=Object(u.a)((function(e){var t=ht.gamesState,n=ht.searchGames,a=ht.games,c=ht.moviesState,i=ht.searchMovies,o=ht.movies,u=ht.showsState,l=ht.searchShows,d=ht.shows,h=ht.usersState,j=ht.searchUsers,b=ht.users,f=Object(ne.f)(),p=Object(ne.g)().query,m=Object(r.useState)(""),g=Object(te.a)(m,2),v=g[0],O=g[1],x=Object(r.useState)(1),w=Object(te.a)(x,2),S=w[0],y=w[1],k=Object(r.useState)(1),_=Object(te.a)(k,2),I=_[0],N=_[1],C=Object(r.useState)(1),E=Object(te.a)(C,2),F=E[0],B=E[1],U=Object(r.useState)("\u0412\u0441\u0451"),q=Object(te.a)(U,2),L=q[0],D=q[1];return Object(r.useEffect)((function(){"\u0412\u0441\u0451"!==L&&"\u0418\u0433\u0440\u044b"!==L||n(p,1,6),"\u0412\u0441\u0451"!==L&&"\u0424\u0438\u043b\u044c\u043c\u044b"!==L||i(p,1),"\u0412\u0441\u0451"!==L&&"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==L||l(p,1),"\u0412\u0441\u0451"!==L&&"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"!==L||j(p),O(p),document.title="\u041f\u043e\u0438\u0441\u043a",y(1),N(1),B(1)}),[p,n,i,j,l,L]),Object(r.useEffect)((function(){t.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u0433\u0440! ".concat(t))}),[t]),Object(r.useEffect)((function(){c.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432! ".concat(c))}),[c]),Object(r.useEffect)((function(){u.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u043b\u043e\u0432! ".concat(u))}),[u]),Object(r.useEffect)((function(){h.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439! ".concat(h))}),[h]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg textureBG"}),Object(s.jsx)("div",{className:"contentPage",children:Object(s.jsxs)("div",{className:"contentBody header",children:[Object(s.jsx)("h1",{children:"\u041f\u043e\u0438\u0441\u043a"}),Object(s.jsxs)(jt.f,{className:"md-form",onSubmit:function(e){return e.preventDefault(),f.push("/search/"+document.getElementById("searchInput2").value),!1},children:[Object(s.jsx)(jt.g,{icon:"search"}),Object(s.jsx)("input",{className:"form-control form-control-sm ml-3 w-50",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438","aria-label":"Search",id:"searchInput2",value:v,onChange:function(e){return O(e.target.value)}})]}),Object(s.jsxs)(an,{categories:["\u0412\u0441\u0451","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"],activeCategory:L,onChangeCategory:function(e){D(e)},children:[Object(s.jsx)(Ct.a,{active:"pending"===t,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0438\u0433\u0440\u044b...",children:Object(s.jsx)(Xt,{games:a,gamesPage:S,onPaginate:function(e){y(e),n(p,e,6)},hidden:"\u0412\u0441\u0451"!==L&&"\u0418\u0433\u0440\u044b"!==L})}),Object(s.jsx)(Ct.a,{active:"pending"===c,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u044b...",children:Object(s.jsx)(Zt,{movies:o,moviesPage:I,onPaginate:function(e){N(e),i(p,e)},hidden:"\u0412\u0441\u0451"!==L&&"\u0424\u0438\u043b\u044c\u043c\u044b"!==L})}),Object(s.jsx)(Ct.a,{active:"pending"===u,spinner:!0,text:"\u0418\u0449\u0435\u043c \u0441\u0435\u0440\u0438\u0430\u043b\u044b...",children:Object(s.jsx)(tn,{shows:d,showsPage:F,onPaginate:function(e){B(e),l(p,e)},hidden:"\u0412\u0441\u0451"!==L&&"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==L})}),Object(s.jsx)(Ct.a,{active:"pending"===h,spinner:!0,text:"\u0418\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439...",children:Object(s.jsx)(rn,{users:b,hidden:"\u0412\u0441\u0451"!==L&&"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"!==L})})]})]})})]})})),on=Object(u.a)((function(e){var t=ee.confirmEmail,n=ee.confirmEmailState,a=Object(ne.f)(),c=window.location.search,i=new URLSearchParams(c),o=i.get("uid64"),u=i.get("token");return Object(r.useEffect)((function(){t(o,u)}),[]),Object(r.useEffect)((function(){n.startsWith("error")&&a.push("/404page")}),[n]),Object(s.jsx)("div",{className:"bg",children:Object(s.jsx)("div",{hidden:"done"!==n,className:"confirmEmailSuccess",children:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430!"})})})),un=Object(u.a)((function(e){var t=ee.confirmPassword,n=ee.confirmPasswordState,a=Object(r.useState)(""),c=Object(te.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(""),l=Object(te.a)(u,2),d=l[0],h=l[1],j=window.location.search,b=new URLSearchParams(j).get("token");return Object(s.jsx)("div",{className:"bg",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(b,i)},className:"confirmPasswordForm",children:[Object(s.jsx)("p",{className:"h4",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("p",{className:"note note-danger",hidden:!n.startsWith("error:"),children:n}),Object(s.jsx)("p",{className:"note note-success",hidden:"done"!==n,children:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!"}),Object(s.jsx)("label",{htmlFor:"passwordInput",className:"confirmPasswordLabel",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",id:"passwordInput",className:"confirmPasswordInput",value:i,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{htmlFor:"passwordConfurmInput",className:"confirmPasswordLabel",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",id:"passwordConfurmInput",className:"confirmPasswordInput",value:d,onChange:function(e){return h(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",className:"confirmPasswordButton",disabled:i!==d|i.length<1,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})})),ln=new function e(){var t=this;Object(j.a)(this,e),this.user={},this.userLogs={},this.userFriendsLogs={log:[]},this.userState="done",this.userLogsState="done",this.userFriendsLogsState="done",this.setUserStatusState="done",this.requestUser=function(){var e=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userState="pending",e.next=3,ee.checkAuthorization();case 3:ce(localStorage.getItem("token"),n).then(t.requestUserSuccess,t.requestUserFailure);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestUserSuccess=function(e){t.user=e,t.userState="done"},this.requestUserFailure=function(e){t.userState="error: "+e},this.requestUserLogs=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userLogsState="pending",e.next=3,ee.checkAuthorization();case 3:he(localStorage.getItem("token"),n,s,r).then(t.requestLogsSuccess,t.requestLogsFailure);case 4:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.requestLogsSuccess=function(e){t.userLogs=e,t.userLogsState="done"},this.requestLogsFailure=function(e){403===e.response.status?t.userLogsState="forbidden":t.userLogsState="error: "+e},this.requestUserFriendsLogs=function(){var e=Object(h.a)(d.a.mark((function e(n,s,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userFriendsLogsState="pending",e.next=3,ee.checkAuthorization();case 3:be(localStorage.getItem("token"),n,s,r).then(t.requestFriendsLogsSuccess,t.requestFriendsLogsFailure);case 4:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),this.requestFriendsLogsSuccess=function(e){t.userFriendsLogs=e,t.userFriendsLogsState="done"},this.requestFriendsLogsFailure=function(e){t.userFriendsLogsState="error: "+e},this.setUserStatus=function(){var e=Object(h.a)(d.a.mark((function e(n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.checkAuthorization();case 2:if(!e.sent){e.next=5;break}t.setUserStatusState="pending",le(localStorage.getItem("token"),n,s).then(t.setUserStatusSuccess,t.setUserStatusFailure);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.setUserStatusSuccess=function(e){t.user.is_followed=e.is_following,t.setUserStatusState="done"},this.setUserStatusFailure=function(e){t.setUserStatusState="error: "+e},Object(f.m)(this)},dn=["rgb(43,206,72)","rgb(240,163,255)","rgb(0,117,220)","rgb(153,63,0)","rgb(76,0,92)","rgb(225,225,225)","rgb(0,92,49)","rgb(255,204,153)","rgb(128,128,128)","rgb(148,255,181)","rgb(143,124,0)","rgb(157,204,0)","rgb(194,0,136)","rgb(0,51,128)","rgb(255,164,5)","rgb(255,168,187)","rgb(66,102,0)","rgb(255,0,16)","rgb(94,241,242)","rgb(0,153,143)","rgb(224,255,102)","rgb(116,10,255)","rgb(153,0,0)","rgb(255,255,128)","rgb(255,255,0)","rgb(255,80,)"];var hn=function(e){var t=e.games,n=e.stats,a=Object(r.useState)([]),c=Object(te.a)(a,2),i=c[0],o=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"},{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f",field:"spent_time",sort:"asc"}],l=Object(r.useState)({columns:u,rows:[]}),d=Object(te.a)(l,2),h=d[0],j=d[1];return Object(r.useEffect)((function(){j({columns:u,rows:[]}),t&&j({columns:u,rows:t.map((function(e){return{name:Object(s.jsx)("a",{className:"dataTable",href:window.location.origin+"/game/"+e.game.rawg_slug,children:e.game.rawg_name}),name2:e.game.rawg_name,status:e.status,score:e.score,review:e.review,spent_time:parseFloat(e.spent_time)}}))})}),[t]),Object(r.useEffect)((function(){if(o([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var s in n.genres)n.genres[s].spent_time_percent>2&&t<11&&(e.push({name:n.genres[s].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[s].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),o(e)}}),[n]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["\u0418\u0433\u0440 \u0441\u044b\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0438\u0433\u0440\u0430\u043d\u043e: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(s.jsx)(jt.e,{striped:!0,bordered:!0,small:!0,data:h,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0433\u0440 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",className:"dataTable",responsive:!0}),Object(s.jsx)("div",{hidden:i.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(s.jsxs)(Yt.d,{width:document.body.clientWidth-25,height:40*i.length,data:i,margin:{top:5,right:0,left:25,bottom:20},layout:"vertical",children:[Object(s.jsx)(Yt.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(s.jsx)(Yt.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]}):Object(s.jsxs)(Yt.d,{width:Math.min(100*i.length,document.body.clientWidth),height:300,data:i,margin:{top:5,right:10,left:10,bottom:20},children:[Object(s.jsx)(Yt.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(s.jsx)(Yt.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]})})]})};var jn=function(e){var t=e.movies,n=e.stats,a=Object(r.useState)([]),c=Object(te.a)(a,2),i=c[0],o=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"}],l=Object(r.useState)({columns:u,rows:[]}),d=Object(te.a)(l,2),h=d[0],j=d[1];return Object(r.useEffect)((function(){j({columns:u,rows:[]}),t&&j({columns:u,rows:t.map((function(e){return{name:Object(s.jsx)("a",{className:"dataTable",href:window.location.origin+"/movie/"+e.movie.tmdb_id,children:e.movie.tmdb_name}),name2:e.movie.tmdb_name,status:e.status,score:e.score,review:e.review}}))})}),[t]),Object(r.useEffect)((function(){if(o([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var s in n.genres)n.genres[s].spent_time_percent>2&&t<11&&(e.push({name:n.genres[s].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[s].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),o(e)}}),[n]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(s.jsx)(jt.e,{striped:!0,bordered:!0,small:!0,data:h,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",responsive:!0}),Object(s.jsx)("div",{hidden:i.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(s.jsxs)(Yt.d,{width:document.body.clientWidth-25,height:40*i.length,data:i,margin:{top:5,right:0,left:45,bottom:20},layout:"vertical",children:[Object(s.jsx)(Yt.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(s.jsx)(Yt.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]}):Object(s.jsxs)(Yt.d,{width:Math.min(100*i.length,document.body.clientWidth),height:300,data:i,margin:{top:5,right:10,left:10,bottom:15},children:[Object(s.jsx)(Yt.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(s.jsx)(Yt.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]})})]})};var bn=function(e){var t,n,r,a=e.log,c=e.showUsername,i=Object(ne.f)();return Object(s.jsxs)("div",{className:"logRow",children:[(r=a.created,new Date(r).toLocaleTimeString("ru-RU")),"\u2009",c?(t=a.user,n=a.user_id,Object(s.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:t})):"","\u2009",function(e,t){switch(e){case"score":switch(t){case"0":return"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430)";case"-1":return"\u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0430(\u0430)";default:return"\u043e\u0446\u0435\u043d\u0438\u043b(\u0430)"}case"status":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0441\u0442\u0430\u0442\u0443\u0441";case"review":return"\u043e\u0441\u0442\u0430\u0432\u0438\u043b(\u0430) \u043e\u0442\u0437\u044b\u0432 \u043d\u0430";case"spent_time":return"\u0438\u0437\u043c\u0435\u043d\u0438\u043b(\u0430) \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f";case"episodes":return t>0?"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430) "+t+" \u0441\u0435\u0440\u0438\u0439":"\u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b(\u0430) "+-1*t+" \u0441\u0435\u0440\u0438\u0439";case"is_following":return"True"===t?"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d(\u0430) \u043d\u0430":"\u043e\u0442\u043f\u0438\u0441\u0430\u043d(\u0430) \u043e\u0442";default:return e}}(a.action_type,a.action_result),"\u2009",function(e,t){switch(e){case"game":return"score"===t||"review"===t?"\u0438\u0433\u0440\u0443":"\u0438\u0433\u0440\u044b";case"movie":return"score"===t||"review"===t?"\u0444\u0438\u043b\u044c\u043c":"\u0444\u0438\u043b\u044c\u043c\u0430";case"show":return"score"===t||"review"===t?"\u0441\u0435\u0440\u0438\u0430\u043b":"\u0441\u0435\u0440\u0438\u0430\u043b\u0430";case"season":case"episode":return"";case"user":return"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";default:return e}}(a.type,a.action_type),"\u2009",function(e,t,n){switch(t){case"game":return Object(s.jsx)("a",{href:window.location.origin+"/game/"+n,className:"logLink",onClick:function(e){i.push("/game/"+n),e.preventDefault()},children:e});case"movie":return Object(s.jsx)("a",{href:window.location.origin+"/movie/"+n,className:"logLink",onClick:function(e){i.push("/movie/"+n),e.preventDefault()},children:e});case"show":return Object(s.jsx)("a",{href:window.location.origin+"/show/"+n,className:"logLink",onClick:function(e){i.push("/show/"+n),e.preventDefault()},children:e});case"season":return Object(s.jsxs)("div",{style:{display:"inline-block"},children:[Object(s.jsx)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number),e.preventDefault()},children:e.name}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(s.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"episode":return Object(s.jsxs)("div",{style:{display:"inline-block"},children:[Object(s.jsxs)("a",{href:window.location.origin+"/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id+"/season/"+n.season_number+"/episode/"+n.episode_number),e.preventDefault()},children:["[s",n.season_number,"e",n.episode_number,"] \u0441\u0435\u0440\u0438\u044e"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(s.jsx)("a",{href:window.location.origin+"/show/"+n.show_id,className:"logLink",onClick:function(e){i.push("/show/"+n.show_id),e.preventDefault()},children:e.parent_name})]});case"user":return Object(s.jsx)("a",{href:window.location.origin+"/user/"+n,className:"logLink",onClick:function(e){i.push("/user/"+n),e.preventDefault()},children:e});default:return e}}(a.target,a.type,a.target_id),"user"===a.type|"episodes"===a.action_type|"0"===a.action_result|"-1"===a.action_result?"":":","\u2009",function(e,t,n){switch(e){case"score":return"episode"!==n|t>0?Object(s.jsx)(Ft.a,{stop:10,emptySymbol:Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x"}),fullSymbol:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",title:e})})),initialRating:t,readonly:!0}):"";case"status":case"review":return'"'+t+'"';case"spent_time":return t+" "+(11<=(r=t)&&r<=14?"\u0447\u0430\u0441\u043e\u0432":r%10===1?"\u0447\u0430\u0441":2<=r%10&&r%10<=4?"\u0447\u0430\u0441\u0430":"\u0447\u0430\u0441\u043e\u0432");case"episodes":case"is_following":return"";default:return t}var r}(a.action_type,a.action_result,a.type)]})};var fn=function(e){var t=e.logs,n=e.showUsername,a=e.onChangePage,c=Object(r.useState)([]),i=Object(te.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(1),d=Object(te.a)(l,2),h=d[0],j=d[1];return Object(r.useEffect)((function(){u(function(e){var t=[];for(var n in e){var s=new Date(e[n].created);0===t.length?t.push({date:s,logs:[e[n]]}):s.getDay()===t[t.length-1].date.getDay()?t[t.length-1].logs.push(e[n]):t.push({date:s,logs:[e[n]]})}return t}(t.log))}),[t]),Object(s.jsxs)("div",{className:"logs",children:[o.map((function(e,t){return Object(s.jsxs)("div",{className:"logDay",children:[Object(s.jsx)("h5",{className:"logDate",children:e.date.toLocaleDateString("ru-RU")}),Object(s.jsx)("div",{className:"logRows",children:e.logs.map((function(e){return Object(s.jsx)(bn,{log:e,showUsername:n},e.id+e.created)}))})]},t)})),Object(s.jsx)("button",{className:"logPaginationButton",disabled:!t.has_next_page,onClick:function(){t.has_next_page&&(a(h+1),j(h+1))},children:Object(s.jsx)(jt.g,{icon:"arrow-down"})}),Object(s.jsx)("button",{className:"logPaginationButton",disabled:1===h,onClick:function(){h>1&&(a(h-1),j(h-1))},children:Object(s.jsx)(jt.g,{icon:"arrow-up"})})]})};var pn=function(e){var t=e.shows,n=e.stats,a=Object(r.useState)([]),c=Object(te.a)(a,2),i=c[0],o=c[1],u=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name",sort:"disabled"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"status",sort:"asc"},{label:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"score",sort:"asc"},{label:"\u041e\u0442\u0437\u044b\u0432",field:"review",sort:"asc"},{label:"\u0427\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",field:"spentTime",sort:"asc"}],l=Object(r.useState)({columns:u,rows:[]}),d=Object(te.a)(l,2),h=d[0],j=d[1];return Object(r.useEffect)((function(){j({columns:u,rows:[]}),t&&j({columns:u,rows:t.map((function(e){return{name:Object(s.jsx)("a",{className:"dataTable",href:window.location.origin+"/show/"+e.show.tmdb_id,children:e.show.tmdb_name}),name2:e.show.tmdb_name,status:e.status,score:e.score,review:e.review,spentTime:e.spent_time}}))})}),[t]),Object(r.useEffect)((function(){if(o([]),n&&(null===n||void 0===n?void 0:n.genres)){var e=[],t=0;for(var s in n.genres)n.genres[s].spent_time_percent>2&&t<11&&(e.push({name:n.genres[s].name,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442":n.genres[s].spent_time_percent}),t++);e=e.sort((function(e,t){return e["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]>t["\u041f\u0440\u043e\u0446\u0435\u043d\u0442"]?-1:1})),o(e)}}),[n]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["\u0421\u0435\u0440\u0438\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ",null===n||void 0===n?void 0:n.count,", \u0447\u0430\u0441\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",null===n||void 0===n?void 0:n.total_spent_time]}),Object(s.jsx)(jt.e,{striped:!0,bordered:!0,small:!0,data:h,info:!1,barReverse:!0,noBottomColumns:!0,noRecordsFoundLabel:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",paginationLabel:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"],entriesLabel:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",searchLabel:"\u041f\u043e\u0438\u0441\u043a",responsive:!0}),Object(s.jsx)("div",{hidden:i.length<1,children:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(s.jsxs)(Yt.d,{width:document.body.clientWidth-25,height:40*i.length,data:i,margin:{top:5,right:0,left:45,bottom:20},layout:"vertical",children:[Object(s.jsx)(Yt.l,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,tickMargin:0,type:"category"}),Object(s.jsx)(Yt.k,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"},type:"number"}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]}):Object(s.jsxs)(Yt.d,{width:Math.min(100*i.length,document.body.clientWidth),height:300,data:i,margin:{top:5,right:10,left:10,bottom:20},children:[Object(s.jsx)(Yt.k,{dataKey:"name",tickLine:!1,tick:{fill:"rgb(238, 238, 238)"},interval:0,angle:-10,tickMargin:15}),Object(s.jsx)(Yt.l,{domain:[0,"dataMax"],tick:{fill:"rgb(238, 238, 238)"}}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.c,{dataKey:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",children:i.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))})]})})]})};var mn=function(e){var t=e.stats,n=Object(r.useState)([]),a=Object(te.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){if(i([]),null===t||void 0===t?void 0:t.games){var e,n,s,r,a,c,o=[];(null===t||void 0===t||null===(e=t.games)||void 0===e?void 0:e.total_spent_time)>0&&o.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0438\u0433\u0440\u0430\u0445",value:null===t||void 0===t||null===(n=t.games)||void 0===n?void 0:n.total_spent_time}),(null===t||void 0===t||null===(s=t.movies)||void 0===s?void 0:s.total_spent_time)>0&&o.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0444\u0438\u043b\u044c\u043c\u0430\u0445",value:null===t||void 0===t||null===(r=t.movies)||void 0===r?void 0:r.total_spent_time}),(null===t||void 0===t||null===(a=t.episodes)||void 0===a?void 0:a.total_spent_time)>0&&o.push({name:"\u0427\u0430\u0441\u043e\u0432 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u0445",value:null===t||void 0===t||null===(c=t.episodes)||void 0===c?void 0:c.total_spent_time}),i(o)}}),[t]),Object(s.jsx)("div",{hidden:c.length<1,children:Object(s.jsxs)(Yt.h,{width:350,height:250,hidden:c.length<1,children:[Object(s.jsx)(Yt.g,{dataKey:"value",data:c,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",labelLine:!0,label:!0,minAngle:5,children:c.map((function(e,t){return Object(s.jsx)(Yt.e,{fill:dn[t]},t)}))}),Object(s.jsx)(Yt.j,{itemStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)"},contentStyle:{color:"rgb(238, 238, 238)",backgroundColor:"rgb(30, 30, 30)",borderRadius:"10px"},cursor:!1}),Object(s.jsx)(Yt.f,{verticalAlign:"bottom",horizontalAlign:"center"})]})})},gn=Object(u.a)((function(e){var t,n,a,c=ee.loggedIn,i=ee.currentUser,o=ln.user,u=ln.userState,l=ln.requestUser,d=ln.setUserStatus,h=ln.requestUserLogs,j=ln.userLogs,b=ln.userLogsState,f=ln.requestUserFriendsLogs,p=ln.userFriendsLogs,m=ln.userFriendsLogsState,g=Object(ne.g)(),v=g.userID,O=g.category,x=Object(r.useState)("\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),w=Object(te.a)(x,2),S=w[0],y=w[1],k=Object(r.useState)(""),_=Object(te.a)(k,2),I=_[0],N=_[1];return Object(r.useEffect)((function(){l(v),h(v,1,20),y("\u041f\u0440\u043e\u0444\u0438\u043b\u044c")}),[v,l,h]),Object(r.useEffect)((function(){y(O||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")}),[O]),Object(r.useEffect)((function(){c&&i.username===o.username&&f(v,1,20)}),[c,i.username,o.username]),Object(r.useEffect)((function(){if(document.title="\u041f\u0440\u043e\u0444\u0438\u043b\u044c "+o.username,o.last_activity){var e=new Date(o.last_activity),t={year:e.getFullYear()===(new Date).getFullYear()?void 0:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};N(e.toLocaleString("ru-RU",t))}else N("")}),[o]),Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsx)("div",{className:"bg "+(o.backdrop_path?"":" textureBG"),style:{backgroundImage:o.backdrop_path?"url(".concat(o.backdrop_path,")"):""}}),Object(s.jsx)(Ct.a,{active:"pending"===u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:Object(s.jsxs)("div",{className:"contentBody header",children:[Object(s.jsxs)("div",{className:"userHeader",children:[Object(s.jsxs)("div",{className:"userCard",children:[Object(s.jsx)("div",{className:"userAvatar",style:{backgroundImage:"url(".concat("http://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png",")")}}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:o.username}),Object(s.jsxs)("p",{hidden:!o.is_available,children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c ",I]})]})]}),Object(s.jsx)("button",{hidden:i.username===o.username||!o.is_available,className:"addFriendButton",onClick:function(){d({is_following:!o.is_followed},o.id)},children:o.is_followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(s.jsxs)(an,{categories:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c","\u0418\u0433\u0440\u044b","\u0424\u0438\u043b\u044c\u043c\u044b","\u0421\u0435\u0440\u0438\u0430\u043b\u044b","\u0414\u0440\u0443\u0437\u044c\u044f"],activeCategory:S,onChangeCategory:function(e){y(e)},children:[Object(s.jsxs)("div",{hidden:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"!==S,children:[Object(s.jsxs)("div",{hidden:!o.is_available,children:[Object(s.jsx)("h4",{children:"\u041c\u043e\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: "}),Object(s.jsxs)(Ct.a,{active:"pending"===b&&"pending"!==u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:[Object(s.jsx)(mn,{stats:o.stats}),Object(s.jsx)(fn,{logs:j,onChangePage:function(e){return h(v,e,20)}})]})]}),Object(s.jsxs)("h4",{hidden:o.is_available||"pending"===u,children:[Object(s.jsx)(jt.g,{icon:"lock",style:{marginRight:"1rem"}}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0441\u043a\u0440\u044b\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438"]})]}),Object(s.jsx)("div",{hidden:"\u0418\u0433\u0440\u044b"!==S,children:Object(s.jsx)(hn,{games:o.games,stats:null===o||void 0===o||null===(t=o.stats)||void 0===t?void 0:t.games})}),Object(s.jsx)("div",{hidden:"\u0424\u0438\u043b\u044c\u043c\u044b"!==S,children:Object(s.jsx)(jn,{movies:o.movies,stats:null===o||void 0===o||null===(n=o.stats)||void 0===n?void 0:n.movies})}),Object(s.jsx)("div",{hidden:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"!==S,children:Object(s.jsx)(pn,{shows:o.shows,stats:null===o||void 0===o||null===(a=o.stats)||void 0===a?void 0:a.episodes})}),Object(s.jsxs)("div",{hidden:"\u0414\u0440\u0443\u0437\u044c\u044f"!==S,children:[Object(s.jsx)(sn,{users:o.followed_users?o.followed_users:[]}),Object(s.jsxs)("div",{hidden:i.username!==o.username,children:[Object(s.jsx)("h4",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439: "}),Object(s.jsx)(Ct.a,{active:"pending"===m&&"pending"===!u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438...",children:Object(s.jsx)(fn,{logs:p,onChangePage:function(e){return f(v,e,20)},showUsername:!0})})]})]})]})]})})]})})),vn=n(209);n(466);var On=function(e){var t,n,r,a,c,i,o=e.day,u=e.date,l=Object(ne.f)();return Object(s.jsxs)("div",{className:"dayInfoBlock",children:[Object(s.jsx)("h3",{className:"dayInfoDate",children:u?u.toLocaleDateString("ru-RU",{year:u.getFullYear()===(new Date).getFullYear()?void 0:"numeric",month:"long",day:"numeric",weekday:"long"}):""}),Object(s.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===o||void 0===o||null===(t=o.games)||void 0===t?void 0:t.length)>0),children:[Object(s.jsx)("h3",{children:"\u0418\u0433\u0440\u044b"}),null===(n=o.games)||void 0===n?void 0:n.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:window.location.origin+"/game/"+e.rawg_slug,onClick:function(t){l.push("/game/"+e.rawg_slug),t.preventDefault()},children:e.rawg_name})},e.rawg_id)}))]}),Object(s.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===o||void 0===o||null===(r=o.movies)||void 0===r?void 0:r.length)>0),children:[Object(s.jsx)("h3",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),null===(a=o.movies)||void 0===a?void 0:a.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:window.location.origin+"/movie/"+e.tmdb_id,onClick:function(t){l.push("/movie/"+e.tmdb_id),t.preventDefault()},children:e.tmdb_name})},e.tmdb_id)}))]}),Object(s.jsxs)("div",{className:"dayInfoCategory",hidden:!((null===o||void 0===o||null===(c=o.episodes)||void 0===c?void 0:c.length)>0),children:[Object(s.jsx)("h3",{children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),null===(i=o.episodes)||void 0===i?void 0:i.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{display:"inline-block"},children:[Object(s.jsxs)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number,onClick:function(t){l.push("/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number),t.preventDefault()},children:["[s",e.tmdb_season_number,"e",e.tmdb_episode_number,"] \u0441\u0435\u0440\u0438\u044f"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(s.jsx)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id,onClick:function(t){l.push("/show/"+e.tmdb_show.tmdb_id),t.preventDefault()},children:e.tmdb_show.tmdb_name})]})},e.tmdb_id)}))]})]})},xn=n(116);var wn=function(e){var t=e.calendar,n=Object(ne.f)(),r={backgroundColor:"rgb(30, 30, 30)",color:"rgb(207, 207, 207)",border:"none"};function a(e){var t,r,a;return Object(s.jsxs)("div",{children:[null===(t=e.games)||void 0===t?void 0:t.map((function(e){return Object(s.jsxs)("div",{children:["\u0418\u0433\u0440\u0430"," ",Object(s.jsx)("a",{href:window.location.origin+"/game/"+e.rawg_slug,onClick:function(t){n.push("/game/"+e.rawg_slug),t.preventDefault()},children:e.rawg_name})]},e.rawg_id)})),null===(r=e.movies)||void 0===r?void 0:r.map((function(e){return Object(s.jsxs)("div",{children:["\u0424\u0438\u043b\u044c\u043c"," ",Object(s.jsx)("a",{href:window.location.origin+"/movie/"+e.tmdb_id,onClick:function(t){n.push("/movie/"+e.tmdb_id),t.preventDefault()},children:e.tmdb_name})]},e.tmdb_id)})),null===(a=e.episodes)||void 0===a?void 0:a.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{display:"inline-block"},children:[Object(s.jsxs)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number,onClick:function(t){n.push("/show/"+e.tmdb_show.tmdb_id+"/season/"+e.tmdb_season_number+"/episode/"+e.tmdb_episode_number),t.preventDefault()},children:["[s",e.tmdb_season_number,"e",e.tmdb_episode_number,"] \u0441\u0435\u0440\u0438\u044f"]}),"\u2009\u0441\u0435\u0440\u0438\u0430\u043b\u0430\u2009",Object(s.jsx)("a",{href:window.location.origin+"/show/"+e.tmdb_show.tmdb_id,onClick:function(t){n.push("/show/"+e.tmdb_show.tmdb_id),t.preventDefault()},children:e.tmdb_show.tmdb_name})]})},e.tmdb_id)}))]})}function c(e){var t,n,r,a,c,i,o,u,l;return(null===(t=e.games)||void 0===t?void 0:t.length)>0&!((null===(n=e.movies)||void 0===n?void 0:n.length)>0)&!((null===(r=e.episodes)||void 0===r?void 0:r.length)>0)?Object(s.jsx)(jt.g,{icon:"gamepad"}):(null===(a=e.movies)||void 0===a?void 0:a.length)>0&!((null===(c=e.games)||void 0===c?void 0:c.length)>0)&!((null===(i=e.episodes)||void 0===i?void 0:i.length)>0)?Object(s.jsx)(jt.g,{icon:"film"}):(null===(o=e.episodes)||void 0===o?void 0:o.length)>0&!((null===(u=e.movies)||void 0===u?void 0:u.length)>0)&!((null===(l=e.games)||void 0===l?void 0:l.length)>0)?Object(s.jsx)(jt.g,{icon:"tv"}):Object(s.jsx)(jt.g,{icon:"dice-d6"})}function i(e){var t,n=function(e){var t=new Date,n=(e.getTime()-t.getTime())/864e5;return n<1?t.getUTCDay()===e.getUTCDay()?0:1:parseInt(n)+1}(e);return n>0?"".concat(n," ").concat(11<=(t=n)&&t<=14?"\u0434\u043d\u0435\u0439":t%10===1?"\u0434\u0435\u043d\u044c":2<=t%10&&t%10<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"):"\u0441\u0435\u0433\u043e\u0434\u043d\u044f"}return Object(s.jsx)(xn.Timeline,{style:r,lineColor:"rgb(100, 100, 100)",children:null===t||void 0===t?void 0:t.map((function(e){var t=new Date(e[0]);return Object(s.jsx)(xn.TimelineEvent,{title:"".concat(i(t),", ").concat(t.toLocaleDateString("ru-RU",{year:t.getFullYear()===(new Date).getFullYear()?void 0:"numeric",month:"long",day:"numeric",weekday:"long"})),className:"timelineEvent",icon:c(e[1]),cardHeaderStyle:r,iconStyle:Object(Tt.a)(Object(Tt.a)({},r),{},{fontSize:"1.2rem"}),bubbleStyle:r,contentStyle:Object(Tt.a)(Object(Tt.a)({},r),{},{fontSize:"1.1rem",marginTop:"0.2rem",marginBottom:"0.2rem"}),titleStyle:Object(Tt.a)(Object(Tt.a)({},r),{},{fontSize:"1.1rem"}),subtitleStyle:r,children:a(e[1])},e[0])}))})},Sn=Object(u.a)((function(e){var t=ee.loggedIn,n=It.calendar,a=It.calendarState,c=It.requestCalendar,i=Object(r.useState)(new Date),o=Object(te.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)({}),h=Object(te.a)(d,2),j=h[0],b=h[1];return Object(r.useEffect)((function(){t&&c()}),[t,c]),Object(r.useEffect)((function(){a.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(a))}),[a]),Object(r.useEffect)((function(){n&&(kn(u)in n?b(n[kn(u)]):b({}))}),[u,n]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg textureBG"}),Object(s.jsx)("div",{className:"contentPage",children:Object(s.jsxs)("div",{className:"contentBody header",children:[Object(s.jsx)("h1",{className:"calendarHeader",children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0440\u0435\u043b\u0438\u0437\u043e\u0432"}),Object(s.jsxs)(Ct.a,{active:"pending"===a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(s.jsx)(On,{day:j,date:u}):"",Object(s.jsx)(vn.a,{className:"calendar",onChange:l,value:u,defaultView:"month",minDetail:"decade",locale:"ru-RU",minDate:new Date,tileContent:function(e){e.activeStartDate;var t=e.date;if("month"===e.view&&kn(t)in n){var r,a,c,i,o,u,l=n[kn(t)];return Object(s.jsxs)("div",{className:"calendarDay",children:[Object(s.jsx)("div",{className:"calendarDayTile Games",hidden:!((null===l||void 0===l||null===(r=l.games)||void 0===r?void 0:r.length)>0),children:null===l||void 0===l||null===(a=l.games)||void 0===a?void 0:a.length}),Object(s.jsx)("div",{className:"calendarDayTile Movies",hidden:!((null===l||void 0===l||null===(c=l.movies)||void 0===c?void 0:c.length)>0),children:null===l||void 0===l||null===(i=l.movies)||void 0===i?void 0:i.length}),Object(s.jsx)("div",{className:"calendarDayTile Episodes",hidden:!((null===l||void 0===l||null===(o=l.episodes)||void 0===o?void 0:o.length)>0),children:null===l||void 0===l||null===(u=l.episodes)||void 0===u?void 0:u.length})]})}return null}}),/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"":Object(s.jsx)(On,{day:j,date:u}),Object(s.jsx)(wn,{calendar:Object.entries(n)})]})]})})]})}));function yn(e){return e<10?"0"+e:e}function kn(e){return e.getFullYear()+"-"+yn(e.getMonth()+1)+"-"+yn(e.getDate())}var _n=Object(u.a)((function(e){var t=ee.loggedIn,n=ee.user,a=It.settings,c=It.requestSettings,i=It.patchSettings,o=It.settingsState,u=It.saveSettingsState,l=Object(r.useState)(!1),d=Object(te.a)(l,2),h=d[0],j=d[1],b=Object(r.useState)(!1),f=Object(te.a)(b,2),p=f[0],m=f[1],g=Object(r.useState)(!1),v=Object(te.a)(g,2),O=v[0],x=v[1],w=Object(r.useState)("\u0412\u0441\u0435"),S=Object(te.a)(w,2),y=S[0],k=S[1];return Object(r.useEffect)((function(){t&&c()}),[t]),Object(r.useEffect)((function(){"saved"===u&&wt.b.success("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"),u.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f! ".concat(u))}),[u]),Object(r.useEffect)((function(){o.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(o))}),[o]),Object(r.useEffect)((function(){a.receive_games_releases&&j(a.receive_games_releases),a.receive_movies_releases&&m(a.receive_movies_releases),a.receive_episodes_releases&&x(a.receive_episodes_releases),a.privacy&&k(a.privacy)}),[a]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg textureBG"}),Object(s.jsx)("div",{className:"contentPage",children:Object(s.jsxs)("div",{className:"contentBody",children:[Object(s.jsx)("h1",{className:"settingsHeader",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(s.jsx)("h3",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:"}),Object(s.jsxs)(Ct.a,{active:"pending"===o||"pending"===u,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(s.jsxs)("div",{className:"settingsRow",onClick:function(){return j(!h)},children:[Object(s.jsx)("input",{type:"checkbox",className:"settingsCheckbox",checked:h,onChange:function(e){return j(e.target.checked)}})," \u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440"]}),Object(s.jsxs)("div",{className:"settingsRow",onClick:function(){return m(!p)},children:[Object(s.jsx)("input",{type:"checkbox",className:"settingsCheckbox",checked:p,onChange:function(e){return m(e.target.checked)}})," \u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"]}),Object(s.jsxs)("div",{className:"settingsRow",onClick:function(){return x(!O)},children:[Object(s.jsx)("input",{type:"checkbox",className:"settingsCheckbox",checked:O,onChange:function(e){return x(e.target.checked)}})," \u0440\u0435\u043b\u0438\u0437 \u043d\u043e\u0432\u044b\u0445 \u0441\u0435\u0440\u0438\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432"]}),Object(s.jsxs)("div",{className:"settingsRow",children:[Object(s.jsx)("label",{htmlFor:"privacySelect",children:"\u041a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c:"}),Object(s.jsxs)("select",{id:"privacySelect",name:"privacySelect",onChange:function(e){k(e.target.value)},value:y,children:[Object(s.jsx)("option",{value:"\u0412\u0441\u0435",children:"\u0412\u0441\u0435"}),Object(s.jsx)("option",{value:"\u041d\u0438\u043a\u0442\u043e",children:"\u041d\u0438\u043a\u0442\u043e"}),Object(s.jsx)("option",{value:"\u0414\u0440\u0443\u0437\u044c\u044f",children:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})]})]}),Object(s.jsx)("div",{className:"settingsRow",hidden:!(a.privacy!==y&&"\u041d\u0438\u043a\u0442\u043e"===y),children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041f\u043e\u043b\u043d\u043e\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0434\u0430\u043b\u0438\u0442 \u0432\u0430\u0441 \u0438\u0437 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439!"}),Object(s.jsx)("button",{className:"saveSettingsButton",disabled:!t,onClick:function(){i({receive_games_releases:h,receive_movies_releases:p,receive_episodes_releases:O,privacy:y})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(s.jsxs)("p",{children:["\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430 ",n.email]})]})})]})}));var In=function(e){var t,n=e.episode,r=e.showID,a=e.seasonNumber,c=e.setShowEpisodeUserStatus,i=e.loggedIn,o=Object(ne.f)();return Object(s.jsxs)("div",{className:"episodeRow detailRow",children:[Object(s.jsx)("div",{className:"episodeRowCheckDate",children:Object(s.jsx)("p",{className:"episodeRowDate",children:(t=n.tmdb_release_date,new Date(t).toLocaleDateString("ru-RU"))})}),Object(s.jsx)("div",{hidden:!i,className:"episodeRowRate",children:Object(s.jsx)(Ft.a,{start:-1,stop:10,emptySymbol:[Object(s.jsx)(jt.g,{icon:"eye-slash"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{far:!0,icon:"star",size:"1x"})}))),fullSymbol:[Object(s.jsx)(jt.g,{icon:"eye"})].concat([1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(s.jsx)(jt.g,{icon:"star",size:"1x",title:e})}))),readonly:!i,initialRating:-1,onChange:function(e){c({episodes:[{tmdb_id:n.tmdb_id,score:e}]},r)}})}),Object(s.jsxs)("a",{className:"episodeRowName episodeLink detailRow",href:window.location.origin+"/show/"+r+"/season/"+a+"/episode/"+n.tmdb_episode_number,onClick:function(e){o.push("/show/"+r+"/season/"+a+"/episode/"+n.tmdb_episode_number),e.preventDefault()},title:n.tmdb_name,children:["\u0421\u0435\u0440\u0438\u044f ",n.tmdb_episode_number," - ",n.tmdb_name]})]})};var Nn=function(e){var t=e.loggedIn,n=e.show,a=e.setShowEpisodeUserStatus,c=Object(ne.f)();function i(e,t){var n=localStorage.getItem("".concat(e,"_").concat(t));return!n||"true"===n}return Object(r.useEffect)((function(){}),[n]),Object(s.jsxs)("div",{className:"unwatchedShowBlock",children:[Object(s.jsx)("a",{href:window.location.origin+"/show/"+n.tmdb_id,onClick:function(e){c.push("/show/"+n.tmdb_id),e.preventDefault()},children:Object(s.jsx)("h4",{children:null===n||void 0===n?void 0:n.tmdb_name})}),null===n||void 0===n?void 0:n.seasons.map((function(e,r){return Object(s.jsxs)("details",{open:i(n.tmdb_id,e.tmdb_season_number),className:"unwatchedSeasonBlock",onToggle:function(t){return s=n.tmdb_id,r=e.tmdb_season_number,a=t.target.open,void localStorage.setItem("".concat(s,"_").concat(r),a);var s,r,a},children:[Object(s.jsx)("summary",{children:e.tmdb_name}),Object(s.jsx)("ul",{class:"content",children:e.episodes.map((function(r,c){return Object(s.jsx)("li",{className:"episode",children:Object(s.jsx)(In,{episode:r,showID:n.tmdb_id,seasonNumber:e.tmdb_season_number,setShowEpisodeUserStatus:a,loggedIn:t})},c)}))})]},r)}))]})},Cn=Object(u.a)((function(e){var t=ee.loggedIn,n=It.unwatched,a=It.requestUnwatched,c=It.unwatchedState,i=Mt.setEpisodesStatus;return Object(r.useEffect)((function(){c.startsWith("error:")&&wt.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(c))}),[c]),Object(r.useEffect)((function(){t&&a()}),[t]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"bg textureBG"}),Object(s.jsx)("div",{className:"contentPage",children:Object(s.jsxs)("div",{className:"contentBody header",children:[Object(s.jsx)("h1",{children:"\u041d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0438\u0438"}),Object(s.jsx)(Ct.a,{active:"pending"===c,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:n.map((function(e){return Object(s.jsx)(Nn,{show:e,setShowEpisodeUserStatus:i,loggedIn:t},e.id)}))})]})})]})}));var En=function(){var e=Object(r.useState)(0),t=Object(te.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){window.requestAnimationFrame((function(){return a(n+1)}))}),[n]),Object(s.jsxs)("div",{className:"contentPage",children:[Object(s.jsx)("div",{className:"bg"}),Object(s.jsx)("div",{className:"contentBody header",children:Object(s.jsxs)("div",{className:"notFound",children:[Object(s.jsx)("p",{style:{fontSize:"3rem"},children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"}),Object(s.jsx)("div",{style:{transform:"rotate(".concat(n,"deg)")},children:Object(s.jsx)("img",{src:"images/wrongPage.png",alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",style:{width:"500px",maxWidth:"80%"}})})]})})]})},Fn=function(e){Object(St.a)(n,e);var t=Object(yt.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(ne.c,{children:[Object(s.jsx)(ne.a,{exact:!0,path:"/",component:kt}),Object(s.jsx)(ne.a,{exact:!0,path:"/game/:id",component:zt}),Object(s.jsx)(ne.a,{exact:!0,path:"/movie/:id",component:Pt}),Object(s.jsx)(ne.a,{exact:!0,path:"/show/:id",component:Kt}),Object(s.jsx)(ne.a,{exact:!0,path:"/show/:show_id/season/:number",component:Qt}),Object(s.jsx)(ne.a,{exact:!0,path:"/show/:show_id/season/:season_number/episode/:episode_number",component:Jt}),Object(s.jsx)(ne.a,{exact:!0,path:"/search/:query",component:cn}),Object(s.jsx)(ne.a,{exact:!0,path:"/confirm/",component:on}),Object(s.jsx)(ne.a,{exact:!0,path:"/confirm_password/",component:un}),Object(s.jsx)(ne.a,{exact:!0,path:"/user/:userID",component:gn}),Object(s.jsx)(ne.a,{exact:!0,path:"/user/:userID/:category",component:gn}),Object(s.jsx)(ne.a,{exact:!0,path:"/calendar",component:Sn}),Object(s.jsx)(ne.a,{exact:!0,path:"/settings",component:_n}),Object(s.jsx)(ne.a,{exact:!0,path:"/unwatched",component:Cn}),Object(s.jsx)(ne.a,{component:En})]})}}]),n}(a.a.Component),Bn=Object(u.a)((function(e){var t=ee.checkAuthorization;return Object(r.useEffect)((function(){window.addEventListener("scroll",(function(){console.log("\u043f\u0440\u0438\u0432\u0435\u0442"),(document.documentElement.scrollTop||document.body.scrollTop)>100&&console.log("\u043f\u0440\u0438\u0432\u0435\u0442")})),t()}),[]),Object(s.jsxs)("div",{className:"mainDiv",children:[Object(s.jsxs)(o.a,{children:[Object(s.jsx)(ft,{}),Object(s.jsx)(gt,{}),Object(s.jsx)(Fn,{})]}),Object(s.jsx)(pt,{}),Object(s.jsx)(wt.a,{position:"top-center",hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,autoClose:3e3}),Object(s.jsx)(vt,{}),Object(s.jsx)(Ot,{}),Object(s.jsx)(xt,{})]})})),Un=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(s.jsx)(Bn,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Un?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qn(t,e)}))}}()}},[[470,1,2]]]);
//# sourceMappingURL=main.32c52624.chunk.js.map